(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const s of i)if(s.type==="childList")for(const l of s.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(i){const s={};return i.integrity&&(s.integrity=i.integrity),i.referrerPolicy&&(s.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?s.credentials="include":i.crossOrigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function r(i){if(i.ep)return;i.ep=!0;const s=t(i);fetch(i.href,s)}})();var mo,oe,sf,ui,Eh,of,tc,af,Pc,nc,rc,lf,no={},cf=[],l_=/acit|ex(?:s|g|n|p|$)|rph|grid|ows|mnc|ntw|ine[ch]|zoo|^ord|itera/i,nl=Array.isArray;function Zn(n,e){for(var t in e)n[t]=e[t];return n}function Nc(n){n&&n.parentNode&&n.parentNode.removeChild(n)}function le(n,e,t){var r,i,s,l={};for(s in e)s=="key"?r=e[s]:s=="ref"?i=e[s]:l[s]=e[s];if(arguments.length>2&&(l.children=arguments.length>3?mo.call(arguments,2):t),typeof n=="function"&&n.defaultProps!=null)for(s in n.defaultProps)l[s]===void 0&&(l[s]=n.defaultProps[s]);return Qs(n,l,r,i,null)}function Qs(n,e,t,r,i){var s={type:n,props:e,key:t,ref:r,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:i??++sf,__i:-1,__u:0};return i==null&&oe.vnode!=null&&oe.vnode(s),s}function uf(){return{current:null}}function ut(n){return n.children}function tn(n,e){this.props=n,this.context=e}function Yi(n,e){if(e==null)return n.__?Yi(n.__,n.__i+1):null;for(var t;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null)return t.__e;return typeof n.type=="function"?Yi(n):null}function hf(n){var e,t;if((n=n.__)!=null&&n.__c!=null){for(n.__e=n.__c.base=null,e=0;e<n.__k.length;e++)if((t=n.__k[e])!=null&&t.__e!=null){n.__e=n.__c.base=t.__e;break}return hf(n)}}function ic(n){(!n.__d&&(n.__d=!0)&&ui.push(n)&&!Na.__r++||Eh!==oe.debounceRendering)&&((Eh=oe.debounceRendering)||of)(Na)}function Na(){var n,e,t,r,i,s,l,c;for(ui.sort(tc);n=ui.shift();)n.__d&&(e=ui.length,r=void 0,s=(i=(t=n).__v).__e,l=[],c=[],t.__P&&((r=Zn({},i)).__v=i.__v+1,oe.vnode&&oe.vnode(r),kc(t.__P,r,i,t.__n,t.__P.namespaceURI,32&i.__u?[s]:null,l,s??Yi(i),!!(32&i.__u),c),r.__v=i.__v,r.__.__k[r.__i]=r,pf(l,r,c),r.__e!=s&&hf(r)),ui.length>e&&ui.sort(tc));Na.__r=0}function df(n,e,t,r,i,s,l,c,h,f,E){var _,I,C,k,F,D,L=r&&r.__k||cf,U=e.length;for(h=c_(t,e,L,h,U),_=0;_<U;_++)(C=t.__k[_])!=null&&(I=C.__i===-1?no:L[C.__i]||no,C.__i=_,D=kc(n,C,I,i,s,l,c,h,f,E),k=C.__e,C.ref&&I.ref!=C.ref&&(I.ref&&xc(I.ref,null,C),E.push(C.ref,C.__c||k,C)),F==null&&k!=null&&(F=k),4&C.__u||I.__k===C.__k?h=ff(C,h,n):typeof C.type=="function"&&D!==void 0?h=D:k&&(h=k.nextSibling),C.__u&=-7);return t.__e=F,h}function c_(n,e,t,r,i){var s,l,c,h,f,E=t.length,_=E,I=0;for(n.__k=new Array(i),s=0;s<i;s++)(l=e[s])!=null&&typeof l!="boolean"&&typeof l!="function"?(h=s+I,(l=n.__k[s]=typeof l=="string"||typeof l=="number"||typeof l=="bigint"||l.constructor==String?Qs(null,l,null,null,null):nl(l)?Qs(ut,{children:l},null,null,null):l.constructor===void 0&&l.__b>0?Qs(l.type,l.props,l.key,l.ref?l.ref:null,l.__v):l).__=n,l.__b=n.__b+1,c=null,(f=l.__i=u_(l,t,h,_))!==-1&&(_--,(c=t[f])&&(c.__u|=2)),c==null||c.__v===null?(f==-1&&I--,typeof l.type!="function"&&(l.__u|=4)):f!=h&&(f==h-1?I--:f==h+1?I++:(f>h?I--:I++,l.__u|=4))):n.__k[s]=null;if(_)for(s=0;s<E;s++)(c=t[s])!=null&&!(2&c.__u)&&(c.__e==r&&(r=Yi(c)),mf(c,c));return r}function ff(n,e,t){var r,i;if(typeof n.type=="function"){for(r=n.__k,i=0;r&&i<r.length;i++)r[i]&&(r[i].__=n,e=ff(r[i],e,t));return e}n.__e!=e&&(e&&n.type&&!t.contains(e)&&(e=Yi(n)),t.insertBefore(n.__e,e||null),e=n.__e);do e=e&&e.nextSibling;while(e!=null&&e.nodeType==8);return e}function rr(n,e){return e=e||[],n==null||typeof n=="boolean"||(nl(n)?n.some(function(t){rr(t,e)}):e.push(n)),e}function u_(n,e,t,r){var i,s,l=n.key,c=n.type,h=e[t];if(h===null||h&&l==h.key&&c===h.type&&!(2&h.__u))return t;if(r>(h!=null&&!(2&h.__u)?1:0))for(i=t-1,s=t+1;i>=0||s<e.length;){if(i>=0){if((h=e[i])&&!(2&h.__u)&&l==h.key&&c===h.type)return i;i--}if(s<e.length){if((h=e[s])&&!(2&h.__u)&&l==h.key&&c===h.type)return s;s++}}return-1}function Th(n,e,t){e[0]=="-"?n.setProperty(e,t??""):n[e]=t==null?"":typeof t!="number"||l_.test(e)?t:t+"px"}function ca(n,e,t,r,i){var s;e:if(e=="style")if(typeof t=="string")n.style.cssText=t;else{if(typeof r=="string"&&(n.style.cssText=r=""),r)for(e in r)t&&e in t||Th(n.style,e,"");if(t)for(e in t)r&&t[e]===r[e]||Th(n.style,e,t[e])}else if(e[0]=="o"&&e[1]=="n")s=e!=(e=e.replace(af,"$1")),e=e.toLowerCase()in n||e=="onFocusOut"||e=="onFocusIn"?e.toLowerCase().slice(2):e.slice(2),n.l||(n.l={}),n.l[e+s]=t,t?r?t.u=r.u:(t.u=Pc,n.addEventListener(e,s?rc:nc,s)):n.removeEventListener(e,s?rc:nc,s);else{if(i=="http://www.w3.org/2000/svg")e=e.replace(/xlink(H|:h)/,"h").replace(/sName$/,"s");else if(e!="width"&&e!="height"&&e!="href"&&e!="list"&&e!="form"&&e!="tabIndex"&&e!="download"&&e!="rowSpan"&&e!="colSpan"&&e!="role"&&e!="popover"&&e in n)try{n[e]=t??"";break e}catch{}typeof t=="function"||(t==null||t===!1&&e[4]!="-"?n.removeAttribute(e):n.setAttribute(e,e=="popover"&&t==1?"":t))}}function Ih(n){return function(e){if(this.l){var t=this.l[e.type+n];if(e.t==null)e.t=Pc++;else if(e.t<t.u)return;return t(oe.event?oe.event(e):e)}}}function kc(n,e,t,r,i,s,l,c,h,f){var E,_,I,C,k,F,D,L,U,G,Y,fe,pe,P,w,v,T,A=e.type;if(e.constructor!==void 0)return null;128&t.__u&&(h=!!(32&t.__u),s=[c=e.__e=t.__e]),(E=oe.__b)&&E(e);e:if(typeof A=="function")try{if(L=e.props,U="prototype"in A&&A.prototype.render,G=(E=A.contextType)&&r[E.__c],Y=E?G?G.props.value:E.__:r,t.__c?D=(_=e.__c=t.__c).__=_.__E:(U?e.__c=_=new A(L,Y):(e.__c=_=new tn(L,Y),_.constructor=A,_.render=d_),G&&G.sub(_),_.props=L,_.state||(_.state={}),_.context=Y,_.__n=r,I=_.__d=!0,_.__h=[],_._sb=[]),U&&_.__s==null&&(_.__s=_.state),U&&A.getDerivedStateFromProps!=null&&(_.__s==_.state&&(_.__s=Zn({},_.__s)),Zn(_.__s,A.getDerivedStateFromProps(L,_.__s))),C=_.props,k=_.state,_.__v=e,I)U&&A.getDerivedStateFromProps==null&&_.componentWillMount!=null&&_.componentWillMount(),U&&_.componentDidMount!=null&&_.__h.push(_.componentDidMount);else{if(U&&A.getDerivedStateFromProps==null&&L!==C&&_.componentWillReceiveProps!=null&&_.componentWillReceiveProps(L,Y),!_.__e&&(_.shouldComponentUpdate!=null&&_.shouldComponentUpdate(L,_.__s,Y)===!1||e.__v==t.__v)){for(e.__v!=t.__v&&(_.props=L,_.state=_.__s,_.__d=!1),e.__e=t.__e,e.__k=t.__k,e.__k.some(function(R){R&&(R.__=e)}),fe=0;fe<_._sb.length;fe++)_.__h.push(_._sb[fe]);_._sb=[],_.__h.length&&l.push(_);break e}_.componentWillUpdate!=null&&_.componentWillUpdate(L,_.__s,Y),U&&_.componentDidUpdate!=null&&_.__h.push(function(){_.componentDidUpdate(C,k,F)})}if(_.context=Y,_.props=L,_.__P=n,_.__e=!1,pe=oe.__r,P=0,U){for(_.state=_.__s,_.__d=!1,pe&&pe(e),E=_.render(_.props,_.state,_.context),w=0;w<_._sb.length;w++)_.__h.push(_._sb[w]);_._sb=[]}else do _.__d=!1,pe&&pe(e),E=_.render(_.props,_.state,_.context),_.state=_.__s;while(_.__d&&++P<25);_.state=_.__s,_.getChildContext!=null&&(r=Zn(Zn({},r),_.getChildContext())),U&&!I&&_.getSnapshotBeforeUpdate!=null&&(F=_.getSnapshotBeforeUpdate(C,k)),c=df(n,nl(v=E!=null&&E.type===ut&&E.key==null?E.props.children:E)?v:[v],e,t,r,i,s,l,c,h,f),_.base=e.__e,e.__u&=-161,_.__h.length&&l.push(_),D&&(_.__E=_.__=null)}catch(R){if(e.__v=null,h||s!=null)if(R.then){for(e.__u|=h?160:128;c&&c.nodeType==8&&c.nextSibling;)c=c.nextSibling;s[s.indexOf(c)]=null,e.__e=c}else for(T=s.length;T--;)Nc(s[T]);else e.__e=t.__e,e.__k=t.__k;oe.__e(R,e,t)}else s==null&&e.__v==t.__v?(e.__k=t.__k,e.__e=t.__e):c=e.__e=h_(t.__e,e,t,r,i,s,l,h,f);return(E=oe.diffed)&&E(e),128&e.__u?void 0:c}function pf(n,e,t){for(var r=0;r<t.length;r++)xc(t[r],t[++r],t[++r]);oe.__c&&oe.__c(e,n),n.some(function(i){try{n=i.__h,i.__h=[],n.some(function(s){s.call(i)})}catch(s){oe.__e(s,i.__v)}})}function h_(n,e,t,r,i,s,l,c,h){var f,E,_,I,C,k,F,D=t.props,L=e.props,U=e.type;if(U=="svg"?i="http://www.w3.org/2000/svg":U=="math"?i="http://www.w3.org/1998/Math/MathML":i||(i="http://www.w3.org/1999/xhtml"),s!=null){for(f=0;f<s.length;f++)if((C=s[f])&&"setAttribute"in C==!!U&&(U?C.localName==U:C.nodeType==3)){n=C,s[f]=null;break}}if(n==null){if(U==null)return document.createTextNode(L);n=document.createElementNS(i,U,L.is&&L),c&&(oe.__m&&oe.__m(e,s),c=!1),s=null}if(U===null)D===L||c&&n.data===L||(n.data=L);else{if(s=s&&mo.call(n.childNodes),D=t.props||no,!c&&s!=null)for(D={},f=0;f<n.attributes.length;f++)D[(C=n.attributes[f]).name]=C.value;for(f in D)if(C=D[f],f!="children"){if(f=="dangerouslySetInnerHTML")_=C;else if(!(f in L)){if(f=="value"&&"defaultValue"in L||f=="checked"&&"defaultChecked"in L)continue;ca(n,f,null,C,i)}}for(f in L)C=L[f],f=="children"?I=C:f=="dangerouslySetInnerHTML"?E=C:f=="value"?k=C:f=="checked"?F=C:c&&typeof C!="function"||D[f]===C||ca(n,f,C,D[f],i);if(E)c||_&&(E.__html===_.__html||E.__html===n.innerHTML)||(n.innerHTML=E.__html),e.__k=[];else if(_&&(n.innerHTML=""),df(n,nl(I)?I:[I],e,t,r,U=="foreignObject"?"http://www.w3.org/1999/xhtml":i,s,l,s?s[0]:t.__k&&Yi(t,0),c,h),s!=null)for(f=s.length;f--;)Nc(s[f]);c||(f="value",U=="progress"&&k==null?n.removeAttribute("value"):k!==void 0&&(k!==n[f]||U=="progress"&&!k||U=="option"&&k!==D[f])&&ca(n,f,k,D[f],i),f="checked",F!==void 0&&F!==n[f]&&ca(n,f,F,D[f],i))}return n}function xc(n,e,t){try{if(typeof n=="function"){var r=typeof n.__u=="function";r&&n.__u(),r&&e==null||(n.__u=n(e))}else n.current=e}catch(i){oe.__e(i,t)}}function mf(n,e,t){var r,i;if(oe.unmount&&oe.unmount(n),(r=n.ref)&&(r.current&&r.current!==n.__e||xc(r,null,e)),(r=n.__c)!=null){if(r.componentWillUnmount)try{r.componentWillUnmount()}catch(s){oe.__e(s,e)}r.base=r.__P=null}if(r=n.__k)for(i=0;i<r.length;i++)r[i]&&mf(r[i],e,t||typeof n.type!="function");t||Nc(n.__e),n.__c=n.__=n.__e=void 0}function d_(n,e,t){return this.constructor(n,t)}function ro(n,e,t){var r,i,s,l;e==document&&(e=document.documentElement),oe.__&&oe.__(n,e),i=(r=typeof t=="function")?null:t&&t.__k||e.__k,s=[],l=[],kc(e,n=(!r&&t||e).__k=le(ut,null,[n]),i||no,no,e.namespaceURI,!r&&t?[t]:i?null:e.firstChild?mo.call(e.childNodes):null,s,!r&&t?t:i?i.__e:e.firstChild,r,l),pf(s,n,l)}function gf(n,e){ro(n,e,gf)}function f_(n,e,t){var r,i,s,l,c=Zn({},n.props);for(s in n.type&&n.type.defaultProps&&(l=n.type.defaultProps),e)s=="key"?r=e[s]:s=="ref"?i=e[s]:c[s]=e[s]===void 0&&l!==void 0?l[s]:e[s];return arguments.length>2&&(c.children=arguments.length>3?mo.call(arguments,2):t),Qs(n.type,c,r||n.key,i||n.ref,null)}function jt(n,e){var t={__c:e="__cC"+lf++,__:n,Consumer:function(r,i){return r.children(i)},Provider:function(r){var i,s;return this.getChildContext||(i=new Set,(s={})[e]=this,this.getChildContext=function(){return s},this.componentWillUnmount=function(){i=null},this.shouldComponentUpdate=function(l){this.props.value!==l.value&&i.forEach(function(c){c.__e=!0,ic(c)})},this.sub=function(l){i.add(l);var c=l.componentWillUnmount;l.componentWillUnmount=function(){i&&i.delete(l),c&&c.call(l)}}),r.children}};return t.Provider.__=t.Consumer.contextType=t}mo=cf.slice,oe={__e:function(n,e,t,r){for(var i,s,l;e=e.__;)if((i=e.__c)&&!i.__)try{if((s=i.constructor)&&s.getDerivedStateFromError!=null&&(i.setState(s.getDerivedStateFromError(n)),l=i.__d),i.componentDidCatch!=null&&(i.componentDidCatch(n,r||{}),l=i.__d),l)return i.__E=i}catch(c){n=c}throw n}},sf=0,tn.prototype.setState=function(n,e){var t;t=this.__s!=null&&this.__s!==this.state?this.__s:this.__s=Zn({},this.state),typeof n=="function"&&(n=n(Zn({},t),this.props)),n&&Zn(t,n),n!=null&&this.__v&&(e&&this._sb.push(e),ic(this))},tn.prototype.forceUpdate=function(n){this.__v&&(this.__e=!0,n&&this.__h.push(n),ic(this))},tn.prototype.render=ut,ui=[],of=typeof Promise=="function"?Promise.prototype.then.bind(Promise.resolve()):setTimeout,tc=function(n,e){return n.__v.__b-e.__v.__b},Na.__r=0,af=/(PointerCapture)$|Capture$/i,Pc=0,nc=Ih(!1),rc=Ih(!0),lf=0;var p_=0;function m(n,e,t,r,i,s){e||(e={});var l,c,h=e;"ref"in e&&(l=e.ref,delete e.ref);var f={type:n,props:h,key:t,ref:l,__k:null,__:null,__b:0,__e:null,__c:null,constructor:void 0,__v:--p_,__i:-1,__u:0,__source:i,__self:s};if(typeof n=="function"&&(l=n.defaultProps))for(c in l)h[c]===void 0&&(h[c]=l[c]);return oe.vnode&&oe.vnode(f),f}var lr,ke,jl,Ah,Zi=0,_f=[],$e=oe,Sh=$e.__b,Ch=$e.__r,Rh=$e.diffed,Ph=$e.__c,Nh=$e.unmount,kh=$e.__;function Ei(n,e){$e.__h&&$e.__h(ke,n,Zi||e),Zi=0;var t=ke.__H||(ke.__H={__:[],__h:[]});return n>=t.__.length&&t.__.push({}),t.__[n]}function be(n){return Zi=1,rl(yf,n)}function rl(n,e,t){var r=Ei(lr++,2);if(r.t=n,!r.__c&&(r.__=[t?t(e):yf(void 0,e),function(c){var h=r.__N?r.__N[0]:r.__[0],f=r.t(h,c);h!==f&&(r.__N=[f,r.__[1]],r.__c.setState({}))}],r.__c=ke,!ke.u)){var i=function(c,h,f){if(!r.__c.__H)return!0;var E=r.__c.__H.__.filter(function(I){return!!I.__c});if(E.every(function(I){return!I.__N}))return!s||s.call(this,c,h,f);var _=r.__c.props!==c;return E.forEach(function(I){if(I.__N){var C=I.__[0];I.__=I.__N,I.__N=void 0,C!==I.__[0]&&(_=!0)}}),s&&s.call(this,c,h,f)||_};ke.u=!0;var s=ke.shouldComponentUpdate,l=ke.componentWillUpdate;ke.componentWillUpdate=function(c,h,f){if(this.__e){var E=s;s=void 0,i(c,h,f),s=E}l&&l.call(this,c,h,f)},ke.shouldComponentUpdate=i}return r.__N||r.__}function Dn(n,e){var t=Ei(lr++,3);!$e.__s&&Vc(t.__H,e)&&(t.__=n,t.i=e,ke.__H.__h.push(t))}function Fr(n,e){var t=Ei(lr++,4);!$e.__s&&Vc(t.__H,e)&&(t.__=n,t.i=e,ke.__h.push(t))}function Ti(n){return Zi=5,Ut(function(){return{current:n}},[])}function Oc(n,e,t){Zi=6,Fr(function(){return typeof n=="function"?(n(e()),function(){return n(null)}):n?(n.current=e(),function(){return n.current=null}):void 0},t==null?t:t.concat(n))}function Ut(n,e){var t=Ei(lr++,7);return Vc(t.__H,e)&&(t.__=n(),t.__H=e,t.__h=n),t.__}function Ur(n,e){return Zi=8,Ut(function(){return n},e)}function ye(n){var e=ke.context[n.__c],t=Ei(lr++,9);return t.c=n,e?(t.__==null&&(t.__=!0,e.sub(ke)),e.props.value):n.__}function Dc(n,e){$e.useDebugValue&&$e.useDebugValue(e?e(n):n)}function m_(n){var e=Ei(lr++,10),t=be();return e.__=n,ke.componentDidCatch||(ke.componentDidCatch=function(r,i){e.__&&e.__(r,i),t[1](r)}),[t[0],function(){t[1](void 0)}]}function Lc(){var n=Ei(lr++,11);if(!n.__){for(var e=ke.__v;e!==null&&!e.__m&&e.__!==null;)e=e.__;var t=e.__m||(e.__m=[0,0]);n.__="P"+t[0]+"-"+t[1]++}return n.__}function g_(){for(var n;n=_f.shift();)if(n.__P&&n.__H)try{n.__H.__h.forEach(ya),n.__H.__h.forEach(sc),n.__H.__h=[]}catch(e){n.__H.__h=[],$e.__e(e,n.__v)}}$e.__b=function(n){ke=null,Sh&&Sh(n)},$e.__=function(n,e){n&&e.__k&&e.__k.__m&&(n.__m=e.__k.__m),kh&&kh(n,e)},$e.__r=function(n){Ch&&Ch(n),lr=0;var e=(ke=n.__c).__H;e&&(jl===ke?(e.__h=[],ke.__h=[],e.__.forEach(function(t){t.__N&&(t.__=t.__N),t.i=t.__N=void 0})):(e.__h.forEach(ya),e.__h.forEach(sc),e.__h=[],lr=0)),jl=ke},$e.diffed=function(n){Rh&&Rh(n);var e=n.__c;e&&e.__H&&(e.__H.__h.length&&(_f.push(e)!==1&&Ah===$e.requestAnimationFrame||((Ah=$e.requestAnimationFrame)||__)(g_)),e.__H.__.forEach(function(t){t.i&&(t.__H=t.i),t.i=void 0})),jl=ke=null},$e.__c=function(n,e){e.some(function(t){try{t.__h.forEach(ya),t.__h=t.__h.filter(function(r){return!r.__||sc(r)})}catch(r){e.some(function(i){i.__h&&(i.__h=[])}),e=[],$e.__e(r,t.__v)}}),Ph&&Ph(n,e)},$e.unmount=function(n){Nh&&Nh(n);var e,t=n.__c;t&&t.__H&&(t.__H.__.forEach(function(r){try{ya(r)}catch(i){e=i}}),t.__H=void 0,e&&$e.__e(e,t.__v))};var xh=typeof requestAnimationFrame=="function";function __(n){var e,t=function(){clearTimeout(r),xh&&cancelAnimationFrame(e),setTimeout(n)},r=setTimeout(t,100);xh&&(e=requestAnimationFrame(t))}function ya(n){var e=ke,t=n.__c;typeof t=="function"&&(n.__c=void 0,t()),ke=e}function sc(n){var e=ke;n.__c=n.__(),ke=e}function Vc(n,e){return!n||n.length!==e.length||e.some(function(t,r){return t!==n[r]})}function yf(n,e){return typeof e=="function"?e(n):e}function oc(n,e){for(var t in n)if(t!=="__source"&&!(t in e))return!0;for(var r in e)if(r!=="__source"&&n[r]!==e[r])return!0;return!1}function Mc(n,e){var t=e(),r=be({t:{__:t,u:e}}),i=r[0].t,s=r[1];return Fr(function(){i.__=t,i.u=e,Bl(i)&&s({t:i})},[n,t,e]),Dn(function(){return Bl(i)&&s({t:i}),n(function(){Bl(i)&&s({t:i})})},[n]),t}function Bl(n){var e,t,r=n.u,i=n.__;try{var s=r();return!((e=i)===(t=s)&&(e!==0||1/e==1/t)||e!=e&&t!=t)}catch{return!0}}function il(n){n()}function Fc(n){return n}function Uc(){return[!1,il]}var $c=Fr;function ka(n,e){this.props=n,this.context=e}function jc(n,e){function t(i){var s=this.props.ref,l=s==i.ref;return!l&&s&&(s.call?s(null):s.current=null),e?!e(this.props,i)||!l:oc(this.props,i)}function r(i){return this.shouldComponentUpdate=t,le(n,i)}return r.displayName="Memo("+(n.displayName||n.name)+")",r.prototype.isReactComponent=!0,r.__f=!0,r}(ka.prototype=new tn).isPureReactComponent=!0,ka.prototype.shouldComponentUpdate=function(n,e){return oc(this.props,n)||oc(this.state,e)};var Oh=oe.__b;oe.__b=function(n){n.type&&n.type.__f&&n.ref&&(n.props.ref=n.ref,n.ref=null),Oh&&Oh(n)};var y_=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.forward_ref")||3911;function go(n){function e(t){if(!("ref"in t))return n(t,null);var r=t.ref;delete t.ref;var i=n(t,r);return t.ref=r,i}return e.$$typeof=y_,e.render=e,e.prototype.isReactComponent=e.__f=!0,e.displayName="ForwardRef("+(n.displayName||n.name)+")",e}var Dh=function(n,e){return n==null?null:rr(rr(n).map(e))},Bc={map:Dh,forEach:Dh,count:function(n){return n?rr(n).length:0},only:function(n){var e=rr(n);if(e.length!==1)throw"Children.only";return e[0]},toArray:rr},v_=oe.__e;oe.__e=function(n,e,t,r){if(n.then){for(var i,s=e;s=s.__;)if((i=s.__c)&&i.__c)return e.__e==null&&(e.__e=t.__e,e.__k=t.__k),i.__c(n,e)}v_(n,e,t,r)};var Lh=oe.unmount;function vf(n,e,t){return n&&(n.__c&&n.__c.__H&&(n.__c.__H.__.forEach(function(r){typeof r.__c=="function"&&r.__c()}),n.__c.__H=null),(n=function(r,i){for(var s in i)r[s]=i[s];return r}({},n)).__c!=null&&(n.__c.__P===t&&(n.__c.__P=e),n.__c=null),n.__k=n.__k&&n.__k.map(function(r){return vf(r,e,t)})),n}function bf(n,e,t){return n&&t&&(n.__v=null,n.__k=n.__k&&n.__k.map(function(r){return bf(r,e,t)}),n.__c&&n.__c.__P===e&&(n.__e&&t.appendChild(n.__e),n.__c.__e=!0,n.__c.__P=t)),n}function Js(){this.__u=0,this.o=null,this.__b=null}function wf(n){var e=n.__.__c;return e&&e.__a&&e.__a(n)}function Ef(n){var e,t,r;function i(s){if(e||(e=n()).then(function(l){t=l.default||l},function(l){r=l}),r)throw r;if(!t)throw e;return le(t,s)}return i.displayName="Lazy",i.__f=!0,i}function Gi(){this.i=null,this.l=null}oe.unmount=function(n){var e=n.__c;e&&e.__R&&e.__R(),e&&32&n.__u&&(n.type=null),Lh&&Lh(n)},(Js.prototype=new tn).__c=function(n,e){var t=e.__c,r=this;r.o==null&&(r.o=[]),r.o.push(t);var i=wf(r.__v),s=!1,l=function(){s||(s=!0,t.__R=null,i?i(c):c())};t.__R=l;var c=function(){if(!--r.__u){if(r.state.__a){var h=r.state.__a;r.__v.__k[0]=bf(h,h.__c.__P,h.__c.__O)}var f;for(r.setState({__a:r.__b=null});f=r.o.pop();)f.forceUpdate()}};r.__u++||32&e.__u||r.setState({__a:r.__b=r.__v.__k[0]}),n.then(l,l)},Js.prototype.componentWillUnmount=function(){this.o=[]},Js.prototype.render=function(n,e){if(this.__b){if(this.__v.__k){var t=document.createElement("div"),r=this.__v.__k[0].__c;this.__v.__k[0]=vf(this.__b,t,r.__O=r.__P)}this.__b=null}var i=e.__a&&le(ut,null,n.fallback);return i&&(i.__u&=-33),[le(ut,null,e.__a?null:n.children),i]};var Vh=function(n,e,t){if(++t[1]===t[0]&&n.l.delete(e),n.props.revealOrder&&(n.props.revealOrder[0]!=="t"||!n.l.size))for(t=n.i;t;){for(;t.length>3;)t.pop()();if(t[1]<t[0])break;n.i=t=t[2]}};function b_(n){return this.getChildContext=function(){return n.context},n.children}function w_(n){var e=this,t=n.h;e.componentWillUnmount=function(){ro(null,e.v),e.v=null,e.h=null},e.h&&e.h!==t&&e.componentWillUnmount(),e.v||(e.h=t,e.v={nodeType:1,parentNode:t,childNodes:[],contains:function(){return!0},appendChild:function(r){this.childNodes.push(r),e.h.appendChild(r)},insertBefore:function(r,i){this.childNodes.push(r),e.h.insertBefore(r,i)},removeChild:function(r){this.childNodes.splice(this.childNodes.indexOf(r)>>>1,1),e.h.removeChild(r)}}),ro(le(b_,{context:e.context},n.__v),e.v)}function Tf(n,e){var t=le(w_,{__v:n,h:e});return t.containerInfo=e,t}(Gi.prototype=new tn).__a=function(n){var e=this,t=wf(e.__v),r=e.l.get(n);return r[0]++,function(i){var s=function(){e.props.revealOrder?(r.push(i),Vh(e,n,r)):i()};t?t(s):s()}},Gi.prototype.render=function(n){this.i=null,this.l=new Map;var e=rr(n.children);n.revealOrder&&n.revealOrder[0]==="b"&&e.reverse();for(var t=e.length;t--;)this.l.set(e[t],this.i=[1,0,this.i]);return n.children},Gi.prototype.componentDidUpdate=Gi.prototype.componentDidMount=function(){var n=this;this.l.forEach(function(e,t){Vh(n,t,e)})};var If=typeof Symbol<"u"&&Symbol.for&&Symbol.for("react.element")||60103,E_=/^(?:accent|alignment|arabic|baseline|cap|clip(?!PathU)|color|dominant|fill|flood|font|glyph(?!R)|horiz|image(!S)|letter|lighting|marker(?!H|W|U)|overline|paint|pointer|shape|stop|strikethrough|stroke|text(?!L)|transform|underline|unicode|units|v|vector|vert|word|writing|x(?!C))[A-Z]/,T_=/^on(Ani|Tra|Tou|BeforeInp|Compo)/,I_=/[A-Z0-9]/g,A_=typeof document<"u",S_=function(n){return(typeof Symbol<"u"&&typeof Symbol()=="symbol"?/fil|che|rad/:/fil|che|ra/).test(n)};function zc(n,e,t){return e.__k==null&&(e.textContent=""),ro(n,e),typeof t=="function"&&t(),n?n.__c:null}function Hc(n,e,t){return gf(n,e),typeof t=="function"&&t(),n?n.__c:null}tn.prototype.isReactComponent={},["componentWillMount","componentWillReceiveProps","componentWillUpdate"].forEach(function(n){Object.defineProperty(tn.prototype,n,{configurable:!0,get:function(){return this["UNSAFE_"+n]},set:function(e){Object.defineProperty(this,n,{configurable:!0,writable:!0,value:e})}})});var Mh=oe.event;function C_(){}function R_(){return this.cancelBubble}function P_(){return this.defaultPrevented}oe.event=function(n){return Mh&&(n=Mh(n)),n.persist=C_,n.isPropagationStopped=R_,n.isDefaultPrevented=P_,n.nativeEvent=n};var qc,N_={enumerable:!1,configurable:!0,get:function(){return this.class}},Fh=oe.vnode;oe.vnode=function(n){typeof n.type=="string"&&function(e){var t=e.props,r=e.type,i={},s=r.indexOf("-")===-1;for(var l in t){var c=t[l];if(!(l==="value"&&"defaultValue"in t&&c==null||A_&&l==="children"&&r==="noscript"||l==="class"||l==="className")){var h=l.toLowerCase();l==="defaultValue"&&"value"in t&&t.value==null?l="value":l==="download"&&c===!0?c="":h==="translate"&&c==="no"?c=!1:h[0]==="o"&&h[1]==="n"?h==="ondoubleclick"?l="ondblclick":h!=="onchange"||r!=="input"&&r!=="textarea"||S_(t.type)?h==="onfocus"?l="onfocusin":h==="onblur"?l="onfocusout":T_.test(l)&&(l=h):h=l="oninput":s&&E_.test(l)?l=l.replace(I_,"-$&").toLowerCase():c===null&&(c=void 0),h==="oninput"&&i[l=h]&&(l="oninputCapture"),i[l]=c}}r=="select"&&i.multiple&&Array.isArray(i.value)&&(i.value=rr(t.children).forEach(function(f){f.props.selected=i.value.indexOf(f.props.value)!=-1})),r=="select"&&i.defaultValue!=null&&(i.value=rr(t.children).forEach(function(f){f.props.selected=i.multiple?i.defaultValue.indexOf(f.props.value)!=-1:i.defaultValue==f.props.value})),t.class&&!t.className?(i.class=t.class,Object.defineProperty(i,"className",N_)):(t.className&&!t.class||t.class&&t.className)&&(i.class=i.className=t.className),e.props=i}(n),n.$$typeof=If,Fh&&Fh(n)};var Uh=oe.__r;oe.__r=function(n){Uh&&Uh(n),qc=n.__c};var $h=oe.diffed;oe.diffed=function(n){$h&&$h(n);var e=n.props,t=n.__e;t!=null&&n.type==="textarea"&&"value"in e&&e.value!==t.value&&(t.value=e.value==null?"":e.value),qc=null};var Af={ReactCurrentDispatcher:{current:{readContext:function(n){return qc.__n[n.__c].props.value},useCallback:Ur,useContext:ye,useDebugValue:Dc,useDeferredValue:Fc,useEffect:Dn,useId:Lc,useImperativeHandle:Oc,useInsertionEffect:$c,useLayoutEffect:Fr,useMemo:Ut,useReducer:rl,useRef:Ti,useState:be,useSyncExternalStore:Mc,useTransition:Uc}}},k_="18.3.1";function Sf(n){return le.bind(null,n)}function os(n){return!!n&&n.$$typeof===If}function Cf(n){return os(n)&&n.type===ut}function Rf(n){return!!n&&!!n.displayName&&(typeof n.displayName=="string"||n.displayName instanceof String)&&n.displayName.startsWith("Memo(")}function Pf(n){return os(n)?f_.apply(null,arguments):n}function Wc(n){return!!n.__k&&(ro(null,n),!0)}function Nf(n){return n&&(n.base||n.nodeType===1&&n)||null}var kf=function(n,e){return n(e)},xf=function(n,e){return n(e)},Of=ut,Df=os,xn={useState:be,useId:Lc,useReducer:rl,useEffect:Dn,useLayoutEffect:Fr,useInsertionEffect:$c,useTransition:Uc,useDeferredValue:Fc,useSyncExternalStore:Mc,startTransition:il,useRef:Ti,useImperativeHandle:Oc,useMemo:Ut,useCallback:Ur,useContext:ye,useDebugValue:Dc,version:"18.3.1",Children:Bc,render:zc,hydrate:Hc,unmountComponentAtNode:Wc,createPortal:Tf,createElement:le,createContext:jt,createFactory:Sf,cloneElement:Pf,createRef:uf,Fragment:ut,isValidElement:os,isElement:Df,isFragment:Cf,isMemo:Rf,findDOMNode:Nf,Component:tn,PureComponent:ka,memo:jc,forwardRef:go,flushSync:xf,unstable_batchedUpdates:kf,StrictMode:Of,Suspense:Js,SuspenseList:Gi,lazy:Ef,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Af};const x_=Object.freeze(Object.defineProperty({__proto__:null,Children:Bc,Component:tn,Fragment:ut,PureComponent:ka,StrictMode:Of,Suspense:Js,SuspenseList:Gi,__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:Af,cloneElement:Pf,createContext:jt,createElement:le,createFactory:Sf,createPortal:Tf,createRef:uf,default:xn,findDOMNode:Nf,flushSync:xf,forwardRef:go,hydrate:Hc,isElement:Df,isFragment:Cf,isMemo:Rf,isValidElement:os,lazy:Ef,memo:jc,render:zc,startTransition:il,unmountComponentAtNode:Wc,unstable_batchedUpdates:kf,useCallback:Ur,useContext:ye,useDebugValue:Dc,useDeferredValue:Fc,useEffect:Dn,useErrorBoundary:m_,useId:Lc,useImperativeHandle:Oc,useInsertionEffect:$c,useLayoutEffect:Fr,useMemo:Ut,useReducer:rl,useRef:Ti,useState:be,useSyncExternalStore:Mc,useTransition:Uc,version:k_},Symbol.toStringTag,{value:"Module"}));function Lf(n){return{render:function(e){zc(e,n)},unmount:function(){Wc(n)}}}function O_(n,e){return Hc(e,n),Lf(n)}const D_={createRoot:Lf,hydrateRoot:O_};function L_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}function Vf(n){if(n.__esModule)return n;var e=n.default;if(typeof e=="function"){var t=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};t.prototype=e.prototype}else t={};return Object.defineProperty(t,"__esModule",{value:!0}),Object.keys(n).forEach(function(r){var i=Object.getOwnPropertyDescriptor(n,r);Object.defineProperty(t,r,i.get?i:{enumerable:!0,get:function(){return n[r]}})}),t}var Bs={},jh;function V_(){if(jh)return Bs;jh=1,Object.defineProperty(Bs,"__esModule",{value:!0}),Bs.parse=l,Bs.serialize=f;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,i=Object.prototype.toString,s=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function l(I,C){const k=new s,F=I.length;if(F<2)return k;const D=(C==null?void 0:C.decode)||E;let L=0;do{const U=I.indexOf("=",L);if(U===-1)break;const G=I.indexOf(";",L),Y=G===-1?F:G;if(U>Y){L=I.lastIndexOf(";",U-1)+1;continue}const fe=c(I,L,U),pe=h(I,U,fe),P=I.slice(fe,pe);if(k[P]===void 0){let w=c(I,U+1,Y),v=h(I,Y,w);const T=D(I.slice(w,v));k[P]=T}L=Y+1}while(L<F);return k}function c(I,C,k){do{const F=I.charCodeAt(C);if(F!==32&&F!==9)return C}while(++C<k);return k}function h(I,C,k){for(;C>k;){const F=I.charCodeAt(--C);if(F!==32&&F!==9)return C+1}return k}function f(I,C,k){const F=(k==null?void 0:k.encode)||encodeURIComponent;if(!n.test(I))throw new TypeError(`argument name is invalid: ${I}`);const D=F(C);if(!e.test(D))throw new TypeError(`argument val is invalid: ${C}`);let L=I+"="+D;if(!k)return L;if(k.maxAge!==void 0){if(!Number.isInteger(k.maxAge))throw new TypeError(`option maxAge is invalid: ${k.maxAge}`);L+="; Max-Age="+k.maxAge}if(k.domain){if(!t.test(k.domain))throw new TypeError(`option domain is invalid: ${k.domain}`);L+="; Domain="+k.domain}if(k.path){if(!r.test(k.path))throw new TypeError(`option path is invalid: ${k.path}`);L+="; Path="+k.path}if(k.expires){if(!_(k.expires)||!Number.isFinite(k.expires.valueOf()))throw new TypeError(`option expires is invalid: ${k.expires}`);L+="; Expires="+k.expires.toUTCString()}if(k.httpOnly&&(L+="; HttpOnly"),k.secure&&(L+="; Secure"),k.partitioned&&(L+="; Partitioned"),k.priority)switch(typeof k.priority=="string"?k.priority.toLowerCase():void 0){case"low":L+="; Priority=Low";break;case"medium":L+="; Priority=Medium";break;case"high":L+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${k.priority}`)}if(k.sameSite)switch(typeof k.sameSite=="string"?k.sameSite.toLowerCase():k.sameSite){case!0:case"strict":L+="; SameSite=Strict";break;case"lax":L+="; SameSite=Lax";break;case"none":L+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${k.sameSite}`)}return L}function E(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function _(I){return i.call(I)==="[object Date]"}return Bs}V_();/**
 * react-router v7.1.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Bh="popstate";function M_(n={}){function e(r,i){let{pathname:s,search:l,hash:c}=r.location;return ac("",{pathname:s,search:l,hash:c},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function t(r,i){return typeof i=="string"?i:io(i)}return U_(e,t,null,n)}function Me(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function vn(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function F_(){return Math.random().toString(36).substring(2,10)}function zh(n,e){return{usr:n.state,key:n.key,idx:e}}function ac(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?as(e):e,state:t,key:e&&e.key||r||F_()}}function io({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function as(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function U_(n,e,t,r={}){let{window:i=document.defaultView,v5Compat:s=!1}=r,l=i.history,c="POP",h=null,f=E();f==null&&(f=0,l.replaceState({...l.state,idx:f},""));function E(){return(l.state||{idx:null}).idx}function _(){c="POP";let D=E(),L=D==null?null:D-f;f=D,h&&h({action:c,location:F.location,delta:L})}function I(D,L){c="PUSH";let U=ac(F.location,D,L);f=E()+1;let G=zh(U,f),Y=F.createHref(U);try{l.pushState(G,"",Y)}catch(fe){if(fe instanceof DOMException&&fe.name==="DataCloneError")throw fe;i.location.assign(Y)}s&&h&&h({action:c,location:F.location,delta:1})}function C(D,L){c="REPLACE";let U=ac(F.location,D,L);f=E();let G=zh(U,f),Y=F.createHref(U);l.replaceState(G,"",Y),s&&h&&h({action:c,location:F.location,delta:0})}function k(D){let L=i.location.origin!=="null"?i.location.origin:i.location.href,U=typeof D=="string"?D:io(D);return U=U.replace(/ $/,"%20"),Me(L,`No window.location.(origin|href) available to create URL for href: ${U}`),new URL(U,L)}let F={get action(){return c},get location(){return n(i,l)},listen(D){if(h)throw new Error("A history only accepts one active listener");return i.addEventListener(Bh,_),h=D,()=>{i.removeEventListener(Bh,_),h=null}},createHref(D){return e(i,D)},createURL:k,encodeLocation(D){let L=k(D);return{pathname:L.pathname,search:L.search,hash:L.hash}},push:I,replace:C,go(D){return l.go(D)}};return F}function Mf(n,e,t="/"){return $_(n,e,t,!1)}function $_(n,e,t,r){let i=typeof e=="string"?as(e):e,s=Dr(i.pathname||"/",t);if(s==null)return null;let l=Ff(n);j_(l);let c=null;for(let h=0;c==null&&h<l.length;++h){let f=Y_(s);c=J_(l[h],f,r)}return c}function Ff(n,e=[],t=[],r=""){let i=(s,l,c)=>{let h={relativePath:c===void 0?s.path||"":c,caseSensitive:s.caseSensitive===!0,childrenIndex:l,route:s};h.relativePath.startsWith("/")&&(Me(h.relativePath.startsWith(r),`Absolute route path "${h.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),h.relativePath=h.relativePath.slice(r.length));let f=ir([r,h.relativePath]),E=t.concat(h);s.children&&s.children.length>0&&(Me(s.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${f}".`),Ff(s.children,e,E,f)),!(s.path==null&&!s.index)&&e.push({path:f,score:K_(f,s.index),routesMeta:E})};return n.forEach((s,l)=>{var c;if(s.path===""||!((c=s.path)!=null&&c.includes("?")))i(s,l);else for(let h of Uf(s.path))i(s,l,h)}),e}function Uf(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,i=t.endsWith("?"),s=t.replace(/\?$/,"");if(r.length===0)return i?[s,""]:[s];let l=Uf(r.join("/")),c=[];return c.push(...l.map(h=>h===""?s:[s,h].join("/"))),i&&c.push(...l),c.map(h=>n.startsWith("/")&&h===""?"/":h)}function j_(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:Q_(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var B_=/^:[\w-]+$/,z_=3,H_=2,q_=1,W_=10,G_=-2,Hh=n=>n==="*";function K_(n,e){let t=n.split("/"),r=t.length;return t.some(Hh)&&(r+=G_),e&&(r+=H_),t.filter(i=>!Hh(i)).reduce((i,s)=>i+(B_.test(s)?z_:s===""?q_:W_),r)}function Q_(n,e){return n.length===e.length&&n.slice(0,-1).every((r,i)=>r===e[i])?n[n.length-1]-e[e.length-1]:0}function J_(n,e,t=!1){let{routesMeta:r}=n,i={},s="/",l=[];for(let c=0;c<r.length;++c){let h=r[c],f=c===r.length-1,E=s==="/"?e:e.slice(s.length)||"/",_=xa({path:h.relativePath,caseSensitive:h.caseSensitive,end:f},E),I=h.route;if(!_&&f&&t&&!r[r.length-1].route.index&&(_=xa({path:h.relativePath,caseSensitive:h.caseSensitive,end:!1},E)),!_)return null;Object.assign(i,_.params),l.push({params:i,pathname:ir([s,_.pathname]),pathnameBase:ny(ir([s,_.pathnameBase])),route:I}),_.pathnameBase!=="/"&&(s=ir([s,_.pathnameBase]))}return l}function xa(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=X_(n.path,n.caseSensitive,n.end),i=e.match(t);if(!i)return null;let s=i[0],l=s.replace(/(.)\/+$/,"$1"),c=i.slice(1);return{params:r.reduce((f,{paramName:E,isOptional:_},I)=>{if(E==="*"){let k=c[I]||"";l=s.slice(0,s.length-k.length).replace(/(.)\/+$/,"$1")}const C=c[I];return _&&!C?f[E]=void 0:f[E]=(C||"").replace(/%2F/g,"/"),f},{}),pathname:s,pathnameBase:l,pattern:n}}function X_(n,e=!1,t=!0){vn(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],i="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,h)=>(r.push({paramName:c,isOptional:h!=null}),h?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),i+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?i+="\\/*$":n!==""&&n!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Y_(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return vn(!1,`The URL path "${n}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function Dr(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function Z_(n,e="/"){let{pathname:t,search:r="",hash:i=""}=typeof n=="string"?as(n):n;return{pathname:t?t.startsWith("/")?t:ey(t,e):e,search:ry(r),hash:iy(i)}}function ey(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(i=>{i===".."?t.length>1&&t.pop():i!=="."&&t.push(i)}),t.length>1?t.join("/"):"/"}function zl(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ty(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Gc(n){let e=ty(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Kc(n,e,t,r=!1){let i;typeof n=="string"?i=as(n):(i={...n},Me(!i.pathname||!i.pathname.includes("?"),zl("?","pathname","search",i)),Me(!i.pathname||!i.pathname.includes("#"),zl("#","pathname","hash",i)),Me(!i.search||!i.search.includes("#"),zl("#","search","hash",i)));let s=n===""||i.pathname==="",l=s?"/":i.pathname,c;if(l==null)c=t;else{let _=e.length-1;if(!r&&l.startsWith("..")){let I=l.split("/");for(;I[0]==="..";)I.shift(),_-=1;i.pathname=I.join("/")}c=_>=0?e[_]:"/"}let h=Z_(i,c),f=l&&l!=="/"&&l.endsWith("/"),E=(s||l===".")&&t.endsWith("/");return!h.pathname.endsWith("/")&&(f||E)&&(h.pathname+="/"),h}var ir=n=>n.join("/").replace(/\/\/+/g,"/"),ny=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ry=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,iy=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function sy(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var $f=["POST","PUT","PATCH","DELETE"];new Set($f);var oy=["GET",...$f];new Set(oy);var ls=jt(null);ls.displayName="DataRouter";var sl=jt(null);sl.displayName="DataRouterState";var jf=jt({isTransitioning:!1});jf.displayName="ViewTransition";var ay=jt(new Map);ay.displayName="Fetchers";var ly=jt(null);ly.displayName="Await";var bn=jt(null);bn.displayName="Navigation";var _o=jt(null);_o.displayName="Location";var Mn=jt({outlet:null,matches:[],isDataRoute:!1});Mn.displayName="Route";var Qc=jt(null);Qc.displayName="RouteError";function cy(n,{relative:e}={}){Me(cs(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=ye(bn),{hash:i,pathname:s,search:l}=yo(n,{relative:e}),c=s;return t!=="/"&&(c=s==="/"?t:ir([t,s])),r.createHref({pathname:c,search:l,hash:i})}function cs(){return ye(_o)!=null}function $r(){return Me(cs(),"useLocation() may be used only in the context of a <Router> component."),ye(_o).location}var Bf="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function zf(n){ye(bn).static||Fr(n)}function ol(){let{isDataRoute:n}=ye(Mn);return n?Ey():uy()}function uy(){Me(cs(),"useNavigate() may be used only in the context of a <Router> component.");let n=ye(ls),{basename:e,navigator:t}=ye(bn),{matches:r}=ye(Mn),{pathname:i}=$r(),s=JSON.stringify(Gc(r)),l=Ti(!1);return zf(()=>{l.current=!0}),Ur((h,f={})=>{if(vn(l.current,Bf),!l.current)return;if(typeof h=="number"){t.go(h);return}let E=Kc(h,JSON.parse(s),i,f.relative==="path");n==null&&e!=="/"&&(E.pathname=E.pathname==="/"?e:ir([e,E.pathname])),(f.replace?t.replace:t.push)(E,f.state,f)},[e,t,s,i,n])}jt(null);function yo(n,{relative:e}={}){let{matches:t}=ye(Mn),{pathname:r}=$r(),i=JSON.stringify(Gc(t));return Ut(()=>Kc(n,JSON.parse(i),r,e==="path"),[n,i,r,e])}function hy(n,e){return Hf(n,e)}function Hf(n,e,t,r){var L;Me(cs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:i}=ye(bn),{matches:s}=ye(Mn),l=s[s.length-1],c=l?l.params:{},h=l?l.pathname:"/",f=l?l.pathnameBase:"/",E=l&&l.route;{let U=E&&E.path||"";qf(h,!E||U.endsWith("*")||U.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${h}" (under <Route path="${U}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${U}"> to <Route path="${U==="/"?"*":`${U}/*`}">.`)}let _=$r(),I;if(e){let U=typeof e=="string"?as(e):e;Me(f==="/"||((L=U.pathname)==null?void 0:L.startsWith(f)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${f}" but pathname "${U.pathname}" was given in the \`location\` prop.`),I=U}else I=_;let C=I.pathname||"/",k=C;if(f!=="/"){let U=f.replace(/^\//,"").split("/");k="/"+C.replace(/^\//,"").split("/").slice(U.length).join("/")}let F=Mf(n,{pathname:k});vn(E||F!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),vn(F==null||F[F.length-1].route.element!==void 0||F[F.length-1].route.Component!==void 0||F[F.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let D=gy(F&&F.map(U=>Object.assign({},U,{params:Object.assign({},c,U.params),pathname:ir([f,i.encodeLocation?i.encodeLocation(U.pathname).pathname:U.pathname]),pathnameBase:U.pathnameBase==="/"?f:ir([f,i.encodeLocation?i.encodeLocation(U.pathnameBase).pathname:U.pathnameBase])})),s,t,r);return e&&D?le(_o.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},D):D}function dy(){let n=wy(),e=sy(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",i={padding:"0.5rem",backgroundColor:r},s={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=le(ut,null,le("p",null,"ðŸ’¿ Hey developer ðŸ‘‹"),le("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",le("code",{style:s},"ErrorBoundary")," or"," ",le("code",{style:s},"errorElement")," prop on your route.")),le(ut,null,le("h2",null,"Unexpected Application Error!"),le("h3",{style:{fontStyle:"italic"}},e),t?le("pre",{style:i},t):null,l)}var fy=le(dy,null),py=class extends tn{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?le(Mn.Provider,{value:this.props.routeContext},le(Qc.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function my({routeContext:n,match:e,children:t}){let r=ye(ls);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),le(Mn.Provider,{value:n},t)}function gy(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let i=n,s=t==null?void 0:t.errors;if(s!=null){let h=i.findIndex(f=>f.route.id&&(s==null?void 0:s[f.route.id])!==void 0);Me(h>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(s).join(",")}`),i=i.slice(0,Math.min(i.length,h+1))}let l=!1,c=-1;if(t)for(let h=0;h<i.length;h++){let f=i[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(c=h),f.route.id){let{loaderData:E,errors:_}=t,I=f.route.loader&&!E.hasOwnProperty(f.route.id)&&(!_||_[f.route.id]===void 0);if(f.route.lazy||I){l=!0,c>=0?i=i.slice(0,c+1):i=[i[0]];break}}}return i.reduceRight((h,f,E)=>{let _,I=!1,C=null,k=null;t&&(_=s&&f.route.id?s[f.route.id]:void 0,C=f.route.errorElement||fy,l&&(c<0&&E===0?(qf("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,k=null):c===E&&(I=!0,k=f.route.hydrateFallbackElement||null)));let F=e.concat(i.slice(0,E+1)),D=()=>{let L;return _?L=C:I?L=k:f.route.Component?L=le(f.route.Component,null):f.route.element?L=f.route.element:L=h,le(my,{match:f,routeContext:{outlet:h,matches:F,isDataRoute:t!=null},children:L})};return t&&(f.route.ErrorBoundary||f.route.errorElement||E===0)?le(py,{location:t.location,revalidation:t.revalidation,component:C,error:_,children:D(),routeContext:{outlet:null,matches:F,isDataRoute:!0}}):D()},null)}function Jc(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function _y(n){let e=ye(ls);return Me(e,Jc(n)),e}function yy(n){let e=ye(sl);return Me(e,Jc(n)),e}function vy(n){let e=ye(Mn);return Me(e,Jc(n)),e}function Xc(n){let e=vy(n),t=e.matches[e.matches.length-1];return Me(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function by(){return Xc("useRouteId")}function wy(){var r;let n=ye(Qc),e=yy("useRouteError"),t=Xc("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Ey(){let{router:n}=_y("useNavigate"),e=Xc("useNavigate"),t=Ti(!1);return zf(()=>{t.current=!0}),Ur(async(i,s={})=>{vn(t.current,Bf),t.current&&(typeof i=="number"?n.navigate(i):await n.navigate(i,{fromRouteId:e,...s}))},[n,e])}var qh={};function qf(n,e,t){!e&&!qh[n]&&(qh[n]=!0,vn(!1,t))}jc(Ty);function Ty({routes:n,future:e,state:t}){return Hf(n,void 0,t,e)}function Wf({to:n,replace:e,state:t,relative:r}){Me(cs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:i}=ye(bn);vn(!i,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:s}=ye(Mn),{pathname:l}=$r(),c=ol(),h=Kc(n,Gc(s),l,r==="path"),f=JSON.stringify(h);return Dn(()=>{c(JSON.parse(f),{replace:e,state:t,relative:r})},[c,f,r,e,t]),null}function kn(n){Me(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Iy({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:i,static:s=!1}){Me(!cs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=Ut(()=>({basename:l,navigator:i,static:s,future:{}}),[l,i,s]);typeof t=="string"&&(t=as(t));let{pathname:h="/",search:f="",hash:E="",state:_=null,key:I="default"}=t,C=Ut(()=>{let k=Dr(h,l);return k==null?null:{location:{pathname:k,search:f,hash:E,state:_,key:I},navigationType:r}},[l,h,f,E,_,I,r]);return vn(C!=null,`<Router basename="${l}"> is not able to match the URL "${h}${f}${E}" because it does not start with the basename, so the <Router> won't render anything.`),C==null?null:le(bn.Provider,{value:c},le(_o.Provider,{children:e,value:C}))}function Ay({children:n,location:e}){return hy(lc(n),e)}function lc(n,e=[]){let t=[];return Bc.forEach(n,(r,i)=>{if(!os(r))return;let s=[...e,i];if(r.type===ut){t.push.apply(t,lc(r.props.children,s));return}Me(r.type===kn,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Me(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||s.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=lc(r.props.children,s)),t.push(l)}),t}var va="get",ba="application/x-www-form-urlencoded";function al(n){return n!=null&&typeof n.tagName=="string"}function Sy(n){return al(n)&&n.tagName.toLowerCase()==="button"}function Cy(n){return al(n)&&n.tagName.toLowerCase()==="form"}function Ry(n){return al(n)&&n.tagName.toLowerCase()==="input"}function Py(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function Ny(n,e){return n.button===0&&(!e||e==="_self")&&!Py(n)}var ua=null;function ky(){if(ua===null)try{new FormData(document.createElement("form"),0),ua=!1}catch{ua=!0}return ua}var xy=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Hl(n){return n!=null&&!xy.has(n)?(vn(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${ba}"`),null):n}function Oy(n,e){let t,r,i,s,l;if(Cy(n)){let c=n.getAttribute("action");r=c?Dr(c,e):null,t=n.getAttribute("method")||va,i=Hl(n.getAttribute("enctype"))||ba,s=new FormData(n)}else if(Sy(n)||Ry(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let h=n.getAttribute("formaction")||c.getAttribute("action");if(r=h?Dr(h,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||va,i=Hl(n.getAttribute("formenctype"))||Hl(c.getAttribute("enctype"))||ba,s=new FormData(c,n),!ky()){let{name:f,type:E,value:_}=n;if(E==="image"){let I=f?`${f}.`:"";s.append(`${I}x`,"0"),s.append(`${I}y`,"0")}else f&&s.append(f,_)}}else{if(al(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=va,r=null,i=ba,l=n}return s&&i==="text/plain"&&(l=s,s=void 0),{action:r,method:t.toLowerCase(),encType:i,formData:s,body:l}}function Yc(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function Dy(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ly(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Vy(n,e,t){let r=await Promise.all(n.map(async i=>{let s=e.routes[i.route.id];if(s){let l=await Dy(s,t);return l.links?l.links():[]}return[]}));return $y(r.flat(1).filter(Ly).filter(i=>i.rel==="stylesheet"||i.rel==="preload").map(i=>i.rel==="stylesheet"?{...i,rel:"prefetch",as:"style"}:{...i,rel:"prefetch"}))}function Wh(n,e,t,r,i,s){let l=(h,f)=>t[f]?h.route.id!==t[f].route.id:!0,c=(h,f)=>{var E;return t[f].pathname!==h.pathname||((E=t[f].route.path)==null?void 0:E.endsWith("*"))&&t[f].params["*"]!==h.params["*"]};return s==="assets"?e.filter((h,f)=>l(h,f)||c(h,f)):s==="data"?e.filter((h,f)=>{var _;let E=r.routes[h.route.id];if(!E||!E.hasLoader)return!1;if(l(h,f)||c(h,f))return!0;if(h.route.shouldRevalidate){let I=h.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:((_=t[0])==null?void 0:_.params)||{},nextUrl:new URL(n,window.origin),nextParams:h.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function My(n,e){return Fy(n.map(t=>{let r=e.routes[t.route.id];if(!r)return[];let i=[r.module];return r.imports&&(i=i.concat(r.imports)),i}).flat(1))}function Fy(n){return[...new Set(n)]}function Uy(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function $y(n,e){let t=new Set;return new Set(e),n.reduce((r,i)=>{let s=JSON.stringify(Uy(i));return t.has(s)||(t.add(s),r.push({key:s,link:i})),r},[])}function jy(n){let e=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function By(){let n=ye(ls);return Yc(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function zy(){let n=ye(sl);return Yc(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Zc=jt(void 0);Zc.displayName="FrameworkContext";function Gf(){let n=ye(Zc);return Yc(n,"You must render this element inside a <HydratedRouter> element"),n}function Hy(n,e){let t=ye(Zc),[r,i]=be(!1),[s,l]=be(!1),{onFocus:c,onBlur:h,onMouseEnter:f,onMouseLeave:E,onTouchStart:_}=e,I=Ti(null);Dn(()=>{if(n==="render"&&l(!0),n==="viewport"){let F=L=>{L.forEach(U=>{l(U.isIntersecting)})},D=new IntersectionObserver(F,{threshold:.5});return I.current&&D.observe(I.current),()=>{D.disconnect()}}},[n]),Dn(()=>{if(r){let F=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(F)}}},[r]);let C=()=>{i(!0)},k=()=>{i(!1),l(!1)};return t?n!=="intent"?[s,I,{}]:[s,I,{onFocus:zs(c,C),onBlur:zs(h,k),onMouseEnter:zs(f,C),onMouseLeave:zs(E,k),onTouchStart:zs(_,C)}]:[!1,I,{}]}function zs(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function qy({page:n,...e}){let{router:t}=By(),r=Ut(()=>Mf(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?le(Gy,{page:n,matches:r,...e}):null}function Wy(n){let{manifest:e,routeModules:t}=Gf(),[r,i]=be([]);return Dn(()=>{let s=!1;return Vy(n,e,t).then(l=>{s||i(l)}),()=>{s=!0}},[n,e,t]),r}function Gy({page:n,matches:e,...t}){let r=$r(),{manifest:i,routeModules:s}=Gf(),{loaderData:l,matches:c}=zy(),h=Ut(()=>Wh(n,e,c,i,r,"data"),[n,e,c,i,r]),f=Ut(()=>Wh(n,e,c,i,r,"assets"),[n,e,c,i,r]),E=Ut(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,k=!1;if(e.forEach(D=>{var U;let L=i.routes[D.route.id];!L||!L.hasLoader||(!h.some(G=>G.route.id===D.route.id)&&D.route.id in l&&((U=s[D.route.id])!=null&&U.shouldRevalidate)||L.hasClientLoader?k=!0:C.add(D.route.id))}),C.size===0)return[];let F=jy(n);return k&&C.size>0&&F.searchParams.set("_routes",e.filter(D=>C.has(D.route.id)).map(D=>D.route.id).join(",")),[F.pathname+F.search]},[l,r,i,h,e,n,s]),_=Ut(()=>My(f,i),[f,i]),I=Wy(f);return le(ut,null,E.map(C=>le("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),_.map(C=>le("link",{key:C,rel:"modulepreload",href:C,...t})),I.map(({key:C,link:k})=>le("link",{key:C,...k})))}function Ky(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var Kf=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{Kf&&(window.__reactRouterVersion="7.1.0")}catch{}function Qy({basename:n,children:e,window:t}){let r=Ti();r.current==null&&(r.current=M_({window:t,v5Compat:!0}));let i=r.current,[s,l]=be({action:i.action,location:i.location}),c=Ur(h=>{il(()=>l(h))},[l]);return Fr(()=>i.listen(c),[i,c]),le(Iy,{basename:n,children:e,location:s.location,navigationType:s.action,navigator:i})}var Qf=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,en=go(function({onClick:e,discover:t="render",prefetch:r="none",relative:i,reloadDocument:s,replace:l,state:c,target:h,to:f,preventScrollReset:E,viewTransition:_,...I},C){let{basename:k}=ye(bn),F=typeof f=="string"&&Qf.test(f),D,L=!1;if(typeof f=="string"&&F&&(D=f,Kf))try{let v=new URL(window.location.href),T=f.startsWith("//")?new URL(v.protocol+f):new URL(f),A=Dr(T.pathname,k);T.origin===v.origin&&A!=null?f=A+T.search+T.hash:L=!0}catch{vn(!1,`<Link to="${f}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let U=cy(f,{relative:i}),[G,Y,fe]=Hy(r,I),pe=Zy(f,{replace:l,state:c,target:h,preventScrollReset:E,relative:i,viewTransition:_});function P(v){e&&e(v),v.defaultPrevented||pe(v)}let w=le("a",{...I,...fe,href:D||U,onClick:L||s?e:P,ref:Ky(C,Y),target:h,"data-discover":!F&&t==="render"?"true":void 0});return G&&!F?le(ut,null,w,le(qy,{page:U})):w});en.displayName="Link";var Jy=go(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:i=!1,style:s,to:l,viewTransition:c,children:h,...f},E){let _=yo(l,{relative:f.relative}),I=$r(),C=ye(sl),{navigator:k,basename:F}=ye(bn),D=C!=null&&iv(_)&&c===!0,L=k.encodeLocation?k.encodeLocation(_).pathname:_.pathname,U=I.pathname,G=C&&C.navigation&&C.navigation.location?C.navigation.location.pathname:null;t||(U=U.toLowerCase(),G=G?G.toLowerCase():null,L=L.toLowerCase()),G&&F&&(G=Dr(G,F)||G);const Y=L!=="/"&&L.endsWith("/")?L.length-1:L.length;let fe=U===L||!i&&U.startsWith(L)&&U.charAt(Y)==="/",pe=G!=null&&(G===L||!i&&G.startsWith(L)&&G.charAt(L.length)==="/"),P={isActive:fe,isPending:pe,isTransitioning:D},w=fe?e:void 0,v;typeof r=="function"?v=r(P):v=[r,fe?"active":null,pe?"pending":null,D?"transitioning":null].filter(Boolean).join(" ");let T=typeof s=="function"?s(P):s;return le(en,{...f,"aria-current":w,className:v,ref:E,style:T,to:l,viewTransition:c},typeof h=="function"?h(P):h)});Jy.displayName="NavLink";var Xy=go(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:i,state:s,method:l=va,action:c,onSubmit:h,relative:f,preventScrollReset:E,viewTransition:_,...I},C)=>{let k=nv(),F=rv(c,{relative:f}),D=l.toLowerCase()==="get"?"get":"post",L=typeof c=="string"&&Qf.test(c);return le("form",{ref:C,method:D,action:F,onSubmit:r?h:G=>{if(h&&h(G),G.defaultPrevented)return;G.preventDefault();let Y=G.nativeEvent.submitter,fe=(Y==null?void 0:Y.getAttribute("formmethod"))||l;k(Y||G.currentTarget,{fetcherKey:e,method:fe,navigate:t,replace:i,state:s,relative:f,preventScrollReset:E,viewTransition:_})},...I,"data-discover":!L&&n==="render"?"true":void 0})});Xy.displayName="Form";function Yy(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Jf(n){let e=ye(ls);return Me(e,Yy(n)),e}function Zy(n,{target:e,replace:t,state:r,preventScrollReset:i,relative:s,viewTransition:l}={}){let c=ol(),h=$r(),f=yo(n,{relative:s});return Ur(E=>{if(Ny(E,e)){E.preventDefault();let _=t!==void 0?t:io(h)===io(f);c(n,{replace:_,state:r,preventScrollReset:i,relative:s,viewTransition:l})}},[h,c,f,t,r,e,n,i,s,l])}var ev=0,tv=()=>`__${String(++ev)}__`;function nv(){let{router:n}=Jf("useSubmit"),{basename:e}=ye(bn),t=by();return Ur(async(r,i={})=>{let{action:s,method:l,encType:c,formData:h,body:f}=Oy(r,e);if(i.navigate===!1){let E=i.fetcherKey||tv();await n.fetch(E,t,i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||c,flushSync:i.flushSync})}else await n.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:h,body:f,formMethod:i.method||l,formEncType:i.encType||c,replace:i.replace,state:i.state,fromRouteId:t,flushSync:i.flushSync,viewTransition:i.viewTransition})},[n,e,t])}function rv(n,{relative:e}={}){let{basename:t}=ye(bn),r=ye(Mn);Me(r,"useFormAction must be used inside a RouteContext");let[i]=r.matches.slice(-1),s={...yo(n||".",{relative:e})},l=$r();if(n==null){s.search=l.search;let c=new URLSearchParams(s.search),h=c.getAll("index");if(h.some(E=>E==="")){c.delete("index"),h.filter(_=>_).forEach(_=>c.append("index",_));let E=c.toString();s.search=E?`?${E}`:""}}return(!n||n===".")&&i.route.index&&(s.search=s.search?s.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(s.pathname=s.pathname==="/"?t:ir([t,s.pathname])),io(s)}function iv(n,e={}){let t=ye(jf);Me(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=Jf("useViewTransitionState"),i=yo(n,{relative:e.relative});if(!t.isTransitioning)return!1;let s=Dr(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=Dr(t.nextLocation.pathname,r)||t.nextLocation.pathname;return xa(i.pathname,l)!=null||xa(i.pathname,s)!=null}new TextEncoder;const sv="/assets/Tabs-iOkRgqvw.jpg";var Xf={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},Gh=xn.createContext&&xn.createContext(Xf),ov=["attr","size","title"];function av(n,e){if(n==null)return{};var t=lv(n,e),r,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(n);for(i=0;i<s.length;i++)r=s[i],!(e.indexOf(r)>=0)&&Object.prototype.propertyIsEnumerable.call(n,r)&&(t[r]=n[r])}return t}function lv(n,e){if(n==null)return{};var t={};for(var r in n)if(Object.prototype.hasOwnProperty.call(n,r)){if(e.indexOf(r)>=0)continue;t[r]=n[r]}return t}function Oa(){return Oa=Object.assign?Object.assign.bind():function(n){for(var e=1;e<arguments.length;e++){var t=arguments[e];for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(n[r]=t[r])}return n},Oa.apply(this,arguments)}function Kh(n,e){var t=Object.keys(n);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(n);e&&(r=r.filter(function(i){return Object.getOwnPropertyDescriptor(n,i).enumerable})),t.push.apply(t,r)}return t}function Da(n){for(var e=1;e<arguments.length;e++){var t=arguments[e]!=null?arguments[e]:{};e%2?Kh(Object(t),!0).forEach(function(r){cv(n,r,t[r])}):Object.getOwnPropertyDescriptors?Object.defineProperties(n,Object.getOwnPropertyDescriptors(t)):Kh(Object(t)).forEach(function(r){Object.defineProperty(n,r,Object.getOwnPropertyDescriptor(t,r))})}return n}function cv(n,e,t){return e=uv(e),e in n?Object.defineProperty(n,e,{value:t,enumerable:!0,configurable:!0,writable:!0}):n[e]=t,n}function uv(n){var e=hv(n,"string");return typeof e=="symbol"?e:e+""}function hv(n,e){if(typeof n!="object"||!n)return n;var t=n[Symbol.toPrimitive];if(t!==void 0){var r=t.call(n,e||"default");if(typeof r!="object")return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(n)}function Yf(n){return n&&n.map((e,t)=>xn.createElement(e.tag,Da({key:t},e.attr),Yf(e.child)))}function wn(n){return e=>xn.createElement(dv,Oa({attr:Da({},n.attr)},e),Yf(n.child))}function dv(n){var e=t=>{var{attr:r,size:i,title:s}=n,l=av(n,ov),c=i||t.size||"1em",h;return t.className&&(h=t.className),n.className&&(h=(h?h+" ":"")+n.className),xn.createElement("svg",Oa({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},t.attr,r,l,{className:h,style:Da(Da({color:n.color||t.color},t.style),n.style),height:c,width:c,xmlns:"http://www.w3.org/2000/svg"}),s&&xn.createElement("title",null,s),n.children)};return Gh!==void 0?xn.createElement(Gh.Consumer,null,t=>e(t)):e(Xf)}function fv(n){return wn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M400 448H48a16 16 0 0 0-16 16v32a16 16 0 0 0 16 16h352a16 16 0 0 0 16-16v-32a16 16 0 0 0-16-16zm16-288H256v-48h40a8 8 0 0 0 8-8V56a8 8 0 0 0-8-8h-40V8a8 8 0 0 0-8-8h-48a8 8 0 0 0-8 8v40h-40a8 8 0 0 0-8 8v48a8 8 0 0 0 8 8h40v48H32a32 32 0 0 0-30.52 41.54L74.56 416h298.88l73.08-214.46A32 32 0 0 0 416 160z"},child:[]}]})(n)}function Qh(n){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M74 208H64a16 16 0 0 0-16 16v16a16 16 0 0 0 16 16h15.94A535.78 535.78 0 0 1 64 384h128a535.78 535.78 0 0 1-15.94-128H192a16 16 0 0 0 16-16v-16a16 16 0 0 0-16-16h-10l33.89-90.38a16 16 0 0 0-15-21.62H144V64h24a8 8 0 0 0 8-8V40a8 8 0 0 0-8-8h-24V8a8 8 0 0 0-8-8h-16a8 8 0 0 0-8 8v24H88a8 8 0 0 0-8 8v16a8 8 0 0 0 8 8h24v32H55.09a16 16 0 0 0-15 21.62zm173.16 251.58L224 448v-16a16 16 0 0 0-16-16H48a16 16 0 0 0-16 16v16L8.85 459.58A16 16 0 0 0 0 473.89V496a16 16 0 0 0 16 16h224a16 16 0 0 0 16-16v-22.11a16 16 0 0 0-8.84-14.31zm92.77-157.78l-3.29 82.2h126.72l-3.29-82.21 24.6-20.79A32 32 0 0 0 496 256.54V198a6 6 0 0 0-6-6h-26.38a6 6 0 0 0-6 6v26h-24.71v-26a6 6 0 0 0-6-6H373.1a6 6 0 0 0-6 6v26h-24.71v-26a6 6 0 0 0-6-6H310a6 6 0 0 0-6 6v58.6a32 32 0 0 0 11.36 24.4zM384 304a16 16 0 0 1 32 0v32h-32zm119.16 155.58L480 448v-16a16 16 0 0 0-16-16H336a16 16 0 0 0-16 16v16l-23.15 11.58a16 16 0 0 0-8.85 14.31V496a16 16 0 0 0 16 16h192a16 16 0 0 0 16-16v-22.11a16 16 0 0 0-8.84-14.31z"},child:[]}]})(n)}function cc(n){return wn({tag:"svg",attr:{viewBox:"0 0 384 512"},child:[{tag:"path",attr:{d:"M120 72c0-39.765 32.235-72 72-72s72 32.235 72 72c0 39.764-32.235 72-72 72s-72-32.236-72-72zm254.627 1.373c-12.496-12.497-32.758-12.497-45.254 0L242.745 160H141.254L54.627 73.373c-12.496-12.497-32.758-12.497-45.254 0-12.497 12.497-12.497 32.758 0 45.255L104 213.254V480c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V368h16v112c0 17.673 14.327 32 32 32h16c17.673 0 32-14.327 32-32V213.254l94.627-94.627c12.497-12.497 12.497-32.757 0-45.254z"},child:[]}]})(n)}function pv(n){return wn({tag:"svg",attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(n)}function mv(n){return wn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M319.4 320.6L224 416l-95.4-95.4C57.1 323.7 0 382.2 0 454.4v9.6c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-9.6c0-72.2-57.1-130.7-128.6-133.8zM13.6 79.8l6.4 1.5v58.4c-7 4.2-12 11.5-12 20.3 0 8.4 4.6 15.4 11.1 19.7L3.5 242c-1.7 6.9 2.1 14 7.6 14h41.8c5.5 0 9.3-7.1 7.6-14l-15.6-62.3C51.4 175.4 56 168.4 56 160c0-8.8-5-16.1-12-20.3V87.1l66 15.9c-8.6 17.2-14 36.4-14 57 0 70.7 57.3 128 128 128s128-57.3 128-128c0-20.6-5.3-39.8-14-57l96.3-23.2c18.2-4.4 18.2-27.1 0-31.5l-190.4-46c-13-3.1-26.7-3.1-39.7 0L13.6 48.2c-18.1 4.4-18.1 27.2 0 31.6z"},child:[]}]})(n)}function gv(n){return wn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm95.8 32.6L272 480l-32-136 32-56h-96l32 56-32 136-47.8-191.4C56.9 292 0 350.3 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-72.1-56.9-130.4-128.2-133.8z"},child:[]}]})(n)}function _v(n){return wn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 256c70.7 0 128-57.3 128-128S294.7 0 224 0 96 57.3 96 128s57.3 128 128 128zm89.6 32h-16.7c-22.2 10.2-46.9 16-72.9 16s-50.6-5.8-72.9-16h-16.7C60.2 288 0 348.2 0 422.4V464c0 26.5 21.5 48 48 48h352c26.5 0 48-21.5 48-48v-41.6c0-74.2-60.2-134.4-134.4-134.4z"},child:[]}]})(n)}function Zf(n){return wn({tag:"svg",attr:{viewBox:"0 0 640 512"},child:[{tag:"path",attr:{d:"M96 224c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm448 0c35.3 0 64-28.7 64-64s-28.7-64-64-64-64 28.7-64 64 28.7 64 64 64zm32 32h-64c-17.6 0-33.5 7.1-45.1 18.6 40.3 22.1 68.9 62 75.1 109.4h66c17.7 0 32-14.3 32-32v-32c0-35.3-28.7-64-64-64zm-256 0c61.9 0 112-50.1 112-112S381.9 32 320 32 208 82.1 208 144s50.1 112 112 112zm76.8 32h-8.3c-20.8 10-43.9 16-68.5 16s-47.6-6-68.5-16h-8.3C179.6 288 128 339.6 128 403.2V432c0 26.5 21.5 48 48 48h288c26.5 0 48-21.5 48-48v-28.8c0-63.6-51.6-115.2-115.2-115.2zm-223.7-13.4C161.5 263.1 145.6 256 128 256H64c-35.3 0-64 28.7-64 64v32c0 17.7 14.3 32 32 32h65.9c6.3-47.4 34.9-87.3 75.2-109.4z"},child:[]}]})(n)}function yv(n){return wn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M0 96C0 78.3 14.3 64 32 64l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 128C14.3 128 0 113.7 0 96zM0 256c0-17.7 14.3-32 32-32l384 0c17.7 0 32 14.3 32 32s-14.3 32-32 32L32 288c-17.7 0-32-14.3-32-32zM448 416c0 17.7-14.3 32-32 32L32 448c-17.7 0-32-14.3-32-32s14.3-32 32-32l384 0c17.7 0 32 14.3 32 32z"},child:[]}]})(n)}function vv(n){return wn({tag:"svg",attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224 0c17.7 0 32 14.3 32 32l0 16 16 0c17.7 0 32 14.3 32 32s-14.3 32-32 32l-16 0 0 48 152 0c22.1 0 40 17.9 40 40c0 5.3-1 10.5-3.1 15.4L368 400 80 400 3.1 215.4C1 210.5 0 205.3 0 200c0-22.1 17.9-40 40-40l152 0 0-48-16 0c-17.7 0-32-14.3-32-32s14.3-32 32-32l16 0 0-16c0-17.7 14.3-32 32-32zM38.6 473.4L80 432l288 0 41.4 41.4c4.2 4.2 6.6 10 6.6 16c0 12.5-10.1 22.6-22.6 22.6L54.6 512C42.1 512 32 501.9 32 489.4c0-6 2.4-11.8 6.6-16z"},child:[]}]})(n)}const bv="/assets/kid-PdjLH6d4.jpg",Jh="/assets/About1-CLsNwlBJ.jpg",wv=()=>{const[n,e]=be({name:"",contactNo:"",mode:"",level:"",location:""}),t=i=>{const{name:s,value:l}=i.target;e(c=>({...c,[s]:l}))};return m("section",{id:"about",style:{background:"#001524",paddingTop:"2rem"},children:[m("div",{className:"row",style:{width:"100%",height:"auto",backgroundColor:"#fff",zIndex:1,padding:"2% 9%"},children:[m("div",{className:"col-md-4",children:m("div",{className:" p-4",children:m("div",{className:"d-flex flex-column align-items-center",children:[m("div",{className:"text-center me-4 mb-md-4 mb-sm-2",children:m("img",{src:Jh,alt:"About Us",className:"img-fluid rounded-circle",style:{width:"25rem",height:"25rem"}})}),m("div",{className:"text-center",children:[m("h1",{className:"text-dark fw-bolder mb-3",style:{fontSize:"2.5rem"},children:"About Us"}),m("p",{style:{fontSize:"1.7rem",lineHeight:"1.8"},children:"Darklight Chess academy was a dream for me, and I started it with an aim to empower chess coaches and explore the world of chess with a motive to take chess to all the people across the globe."}),m("p",{style:{fontSize:"1.7rem",lineHeight:"1.8"},children:"I strongly believe that chess is not only a game but a lifestyle, and chess does not require an age factor to gain knowledge."})]})]})})}),m("div",{className:"col-md-4",children:m("div",{style:{width:"100%",height:"auto",backgroundColor:"rgb(255, 245, 238)",zIndex:1,padding:"2% 9%",textAlign:"center"},children:[m("p",{style:{fontSize:"1.7rem"},children:"Darklight Chess Academy is a Tamil Nadu based Chess Academy offering professional coaching for all the people no matter if your youâ€™re a beginner or intermediate advanced or master, we train you in the place you lack behind, We Coach you with professionals to make you game professional."}),m("p",{style:{fontSize:"1.7rem"},children:"So far we have our Chess Coaching running at Kovilpatti and Thoothukudi, 40+ Students in Thoothukudi and 30+ in kovilpatti,"}),m("p",{style:{fontSize:"1.7rem"},children:"Yet we also provide Chess Coaching online, you can master chess from where you are, Itâ€™s just one step away, Book a free demo & get to know about our Darklight Chess Coaching and us and master chess from wherever you are, It cost you nothing to try a free demo."}),m("p",{style:{fontSize:"1.7rem"},children:"Darklight Chess has many coaches at the backend to train and uplift the upcoming generation to learn chess, we have grandmasters and coaches who are experienced in chess field, you have option of selecting your chess coaches by yourselves."})]})}),m("div",{className:"col-md-4",children:m("div",{className:" p-4",children:m("div",{className:"d-flex flex-column align-items-center",children:[m("div",{className:"text-center me-4 mb-md-4 mb-sm-2",children:m("img",{src:Jh,alt:"About Us",className:"img-fluid rounded-circle",style:{width:"25rem",height:"25rem"}})}),m("div",{className:"text-center",children:[m("h1",{className:"text-dark fw-bolder mb-3",style:{fontSize:"2.5rem"},children:"WHAT KEEPS US MOVING"}),m("p",{style:{fontSize:"1.7rem",lineHeight:"1.8"},children:"The words from the kids and adults who share their experience keeps us moving, â€œI have won a match with my Siblings/Parents by the way youâ€™ve taught us, and I have won with my classmates by Joining Darklightâ€. Recently a student from Darklight Chess has won a tournament in Canada by Darklight Coaching, These are the Things that keep us moving."})]})]})})})]}),m("div",{style:{width:"100%",height:"auto",backgroundColor:"#fff",zIndex:1,padding:"4% 9%"},children:m("div",{className:"row align-items-center",children:[m("div",{className:"col-md-6",children:[" ",m("img",{src:sv,alt:"About Us",className:"img-fluid rounded",style:{maxWidth:"100%",height:"auto",borderRadius:"5px"}})]}),m("div",{className:"col-md-6",style:{fontSize:"2rem",textAlign:"justify"},children:[m("h1",{className:"fw-bolder pb-md-3 text-center",style:{fontSize:"5rem"},children:["Dark",m("span",{style:{color:"red"},children:"Light"})," Tournaments"]}),m("p",{className:"pb-md-3",children:"Personally we believe in improving students skill through our Fellow academy tournaments to encourage them to learn from their flaws, we also conduct tournaments online."}),m("p",{className:"pb-md-3",children:"During the starting stages of Darklight, we were teaching our friends to win against their opponent and some their siblings and it was fun doing that but as days went we started coaching students from our home, to make chess accessible for all in a professional I started Darklight, this was a motivating factor to Develop a academy."}),m("p",{className:"pb-md-3 text-center",children:["Darklight welcomes students who are willing to master chess and also loves to teach every bit of learning in chess,"," ",m("span",{className:"fw-bolder",style:{color:"red",display:"block"},children:"BECAUSE EVERY MOVE MATTERS"})]}),m("p",{className:"pb-md-3 text-center",children:"We strongly believe that age is not a criteria to learn chess."})]})]})}),m("section",{className:"py-5 align-content-center",style:{fontFamily:'"Bodoni", serif',backgroundColor:"#e9eaec",padding:"0 9%",height:"100vh"},children:[m("div",{className:"container text-center pb-5",children:[m("h2",{className:"fw-bold display-4 text-primary",children:[m(cc,{className:"me-2"})," Child Centric"]}),m("p",{className:"lead text-muted",style:{fontSize:"1.5rem"},children:"We prioritize your childâ€™s development and engagement through structured chess activities."})]}),m("div",{className:"container row align-items-center ",children:[m("div",{className:"col-md-6",children:[m("div",{className:"card shadow-sm border-0 rounded-4 mb-4",children:m("div",{className:"card-body text-center",children:[m(gv,{className:"text-primary display-3 mb-3"}),m("h3",{className:"fw-bold",children:"Trained & Experienced Staff"}),m("p",{className:"text-muted",style:{fontSize:"1.5rem"},children:"Our coaches are certified professionals dedicated to your child's growth."})]})}),m("div",{className:"card shadow-sm border-0 rounded-4 mb-4",children:m("div",{className:"card-body text-center",children:[m(vv,{className:"text-primary display-3 mb-3"}),m("h3",{className:"fw-bold",children:"Engaging Playful Activity"}),m("p",{className:"text-muted",style:{fontSize:"1.5rem"},children:"Interactive sessions to keep children excited and curious about chess."})]})}),m("div",{className:"card shadow-sm border-0 rounded-4",children:m("div",{className:"card-body text-center",children:[m(Qh,{className:"text-primary display-3 mb-3"}),m("h3",{className:"fw-bold",children:"Child Friendly"}),m("p",{className:"text-muted",style:{fontSize:"1.5rem"},children:"A safe, fun environment tailored for young learners."})]})})]}),m("div",{className:"col-md-6 d-flex justify-content-center",children:m("img",{src:bv,alt:"Child Centric",className:"img-fluid rounded-4",style:{maxWidth:"550px"}})})]})]}),m("section",{className:"py-5",style:{backgroundColor:"#001524"},children:[m("div",{className:"container text-center mb-5",children:[m("h2",{className:"fw-bold display-4 text-success",children:["Our Academic ",m("span",{className:"text-warning",children:"Programs"})]}),m("p",{className:"lead text-light",children:"Tailored courses for every age group, from children to adults."})]}),m("div",{className:"container",children:m("div",{className:"row",children:[m("div",{className:"col-md-6 mb-4",children:m("div",{className:"card shadow-sm border-0 rounded-4",children:m("div",{className:"card-body text-center",children:[m(cc,{className:"text-warning display-3 mb-3"}),m("h3",{className:"fw-bold",children:"Children"}),m("p",{className:"text-muted",style:{fontSize:"1.5rem"},children:"Building foundational skills and confidence for young learners."})]})})}),m("div",{className:"col-md-6 mb-4",children:m("div",{className:"card shadow-sm border-0 rounded-4",children:m("div",{className:"card-body text-center",children:[m(Qh,{className:"text-warning display-3 mb-3"}),m("h3",{className:"fw-bold",children:"Adults"}),m("p",{className:"text-muted",style:{fontSize:"1.5rem"},children:"Courses for adults looking to enhance their competitive edge in chess."})]})})})]})}),m("div",{className:"container text-center",children:m("p",{className:"lead  mx-auto text-light",style:{maxWidth:"800px",fontSize:"1.5rem",letterSpacing:1},children:"In Dark Light, we encourage both individual and group classes. Join a group of chess buddies to learn together, or opt for personalized one-on-one coaching sessions for a tailored experience."})})]}),m("section",{className:"py-5",style:{backgroundColor:"#e9eaec"},children:m("div",{className:"container",children:[m("h1",{className:"fw-bold display-4 text-center",children:"Contact Us"}),m("p",{className:"text-center mb-4",style:{fontSize:"1.5rem"},children:"Please fill out the form below, and we'll get back to you soon."}),m("form",{onSubmit:i=>{i.preventDefault(),console.log("Submitting Form Data:",n);const{name:s,contactNo:l,mode:c,level:h,location:f}=n;if(!s||!l||!c||!h||!f){alert("Please fill in all fields before submitting.");return}const E=`Name: ${n.name}
Contact No: ${l}
Mode: ${c}
Level: ${h}
Location: ${f}`,I=`https://wa.me/918124482421?text=${encodeURIComponent(E)}`;window.open(I,"_blank"),e({name:"",contactNo:"",mode:"",level:"",location:""})},className:"row g-4",children:[m("div",{className:"col-md-6 form-group",children:[m("input",{type:"text",className:"form-control floating-input",style:{fontSize:"1.5rem"},id:"name",name:"name",value:n.name,onChange:t,placeholder:" ",required:!0}),m("label",{htmlFor:"name",className:"floating-label",style:{fontSize:"1.5rem"},children:"Name"})]}),m("div",{className:"col-md-6 form-group",children:[m("input",{type:"tel",className:"form-control floating-input",style:{fontSize:"1.5rem"},id:"contactNo",name:"contactNo",value:n.contactNo,onChange:t,placeholder:" ",required:!0}),m("label",{htmlFor:"contactNo",className:"floating-label",style:{fontSize:"1.5rem"},children:"Contact Number"})]}),m("div",{className:"col-md-6 form-group",children:[m("select",{className:"form-select floating-input form-control",style:{fontSize:"1.5rem"},id:"mode",name:"mode",value:n.mode,onChange:t,placeholder:" ",required:!0,children:[m("option",{value:"online",children:"Online"}),m("option",{value:"offline",children:"Offline"})]}),m("label",{htmlFor:"mode",className:"floating-label",style:{fontSize:"1.5rem",color:"#999"},children:"Mode (Online/Offline)"})]}),m("div",{className:"col-md-6 form-group",children:[m("select",{className:"form-select floating-input form-control",style:{fontSize:"1.5rem"},id:"level",name:"level",value:n.level,onChange:t,placeholder:" ",required:!0,children:[m("option",{value:"beginner",children:"Beginner"}),m("option",{value:"intermediate",children:"Intermediate"}),m("option",{value:"advanced",children:"Advanced"}),m("option",{value:"master",children:"Master"}),m("option",{value:"grandmaster",children:"Grandmaster"})]}),m("label",{htmlFor:"level",className:"floating-label",style:{fontSize:"1.5rem",color:"#999"},children:"Choose a Level"})]}),m("div",{className:"col-md-12 form-group",children:[m("input",{type:"text",className:"form-control floating-input",style:{fontSize:"1.5rem"},id:"location",name:"location",value:n.location,onChange:t,placeholder:" ",required:!0}),m("label",{htmlFor:"location",className:"floating-label",style:{fontSize:"1.5rem"},children:"Location"})]}),m("div",{className:"col-12 d-flex justify-content-center",children:[m("button",{type:"reset",className:"btn btn-secondary me-2",style:{fontSize:"1.4rem",padding:"8px",letterSpacing:1},children:"Reset"}),m("button",{type:"submit",className:"btn btn-primary",style:{fontSize:"1.4rem",padding:"6px 14px",letterSpacing:1},children:"Submit"})]})]})]})})]})},Ev="/assets/rb_6428-BietAPNV.png",Tv="/assets/19198019-BWUwQWLt.jpg",Iv="/assets/5385181-DT9bdwX6.jpg",Av=()=>m("section",{id:"courses",className:"container d-flex align-items-center rounded-5",style:{minHeight:"100vh",backgroundColor:"rgb(42, 170, 138, 0.1)"},children:m("div",{className:"row justify-content-center w-100 flex-wrap",children:[m("div",{className:"row w-100",children:m("div",{className:"col text-center pb-5",style:{fontFamily:"'Bodoni', serif"},children:[m("h1",{className:"fw-bold ",style:{color:"	#009E60",fontSize:"4.5rem",fontFamily:"'Bodoni', serif",letterSpacing:".5px"},children:"Your Chess Journey Starts Here"}),m("p",{className:"lead",style:{fontSize:"2rem"},children:"Embark on an exciting adventure into the world of chess. Whether you're a beginner learning the basics or an advanced player aiming to refine your strategy, our courses are designed to guide you every step of the way."})]})}),m("div",{className:"row justify-content-evenly",children:[m("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mb-4 d-flex justify-content-center",children:m("div",{className:"card shadow-lg border-0",style:{width:"100%",maxWidth:"370px",borderRadius:"20px",background:"linear-gradient(to bottom right, #ffffff, #dfe9f3)"},children:[m("img",{src:Ev,className:"card-img-top",alt:"Online-Class",style:{height:"300px",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",objectFit:"cover"}}),m("div",{className:"card-body text-center",children:[m("h5",{className:"card-title fw-bolder",style:{color:"#3366cc",fontSize:"2.5rem"},children:"Online Class"}),m("p",{className:"card-text text-secondary",style:{fontSize:"1.5rem"},children:"Enhance your learning experience with interactive online classes tailored for your needs."}),m(en,{to:"/courses/1",className:"btn text-light rounded-pill",style:{backgroundColor:"#3366cc",padding:".7rem 1.5rem",fontSize:"1.5rem"},children:"Book Now"})]})]})}),m("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mb-4 d-flex justify-content-center",children:m("div",{className:"card shadow-lg border-0",style:{width:"100%",maxWidth:"370px",borderRadius:"20px",background:"linear-gradient(to bottom right, #ffffff, #e3f2fd)"},children:[m("img",{src:Iv,className:"card-img-top",alt:"Offline-Class",style:{height:"300px",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",objectFit:"cover"}}),m("div",{className:"card-body text-center",children:[m("h5",{className:"card-title fw-bolder",style:{color:"#007b83",fontSize:"2.5rem"},children:"Offline Class"}),m("p",{className:"card-text text-secondary",style:{fontSize:"1.5rem"},children:"Experience face-to-face learning with personalized attention in a traditional classroom setting."}),m(en,{to:"/courses/2",className:"btn rounded-pill text-light",style:{backgroundColor:"#007b83",padding:".7rem 1.5rem",fontSize:"1.5rem"},children:"Book Now"})]})]})}),m("div",{className:"col-12 col-sm-6 col-md-4 col-lg-3 mb-4 d-flex justify-content-center",children:m("div",{className:"card shadow-lg border-0",style:{width:"100%",maxWidth:"370px",borderRadius:"20px",background:"linear-gradient(to bottom right, #ffffff, #fbeaff)"},children:[m("img",{src:Tv,className:"card-img-top",alt:"Play bots",style:{height:"300px",borderTopLeftRadius:"20px",borderTopRightRadius:"20px",objectFit:"cover"}}),m("div",{className:"card-body text-center",children:[m("h5",{className:"card-title fw-bolder",style:{color:"#8424d9",fontSize:"2.5rem"},children:"Upcoming Events"}),m("p",{className:"card-text text-secondary",style:{fontSize:"1.5rem"},children:"Stay updated with the latest chess tournaments, workshops, and training camps. Register now to enhance your skills and compete with the best!"})]})]})})]})]})});function Sv(n){return wn({tag:"svg",attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"m289.94 256 95-95A24 24 0 0 0 351 127l-95 95-95-95a24 24 0 0 0-34 34l95 95-95 95a24 24 0 1 0 34 34l95-95 95 95a24 24 0 0 0 34-34z"},child:[]}]})(n)}var Xh={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ep=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},Cv=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=n[t++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){const s=n[t++],l=n[t++],c=n[t++],h=((i&7)<<18|(s&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(h>>10)),e[r++]=String.fromCharCode(56320+(h&1023))}else{const s=n[t++],l=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|l&63)}}return e.join("")},tp={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){const s=n[i],l=i+1<n.length,c=l?n[i+1]:0,h=i+2<n.length,f=h?n[i+2]:0,E=s>>2,_=(s&3)<<4|c>>4;let I=(c&15)<<2|f>>6,C=f&63;h||(C=64,l||(I=64)),r.push(t[E],t[_],t[I],t[C])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ep(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):Cv(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){const s=t[n.charAt(i++)],c=i<n.length?t[n.charAt(i)]:0;++i;const f=i<n.length?t[n.charAt(i)]:64;++i;const _=i<n.length?t[n.charAt(i)]:64;if(++i,s==null||c==null||f==null||_==null)throw new Rv;const I=s<<2|c>>4;if(r.push(I),f!==64){const C=c<<4&240|f>>2;if(r.push(C),_!==64){const k=f<<6&192|_;r.push(k)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class Rv extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const Pv=function(n){const e=ep(n);return tp.encodeByteArray(e,!0)},La=function(n){return Pv(n).replace(/\./g,"")},np=function(n){try{return tp.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Nv(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kv=()=>Nv().__FIREBASE_DEFAULTS__,xv=()=>{if(typeof process>"u"||typeof Xh>"u")return;const n=Xh.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Ov=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&np(n[1]);return e&&JSON.parse(e)},ll=()=>{try{return kv()||xv()||Ov()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},rp=n=>{var e,t;return(t=(e=ll())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},Dv=n=>{const e=rp(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ip=()=>{var n;return(n=ll())===null||n===void 0?void 0:n.config},sp=n=>{var e;return(e=ll())===null||e===void 0?void 0:e[`_${n}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lv{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vv(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,s=n.sub||n.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},n);return[La(JSON.stringify(t)),La(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function Mv(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Tt())}function Fv(){var n;const e=(n=ll())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function Uv(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function $v(){const n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function jv(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function Bv(){const n=Tt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function zv(){return!Fv()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Hv(){try{return typeof indexedDB=="object"}catch{return!1}}function qv(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wv="FirebaseError";class hr extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=Wv,Object.setPrototypeOf(this,hr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,vo.prototype.create)}}class vo{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},i=`${this.service}/${e}`,s=this.errors[e],l=s?Gv(s,r):"Error",c=`${this.serviceName}: ${l} (${i}).`;return new hr(i,c,r)}}function Gv(n,e){return n.replace(Kv,(t,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const Kv=/\{\$([^}]+)}/g;function Qv(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Va(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const i of t){if(!r.includes(i))return!1;const s=n[i],l=e[i];if(Yh(s)&&Yh(l)){if(!Va(s,l))return!1}else if(s!==l)return!1}for(const i of r)if(!t.includes(i))return!1;return!0}function Yh(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bo(n){const e=[];for(const[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Ws(n){const e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Gs(n){const e=n.indexOf("?");if(!e)return"";const t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function Jv(n,e){const t=new Xv(n,e);return t.subscribe.bind(t)}class Xv{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");Yv(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=ql),i.error===void 0&&(i.error=ql),i.complete===void 0&&(i.complete=ql);const s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function Yv(n,e){if(typeof n!="object"||n===null)return!1;for(const t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function ql(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $t(n){return n&&n._delegate?n._delegate:n}class mi{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ci="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zv{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new Lv;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(tb(e))try{this.getOrInitializeService({instanceIdentifier:ci})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(t);try{const s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=ci){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=ci){return this.instances.has(e)}getOptions(e=ci){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[s,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(s);r===c&&l.resolve(i)}return i}onInit(e,t){var r;const i=this.normalizeInstanceIdentifier(t),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);const l=this.instances.get(i);return l&&e(l,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:eb(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=ci){return this.component?this.component.multipleInstances?e:ci:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function eb(n){return n===ci?void 0:n}function tb(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nb{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Zv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var he;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(he||(he={}));const rb={debug:he.DEBUG,verbose:he.VERBOSE,info:he.INFO,warn:he.WARN,error:he.ERROR,silent:he.SILENT},ib=he.INFO,sb={[he.DEBUG]:"log",[he.VERBOSE]:"log",[he.INFO]:"info",[he.WARN]:"warn",[he.ERROR]:"error"},ob=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),i=sb[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class eu{constructor(e){this.name=e,this._logLevel=ib,this._logHandler=ob,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in he))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?rb[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,he.DEBUG,...e),this._logHandler(this,he.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,he.VERBOSE,...e),this._logHandler(this,he.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,he.INFO,...e),this._logHandler(this,he.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,he.WARN,...e),this._logHandler(this,he.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,he.ERROR,...e),this._logHandler(this,he.ERROR,...e)}}const ab=(n,e)=>e.some(t=>n instanceof t);let Zh,ed;function lb(){return Zh||(Zh=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function cb(){return ed||(ed=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const op=new WeakMap,uc=new WeakMap,ap=new WeakMap,Wl=new WeakMap,tu=new WeakMap;function ub(n){const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("success",s),n.removeEventListener("error",l)},s=()=>{t(kr(n.result)),i()},l=()=>{r(n.error),i()};n.addEventListener("success",s),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&op.set(t,n)}).catch(()=>{}),tu.set(e,n),e}function hb(n){if(uc.has(n))return;const e=new Promise((t,r)=>{const i=()=>{n.removeEventListener("complete",s),n.removeEventListener("error",l),n.removeEventListener("abort",l)},s=()=>{t(),i()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",s),n.addEventListener("error",l),n.addEventListener("abort",l)});uc.set(n,e)}let hc={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return uc.get(n);if(e==="objectStoreNames")return n.objectStoreNames||ap.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return kr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function db(n){hc=n(hc)}function fb(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Gl(this),e,...t);return ap.set(r,e.sort?e.sort():[e]),kr(r)}:cb().includes(n)?function(...e){return n.apply(Gl(this),e),kr(op.get(this))}:function(...e){return kr(n.apply(Gl(this),e))}}function pb(n){return typeof n=="function"?fb(n):(n instanceof IDBTransaction&&hb(n),ab(n,lb())?new Proxy(n,hc):n)}function kr(n){if(n instanceof IDBRequest)return ub(n);if(Wl.has(n))return Wl.get(n);const e=pb(n);return e!==n&&(Wl.set(n,e),tu.set(e,n)),e}const Gl=n=>tu.get(n);function mb(n,e,{blocked:t,upgrade:r,blocking:i,terminated:s}={}){const l=indexedDB.open(n,e),c=kr(l);return r&&l.addEventListener("upgradeneeded",h=>{r(kr(l.result),h.oldVersion,h.newVersion,kr(l.transaction),h)}),t&&l.addEventListener("blocked",h=>t(h.oldVersion,h.newVersion,h)),c.then(h=>{s&&h.addEventListener("close",()=>s()),i&&h.addEventListener("versionchange",f=>i(f.oldVersion,f.newVersion,f))}).catch(()=>{}),c}const gb=["get","getKey","getAll","getAllKeys","count"],_b=["put","add","delete","clear"],Kl=new Map;function td(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Kl.get(e))return Kl.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,i=_b.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||gb.includes(t)))return;const s=async function(l,...c){const h=this.transaction(l,i?"readwrite":"readonly");let f=h.store;return r&&(f=f.index(c.shift())),(await Promise.all([f[t](...c),i&&h.done]))[0]};return Kl.set(e,s),s}db(n=>({...n,get:(e,t,r)=>td(e,t)||n.get(e,t,r),has:(e,t)=>!!td(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yb{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vb(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function vb(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const dc="@firebase/app",nd="0.10.17";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cr=new eu("@firebase/app"),bb="@firebase/app-compat",wb="@firebase/analytics-compat",Eb="@firebase/analytics",Tb="@firebase/app-check-compat",Ib="@firebase/app-check",Ab="@firebase/auth",Sb="@firebase/auth-compat",Cb="@firebase/database",Rb="@firebase/data-connect",Pb="@firebase/database-compat",Nb="@firebase/functions",kb="@firebase/functions-compat",xb="@firebase/installations",Ob="@firebase/installations-compat",Db="@firebase/messaging",Lb="@firebase/messaging-compat",Vb="@firebase/performance",Mb="@firebase/performance-compat",Fb="@firebase/remote-config",Ub="@firebase/remote-config-compat",$b="@firebase/storage",jb="@firebase/storage-compat",Bb="@firebase/firestore",zb="@firebase/vertexai",Hb="@firebase/firestore-compat",qb="firebase",Wb="11.1.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fc="[DEFAULT]",Gb={[dc]:"fire-core",[bb]:"fire-core-compat",[Eb]:"fire-analytics",[wb]:"fire-analytics-compat",[Ib]:"fire-app-check",[Tb]:"fire-app-check-compat",[Ab]:"fire-auth",[Sb]:"fire-auth-compat",[Cb]:"fire-rtdb",[Rb]:"fire-data-connect",[Pb]:"fire-rtdb-compat",[Nb]:"fire-fn",[kb]:"fire-fn-compat",[xb]:"fire-iid",[Ob]:"fire-iid-compat",[Db]:"fire-fcm",[Lb]:"fire-fcm-compat",[Vb]:"fire-perf",[Mb]:"fire-perf-compat",[Fb]:"fire-rc",[Ub]:"fire-rc-compat",[$b]:"fire-gcs",[jb]:"fire-gcs-compat",[Bb]:"fire-fst",[Hb]:"fire-fst-compat",[zb]:"fire-vertex","fire-js":"fire-js",[qb]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ma=new Map,Kb=new Map,pc=new Map;function rd(n,e){try{n.container.addComponent(e)}catch(t){cr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function es(n){const e=n.name;if(pc.has(e))return cr.debug(`There were multiple attempts to register component ${e}.`),!1;pc.set(e,n);for(const t of Ma.values())rd(t,n);for(const t of Kb.values())rd(t,n);return!0}function nu(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function gn(n){return n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qb={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},xr=new vo("app","Firebase",Qb);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jb{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mi("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const us=Wb;function lp(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:fc,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw xr.create("bad-app-name",{appName:String(i)});if(t||(t=ip()),!t)throw xr.create("no-options");const s=Ma.get(i);if(s){if(Va(t,s.options)&&Va(r,s.config))return s;throw xr.create("duplicate-app",{appName:i})}const l=new nb(i);for(const h of pc.values())l.addComponent(h);const c=new Jb(t,r,l);return Ma.set(i,c),c}function cp(n=fc){const e=Ma.get(n);if(!e&&n===fc&&ip())return lp();if(!e)throw xr.create("no-app",{appName:n});return e}function Or(n,e,t){var r;let i=(r=Gb[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);const s=i.match(/\s|\//),l=e.match(/\s|\//);if(s||l){const c=[`Unable to register library "${i}" with version "${e}":`];s&&c.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),cr.warn(c.join(" "));return}es(new mi(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xb="firebase-heartbeat-database",Yb=1,so="firebase-heartbeat-store";let Ql=null;function up(){return Ql||(Ql=mb(Xb,Yb,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(so)}catch(t){console.warn(t)}}}}).catch(n=>{throw xr.create("idb-open",{originalErrorMessage:n.message})})),Ql}async function Zb(n){try{const t=(await up()).transaction(so),r=await t.objectStore(so).get(hp(n));return await t.done,r}catch(e){if(e instanceof hr)cr.warn(e.message);else{const t=xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});cr.warn(t.message)}}}async function id(n,e){try{const r=(await up()).transaction(so,"readwrite");await r.objectStore(so).put(e,hp(n)),await r.done}catch(t){if(t instanceof hr)cr.warn(t.message);else{const r=xr.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});cr.warn(r.message)}}}function hp(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ew=1024,tw=30*24*60*60*1e3;class nw{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new iw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=sd();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(l=>l.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const c=new Date(l.date).valueOf();return Date.now()-c<=tw}),this._storage.overwrite(this._heartbeatsCache))}catch(r){cr.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=sd(),{heartbeatsToSend:r,unsentEntries:i}=rw(this._heartbeatsCache.heartbeats),s=La(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(t){return cr.warn(t),""}}}function sd(){return new Date().toISOString().substring(0,10)}function rw(n,e=ew){const t=[];let r=n.slice();for(const i of n){const s=t.find(l=>l.agent===i.agent);if(s){if(s.dates.push(i.date),od(t)>e){s.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),od(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class iw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return Hv()?qv().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await Zb(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return id(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const i=await this.read();return id(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function od(n){return La(JSON.stringify({version:2,heartbeats:n})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sw(n){es(new mi("platform-logger",e=>new yb(e),"PRIVATE")),es(new mi("heartbeat",e=>new nw(e),"PRIVATE")),Or(dc,nd,n),Or(dc,nd,"esm2017"),Or("fire-js","")}sw("");var ow="firebase",aw="11.1.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Or(ow,aw,"app");function ru(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function dp(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const lw=dp,fp=new vo("auth","Firebase",dp());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fa=new eu("@firebase/auth");function cw(n,...e){Fa.logLevel<=he.WARN&&Fa.warn(`Auth (${us}): ${n}`,...e)}function wa(n,...e){Fa.logLevel<=he.ERROR&&Fa.error(`Auth (${us}): ${n}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nn(n,...e){throw su(n,...e)}function yn(n,...e){return su(n,...e)}function iu(n,e,t){const r=Object.assign(Object.assign({},lw()),{[e]:t});return new vo("auth","Firebase",r).create(e,{appName:n.name})}function sr(n){return iu(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function uw(n,e,t){const r=t;if(!(e instanceof r))throw r.name!==e.constructor.name&&nn(n,"argument-error"),iu(n,"argument-error",`Type of ${e.constructor.name} does not match expected instance.Did you pass a reference from a different Auth SDK?`)}function su(n,...e){if(typeof n!="string"){const t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return fp.create(n,...e)}function ee(n,e,...t){if(!n)throw su(e,...t)}function er(n){const e="INTERNAL ASSERTION FAILED: "+n;throw wa(e),new Error(e)}function ur(n,e){n||er(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function mc(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function hw(){return ad()==="http:"||ad()==="https:"}function ad(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(hw()||$v()||"connection"in navigator)?navigator.onLine:!0}function fw(){if(typeof navigator>"u")return null;const n=navigator;return n.languages&&n.languages[0]||n.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wo{constructor(e,t){this.shortDelay=e,this.longDelay=t,ur(t>e,"Short delay should be less than long delay!"),this.isMobile=Mv()||jv()}get(){return dw()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ou(n,e){ur(n.emulator,"Emulator should always be set here");const{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pp{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;er("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;er("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;er("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pw={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mw=new wo(3e4,6e4);function jr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}async function Br(n,e,t,r,i={}){return mp(n,i,async()=>{let s={},l={};r&&(e==="GET"?l=r:s={body:JSON.stringify(r)});const c=bo(Object.assign({key:n.config.apiKey},l)).slice(1),h=await n._getAdditionalHeaders();h["Content-Type"]="application/json",n.languageCode&&(h["X-Firebase-Locale"]=n.languageCode);const f=Object.assign({method:e,headers:h},s);return Uv()||(f.referrerPolicy="no-referrer"),pp.fetch()(gp(n,n.config.apiHost,t,c),f)})}async function mp(n,e,t){n._canInitEmulator=!1;const r=Object.assign(Object.assign({},pw),e);try{const i=new _w(n),s=await Promise.race([t(),i.promise]);i.clearNetworkTimeout();const l=await s.json();if("needConfirmation"in l)throw ha(n,"account-exists-with-different-credential",l);if(s.ok&&!("errorMessage"in l))return l;{const c=s.ok?l.errorMessage:l.error.message,[h,f]=c.split(" : ");if(h==="FEDERATED_USER_ID_ALREADY_LINKED")throw ha(n,"credential-already-in-use",l);if(h==="EMAIL_EXISTS")throw ha(n,"email-already-in-use",l);if(h==="USER_DISABLED")throw ha(n,"user-disabled",l);const E=r[h]||h.toLowerCase().replace(/[_\s]+/g,"-");if(f)throw iu(n,E,f);nn(n,E)}}catch(i){if(i instanceof hr)throw i;nn(n,"network-request-failed",{message:String(i)})}}async function Eo(n,e,t,r,i={}){const s=await Br(n,e,t,r,i);return"mfaPendingCredential"in s&&nn(n,"multi-factor-auth-required",{_serverResponse:s}),s}function gp(n,e,t,r){const i=`${e}${t}?${r}`;return n.config.emulator?ou(n.config,i):`${n.config.apiScheme}://${i}`}function gw(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class _w{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r(yn(this.auth,"network-request-failed")),mw.get())})}}function ha(n,e,t){const r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);const i=yn(n,e,r);return i.customData._tokenResponse=t,i}function ld(n){return n!==void 0&&n.enterprise!==void 0}class yw{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return gw(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function vw(n,e){return Br(n,"GET","/v2/recaptchaConfig",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bw(n,e){return Br(n,"POST","/v1/accounts:delete",e)}async function _p(n,e){return Br(n,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xs(n){if(n)try{const e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function ww(n,e=!1){const t=$t(n),r=await t.getIdToken(e),i=au(r);ee(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");const s=typeof i.firebase=="object"?i.firebase:void 0,l=s==null?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:Xs(Jl(i.auth_time)),issuedAtTime:Xs(Jl(i.iat)),expirationTime:Xs(Jl(i.exp)),signInProvider:l||null,signInSecondFactor:(s==null?void 0:s.sign_in_second_factor)||null}}function Jl(n){return Number(n)*1e3}function au(n){const[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return wa("JWT malformed, contained fewer than 3 sections"),null;try{const i=np(t);return i?JSON.parse(i):(wa("Failed to decode base64 JWT payload"),null)}catch(i){return wa("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function cd(n){const e=au(n);return ee(e,"internal-error"),ee(typeof e.exp<"u","internal-error"),ee(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oo(n,e,t=!1){if(t)return e;try{return await e}catch(r){throw r instanceof hr&&Ew(r)&&n.auth.currentUser===n&&await n.auth.signOut(),r}}function Ew({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},t)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gc{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=Xs(this.lastLoginAt),this.creationTime=Xs(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ua(n){var e;const t=n.auth,r=await n.getIdToken(),i=await oo(n,_p(t,{idToken:r}));ee(i==null?void 0:i.users.length,t,"internal-error");const s=i.users[0];n._notifyReloadListener(s);const l=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?yp(s.providerUserInfo):[],c=Aw(n.providerData,l),h=n.isAnonymous,f=!(n.email&&s.passwordHash)&&!(c!=null&&c.length),E=h?f:!1,_={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:c,metadata:new gc(s.createdAt,s.lastLoginAt),isAnonymous:E};Object.assign(n,_)}async function Iw(n){const e=$t(n);await Ua(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function Aw(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function yp(n){return n.map(e=>{var{providerId:t}=e,r=ru(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sw(n,e){const t=await mp(n,{},async()=>{const r=bo({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=n.config,l=gp(n,i,"/v1/token",`key=${s}`),c=await n._getAdditionalHeaders();return c["Content-Type"]="application/x-www-form-urlencoded",pp.fetch()(l,{method:"POST",headers:c,body:r})});return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}}async function Cw(n,e){return Br(n,"POST","/v2/accounts:revokeToken",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ee(e.idToken,"internal-error"),ee(typeof e.idToken<"u","internal-error"),ee(typeof e.refreshToken<"u","internal-error");const t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):cd(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){ee(e.length!==0,"internal-error");const t=cd(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e,t=!1){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(ee(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:r,refreshToken:i,expiresIn:s}=await Sw(e,t);this.updateTokensAndExpiration(r,i,Number(s))}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){const{refreshToken:r,accessToken:i,expirationTime:s}=t,l=new Ki;return r&&(ee(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&(ee(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),s&&(ee(typeof s=="number","internal-error",{appName:e}),l.expirationTime=s),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ki,this.toJSON())}_performRefresh(){return er("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cr(n,e){ee(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}class tr{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,s=ru(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Tw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new gc(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const t=await oo(this,this.stsTokenManager.getToken(this.auth,e));return ee(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return ww(this,e)}reload(){return Iw(this)}_assign(e){this!==e&&(ee(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new tr(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){ee(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,t=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&await Ua(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(gn(this.auth.app))return Promise.reject(sr(this.auth));const e=await this.getIdToken();return await oo(this,bw(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,s,l,c,h,f,E;const _=(r=t.displayName)!==null&&r!==void 0?r:void 0,I=(i=t.email)!==null&&i!==void 0?i:void 0,C=(s=t.phoneNumber)!==null&&s!==void 0?s:void 0,k=(l=t.photoURL)!==null&&l!==void 0?l:void 0,F=(c=t.tenantId)!==null&&c!==void 0?c:void 0,D=(h=t._redirectEventId)!==null&&h!==void 0?h:void 0,L=(f=t.createdAt)!==null&&f!==void 0?f:void 0,U=(E=t.lastLoginAt)!==null&&E!==void 0?E:void 0,{uid:G,emailVerified:Y,isAnonymous:fe,providerData:pe,stsTokenManager:P}=t;ee(G&&P,e,"internal-error");const w=Ki.fromJSON(this.name,P);ee(typeof G=="string",e,"internal-error"),Cr(_,e.name),Cr(I,e.name),ee(typeof Y=="boolean",e,"internal-error"),ee(typeof fe=="boolean",e,"internal-error"),Cr(C,e.name),Cr(k,e.name),Cr(F,e.name),Cr(D,e.name),Cr(L,e.name),Cr(U,e.name);const v=new tr({uid:G,auth:e,email:I,emailVerified:Y,displayName:_,isAnonymous:fe,photoURL:k,phoneNumber:C,tenantId:F,stsTokenManager:w,createdAt:L,lastLoginAt:U});return pe&&Array.isArray(pe)&&(v.providerData=pe.map(T=>Object.assign({},T))),D&&(v._redirectEventId=D),v}static async _fromIdTokenResponse(e,t,r=!1){const i=new Ki;i.updateFromServerResponse(t);const s=new tr({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await Ua(s),s}static async _fromGetAccountInfoResponse(e,t,r){const i=t.users[0];ee(i.localId!==void 0,"internal-error");const s=i.providerUserInfo!==void 0?yp(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(s!=null&&s.length),c=new Ki;c.updateFromIdToken(r);const h=new tr({uid:i.localId,auth:e,stsTokenManager:c,isAnonymous:l}),f={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new gc(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(s!=null&&s.length)};return Object.assign(h,f),h}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ud=new Map;function nr(n){ur(n instanceof Function,"Expected a class definition");let e=ud.get(n);return e?(ur(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,ud.set(n,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vp{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return t===void 0?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}vp.type="NONE";const hd=vp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ea(n,e,t){return`firebase:${n}:${e}:${t}`}class Qi{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;const{config:i,name:s}=this.auth;this.fullUserKey=Ea(this.userKey,i.apiKey,s),this.fullPersistenceKey=Ea("persistence",i.apiKey,s),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?tr._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t,r="authUser"){if(!t.length)return new Qi(nr(hd),e,r);const i=(await Promise.all(t.map(async f=>{if(await f._isAvailable())return f}))).filter(f=>f);let s=i[0]||nr(hd);const l=Ea(r,e.config.apiKey,e.name);let c=null;for(const f of t)try{const E=await f._get(l);if(E){const _=tr._fromJSON(e,E);f!==s&&(c=_),s=f;break}}catch{}const h=i.filter(f=>f._shouldAllowMigration);return!s._shouldAllowMigration||!h.length?new Qi(s,e,r):(s=h[0],c&&await s._set(l,c.toJSON()),await Promise.all(t.map(async f=>{if(f!==s)try{await f._remove(l)}catch{}})),new Qi(s,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dd(n){const e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(Tp(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(bp(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(Ap(e))return"Blackberry";if(Sp(e))return"Webos";if(wp(e))return"Safari";if((e.includes("chrome/")||Ep(e))&&!e.includes("edge/"))return"Chrome";if(Ip(e))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function bp(n=Tt()){return/firefox\//i.test(n)}function wp(n=Tt()){const e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function Ep(n=Tt()){return/crios\//i.test(n)}function Tp(n=Tt()){return/iemobile/i.test(n)}function Ip(n=Tt()){return/android/i.test(n)}function Ap(n=Tt()){return/blackberry/i.test(n)}function Sp(n=Tt()){return/webos/i.test(n)}function lu(n=Tt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function Rw(n=Tt()){var e;return lu(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function Pw(){return Bv()&&document.documentMode===10}function Cp(n=Tt()){return lu(n)||Ip(n)||Sp(n)||Ap(n)||/windows phone/i.test(n)||Tp(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Rp(n,e=[]){let t;switch(n){case"Browser":t=dd(Tt());break;case"Worker":t=`${dd(Tt())}-${n}`;break;default:t=n}const r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${us}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nw{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const r=s=>new Promise((l,c)=>{try{const h=e(s);l(h)}catch(h){c(h)}});r.onAbort=t,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const r of this.queue)await r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(const i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function kw(n,e={}){return Br(n,"GET","/v2/passwordPolicy",jr(n,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xw=6;class Ow{constructor(e){var t,r,i,s;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=l.minPasswordLength)!==null&&t!==void 0?t:xw,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,s,l,c;const h={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,h),this.validatePasswordCharacterOptions(e,h),h.isValid&&(h.isValid=(t=h.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),h.isValid&&(h.isValid=(r=h.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),h.isValid&&(h.isValid=(i=h.containsLowercaseLetter)!==null&&i!==void 0?i:!0),h.isValid&&(h.isValid=(s=h.containsUppercaseLetter)!==null&&s!==void 0?s:!0),h.isValid&&(h.isValid=(l=h.containsNumericCharacter)!==null&&l!==void 0?l:!0),h.isValid&&(h.isValid=(c=h.containsNonAlphanumericCharacter)!==null&&c!==void 0?c:!0),h}validatePasswordLengthOptions(e,t){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dw{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new fd(this),this.idTokenSubscription=new fd(this),this.beforeStateQueue=new Nw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=fp,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=nr(t)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await Qi.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const t=await _p(this,{idToken:e}),r=await tr._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(gn(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(c=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(c,c))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,c=i==null?void 0:i._redirectEventId,h=await this.tryRedirectSignIn(e);(!l||l===c)&&(h!=null&&h.user)&&(i=h.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return ee(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await Ua(e)}catch(t){if((t==null?void 0:t.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=fw()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(gn(this.app))return Promise.reject(sr(this));const t=e?$t(e):null;return t&&ee(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e,t=!1){if(!this._deleted)return e&&ee(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return gn(this.app)?Promise.reject(sr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return gn(this.app)?Promise.reject(sr(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(nr(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await kw(this),t=new Ow(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new vo("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},t)}})}async revokeAccessToken(e){if(this.currentUser){const t=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),await Cw(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,t){const r=await this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&nr(e)||this._popupRedirectResolver;ee(t,this,"argument-error"),this.redirectPersistenceManager=await Qi.create(this,[nr(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,r;return this._isInitialized&&await this.queue(async()=>{}),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};const s=typeof t=="function"?t:t.next.bind(t);let l=!1;const c=this._isInitialized?Promise.resolve():this._initializationPromise;if(ee(c,this,"internal-error"),c.then(()=>{l||s(this.currentUser)}),typeof t=="function"){const h=e.addObserver(t,r,i);return()=>{l=!0,h()}}else{const h=e.addObserver(t);return()=>{l=!0,h()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ee(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Rp(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(t["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t}async _getAppCheckToken(){var e;const t=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return t!=null&&t.error&&cw(`Error while retrieving App Check token: ${t.error}`),t==null?void 0:t.token}}function zr(n){return $t(n)}class fd{constructor(e){this.auth=e,this.observer=null,this.addObserver=Jv(t=>this.observer=t)}get next(){return ee(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let cl={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Lw(n){cl=n}function Pp(n){return cl.loadJS(n)}function Vw(){return cl.recaptchaEnterpriseScript}function Mw(){return cl.gapiScript}function Fw(n){return`__${n}${Math.floor(Math.random()*1e6)}`}class Uw{constructor(){this.enterprise=new $w}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class $w{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const jw="recaptcha-enterprise",Np="NO_RECAPTCHA";class Bw{constructor(e){this.type=jw,this.auth=zr(e)}async verify(e="verify",t=!1){async function r(s){if(!t){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise(async(l,c)=>{vw(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(h=>{if(h.recaptchaKey===void 0)c(new Error("recaptcha Enterprise site key undefined"));else{const f=new yw(h);return s.tenantId==null?s._agentRecaptchaConfig=f:s._tenantRecaptchaConfigs[s.tenantId]=f,l(f.siteKey)}}).catch(h=>{c(h)})})}function i(s,l,c){const h=window.grecaptcha;ld(h)?h.enterprise.ready(()=>{h.enterprise.execute(s,{action:e}).then(f=>{l(f)}).catch(()=>{l(Np)})}):c(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new Uw().execute("siteKey",{action:"verify"}):new Promise((s,l)=>{r(this.auth).then(c=>{if(!t&&ld(window.grecaptcha))i(c,s,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let h=Vw();h.length!==0&&(h+=c),Pp(h).then(()=>{i(c,s,l)}).catch(f=>{l(f)})}}).catch(c=>{l(c)})})}}async function pd(n,e,t,r=!1,i=!1){const s=new Bw(n);let l;if(i)l=Np;else try{l=await s.verify(t)}catch{l=await s.verify(t,!0)}const c=Object.assign({},e);if(t==="mfaSmsEnrollment"||t==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in c){const h=c.phoneEnrollmentInfo.phoneNumber,f=c.phoneEnrollmentInfo.recaptchaToken;Object.assign(c,{phoneEnrollmentInfo:{phoneNumber:h,recaptchaToken:f,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in c){const h=c.phoneSignInInfo.recaptchaToken;Object.assign(c,{phoneSignInInfo:{recaptchaToken:h,captchaResponse:l,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return c}return r?Object.assign(c,{captchaResp:l}):Object.assign(c,{captchaResponse:l}),Object.assign(c,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(c,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),c}async function _c(n,e,t,r,i){var s;if(!((s=n._getRecaptchaConfig())===null||s===void 0)&&s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const l=await pd(n,e,t,t==="getOobCode");return r(n,l)}else return r(n,e).catch(async l=>{if(l.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const c=await pd(n,e,t,t==="getOobCode");return r(n,c)}else return Promise.reject(l)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zw(n,e){const t=nu(n,"auth");if(t.isInitialized()){const i=t.getImmediate(),s=t.getOptions();if(Va(s,e??{}))return i;nn(i,"already-initialized")}return t.initialize({options:e})}function Hw(n,e){const t=(e==null?void 0:e.persistence)||[],r=(Array.isArray(t)?t:[t]).map(nr);e!=null&&e.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function qw(n,e,t){const r=zr(n);ee(r._canInitEmulator,r,"emulator-config-failed"),ee(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,s=kp(e),{host:l,port:c}=Ww(e),h=c===null?"":`:${c}`;r.config.emulator={url:`${s}//${l}${h}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:c,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),Gw()}function kp(n){const e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function Ww(n){const e=kp(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};const r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const s=i[1];return{host:s,port:md(r.substr(s.length+1))}}else{const[s,l]=r.split(":");return{host:s,port:md(l)}}}function md(n){if(!n)return null;const e=Number(n);return isNaN(e)?null:e}function Gw(){function n(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cu{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return er("not implemented")}_getIdTokenResponse(e){return er("not implemented")}_linkToIdToken(e,t){return er("not implemented")}_getReauthenticationResolver(e){return er("not implemented")}}async function Kw(n,e){return Br(n,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Qw(n,e){return Eo(n,"POST","/v1/accounts:signInWithPassword",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(n,e){return Eo(n,"POST","/v1/accounts:signInWithEmailLink",jr(n,e))}async function Xw(n,e){return Eo(n,"POST","/v1/accounts:signInWithEmailLink",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ao extends cu{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new ao(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new ao(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e;if(t!=null&&t.email&&(t!=null&&t.password)){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _c(e,t,"signInWithPassword",Qw);case"emailLink":return Jw(e,{email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":const r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return _c(e,r,"signUpPassword",Kw);case"emailLink":return Xw(e,{idToken:t,email:this._email,oobCode:this._password});default:nn(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ji(n,e){return Eo(n,"POST","/v1/accounts:signInWithIdp",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yw="http://localhost";class gi extends cu{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new gi(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):nn("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=t,s=ru(t,["providerId","signInMethod"]);if(!r||!i)return null;const l=new gi(r,i);return l.idToken=s.idToken||void 0,l.accessToken=s.accessToken||void 0,l.secret=s.secret,l.nonce=s.nonce,l.pendingToken=s.pendingToken||null,l}_getIdTokenResponse(e){const t=this.buildRequest();return Ji(e,t)}_linkToIdToken(e,t){const r=this.buildRequest();return r.idToken=t,Ji(e,r)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,Ji(e,t)}buildRequest(){const e={requestUri:Yw,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=bo(t)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zw(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function e0(n){const e=Ws(Gs(n)).link,t=e?Ws(Gs(e)).deep_link_id:null,r=Ws(Gs(n)).deep_link_id;return(r?Ws(Gs(r)).link:null)||r||t||e||n}class uu{constructor(e){var t,r,i,s,l,c;const h=Ws(Gs(e)),f=(t=h.apiKey)!==null&&t!==void 0?t:null,E=(r=h.oobCode)!==null&&r!==void 0?r:null,_=Zw((i=h.mode)!==null&&i!==void 0?i:null);ee(f&&E&&_,"argument-error"),this.apiKey=f,this.operation=_,this.code=E,this.continueUrl=(s=h.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(l=h.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(c=h.tenantId)!==null&&c!==void 0?c:null}static parseLink(e){const t=e0(e);try{return new uu(t)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hs{constructor(){this.providerId=hs.PROVIDER_ID}static credential(e,t){return ao._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const r=uu.parseLink(t);return ee(r,"argument-error"),ao._fromEmailAndCode(e,r.code,r.tenantId)}}hs.PROVIDER_ID="password";hs.EMAIL_PASSWORD_SIGN_IN_METHOD="password";hs.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hu{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class To extends hu{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rr extends To{constructor(){super("facebook.com")}static credential(e){return gi._fromParams({providerId:Rr.PROVIDER_ID,signInMethod:Rr.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Rr.credentialFromTaggedObject(e)}static credentialFromError(e){return Rr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Rr.credential(e.oauthAccessToken)}catch{return null}}}Rr.FACEBOOK_SIGN_IN_METHOD="facebook.com";Rr.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yn extends To{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return gi._fromParams({providerId:Yn.PROVIDER_ID,signInMethod:Yn.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return Yn.credentialFromTaggedObject(e)}static credentialFromError(e){return Yn.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:t,oauthAccessToken:r}=e;if(!t&&!r)return null;try{return Yn.credential(t,r)}catch{return null}}}Yn.GOOGLE_SIGN_IN_METHOD="google.com";Yn.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pr extends To{constructor(){super("github.com")}static credential(e){return gi._fromParams({providerId:Pr.PROVIDER_ID,signInMethod:Pr.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Pr.credentialFromTaggedObject(e)}static credentialFromError(e){return Pr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Pr.credential(e.oauthAccessToken)}catch{return null}}}Pr.GITHUB_SIGN_IN_METHOD="github.com";Pr.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nr extends To{constructor(){super("twitter.com")}static credential(e,t){return gi._fromParams({providerId:Nr.PROVIDER_ID,signInMethod:Nr.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return Nr.credentialFromTaggedObject(e)}static credentialFromError(e){return Nr.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:t,oauthTokenSecret:r}=e;if(!t||!r)return null;try{return Nr.credential(t,r)}catch{return null}}}Nr.TWITTER_SIGN_IN_METHOD="twitter.com";Nr.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t0(n,e){return Eo(n,"POST","/v1/accounts:signUp",jr(n,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _i{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,r,i=!1){const s=await tr._fromIdTokenResponse(e,r,i),l=gd(r);return new _i({user:s,providerId:l,_tokenResponse:r,operationType:t})}static async _forOperation(e,t,r){await e._updateTokensIfNecessary(r,!0);const i=gd(r);return new _i({user:e,providerId:i,_tokenResponse:r,operationType:t})}}function gd(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $a extends hr{constructor(e,t,r,i){var s;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,$a.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new $a(e,t,r,i)}}function xp(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?$a._fromErrorAndOperation(n,s,e,r):s})}async function n0(n,e,t=!1){const r=await oo(n,e._linkToIdToken(n.auth,await n.getIdToken()),t);return _i._forOperation(n,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function r0(n,e,t=!1){const{auth:r}=n;if(gn(r.app))return Promise.reject(sr(r));const i="reauthenticate";try{const s=await oo(n,xp(r,i,e,n),t);ee(s.idToken,r,"internal-error");const l=au(s.idToken);ee(l,r,"internal-error");const{sub:c}=l;return ee(n.uid===c,r,"user-mismatch"),_i._forOperation(n,i,s)}catch(s){throw(s==null?void 0:s.code)==="auth/user-not-found"&&nn(r,"user-mismatch"),s}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Op(n,e,t=!1){if(gn(n.app))return Promise.reject(sr(n));const r="signIn",i=await xp(n,r,e),s=await _i._fromIdTokenResponse(n,r,i);return t||await n._updateCurrentUser(s.user),s}async function i0(n,e){return Op(zr(n),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dp(n){const e=zr(n);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function s0(n,e,t){if(gn(n.app))return Promise.reject(sr(n));const r=zr(n),l=await _c(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",t0).catch(h=>{throw h.code==="auth/password-does-not-meet-requirements"&&Dp(n),h}),c=await _i._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(c.user),c}function o0(n,e,t){return gn(n.app)?Promise.reject(sr(n)):i0($t(n),hs.credential(e,t)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&Dp(n),r})}function a0(n,e,t,r){return $t(n).onIdTokenChanged(e,t,r)}function l0(n,e,t){return $t(n).beforeAuthStateChanged(e,t)}function c0(n,e,t,r){return $t(n).onAuthStateChanged(e,t,r)}function u0(n){return $t(n).signOut()}const ja="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lp{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ja,"1"),this.storage.removeItem(ja),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h0=1e3,d0=10;class Vp extends Lp{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Cp(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const r=this.storage.getItem(t),i=this.localCache[t];r!==i&&e(t,i,r)}}onStorageEvent(e,t=!1){if(!e.key){this.forAllChangedKeys((l,c,h)=>{this.notifyListeners(l,h)});return}const r=e.key;t?this.detachListener():this.stopPolling();const i=()=>{const l=this.storage.getItem(r);!t&&this.localCache[r]===l||this.notifyListeners(r,l)},s=this.storage.getItem(r);Pw()&&s!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,d0):i()}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t&&JSON.parse(t))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,t,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:r}),!0)})},h0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Vp.type="LOCAL";const f0=Vp;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp extends Lp{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Mp.type="SESSION";const Fp=Mp;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p0(n){return Promise.all(n.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ul{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find(i=>i.isListeningto(e));if(t)return t;const r=new ul(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:r,eventType:i,data:s}=t.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;t.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const c=Array.from(l).map(async f=>f(t.origin,s)),h=await p0(c);t.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:h})}_subscribe(e,t){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),(!t||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}ul.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function du(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,l;return new Promise((c,h)=>{const f=du("",20);i.port1.start();const E=setTimeout(()=>{h(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(_){const I=_;if(I.data.eventId===f)switch(I.data.status){case"ack":clearTimeout(E),s=setTimeout(()=>{h(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),c(I.data.response);break;default:clearTimeout(E),clearTimeout(s),h(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:f,data:t},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function On(){return window}function g0(n){On().location.href=n}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Up(){return typeof On().WorkerGlobalScope<"u"&&typeof On().importScripts=="function"}async function _0(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function y0(){var n;return((n=navigator==null?void 0:navigator.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function v0(){return Up()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $p="firebaseLocalStorageDb",b0=1,Ba="firebaseLocalStorage",jp="fbase_key";class Io{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}}function hl(n,e){return n.transaction([Ba],e?"readwrite":"readonly").objectStore(Ba)}function w0(){const n=indexedDB.deleteDatabase($p);return new Io(n).toPromise()}function yc(){const n=indexedDB.open($p,b0);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{const r=n.result;try{r.createObjectStore(Ba,{keyPath:jp})}catch(i){t(i)}}),n.addEventListener("success",async()=>{const r=n.result;r.objectStoreNames.contains(Ba)?e(r):(r.close(),await w0(),e(await yc()))})})}async function _d(n,e,t){const r=hl(n,!0).put({[jp]:e,value:t});return new Io(r).toPromise()}async function E0(n,e){const t=hl(n,!1).get(e),r=await new Io(t).toPromise();return r===void 0?null:r.value}function yd(n,e){const t=hl(n,!0).delete(e);return new Io(t).toPromise()}const T0=800,I0=3;class Bp{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await yc(),this.db)}async _withRetries(e){let t=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(t++>I0)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Up()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=ul._getInstance(v0()),this.receiver._subscribe("keyChanged",async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)})),this.receiver._subscribe("ping",async(e,t)=>["keyChanged"])}async initializeSender(){var e,t;if(this.activeServiceWorker=await _0(),!this.activeServiceWorker)return;this.sender=new m0(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((t=r[0])===null||t===void 0)&&t.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||y0()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await yc();return await _d(e,ja,"1"),await yd(e,ja),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite(async()=>(await this._withRetries(r=>_d(r,e,t)),this.localCache[e]=t,this.notifyServiceWorker(e)))}async _get(e){const t=await this._withRetries(r=>E0(r,e));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(t=>yd(t,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const s=hl(i,!1).getAll();return new Io(s).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const t=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:s}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(s)&&(this.notifyListeners(i,s),t.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),t.push(i));return t}notifyListeners(e,t){this.localCache[e]=t;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),T0)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}Bp.type="LOCAL";const A0=Bp;new wo(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zp(n,e){return e?nr(e):(ee(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fu extends cu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Ji(e,this._buildIdpRequest())}_linkToIdToken(e,t){return Ji(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return Ji(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function S0(n){return Op(n.auth,new fu(n),n.bypassAuthState)}function C0(n){const{auth:e,user:t}=n;return ee(t,e,"internal-error"),r0(t,new fu(n),n.bypassAuthState)}async function R0(n){const{auth:e,user:t}=n;return ee(t,e,"internal-error"),n0(t,new fu(n),n.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hp{constructor(e,t,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise(async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:t,sessionId:r,postBody:i,tenantId:s,error:l,type:c}=e;if(l){this.reject(l);return}const h={auth:this.auth,requestUri:t,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(c)(h))}catch(f){this.reject(f)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return S0;case"linkViaPopup":case"linkViaRedirect":return R0;case"reauthViaPopup":case"reauthViaRedirect":return C0;default:nn(this.auth,"internal-error")}}resolve(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){ur(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const P0=new wo(2e3,1e4);async function N0(n,e,t){if(gn(n.app))return Promise.reject(yn(n,"operation-not-supported-in-this-environment"));const r=zr(n);uw(n,e,hu);const i=zp(r,t);return new hi(r,"signInViaPopup",e,i).executeNotNull()}class hi extends Hp{constructor(e,t,r,i,s){super(e,t,i,s),this.provider=r,this.authWindow=null,this.pollId=null,hi.currentPopupAction&&hi.currentPopupAction.cancel(),hi.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ee(e,this.auth,"internal-error"),e}async onExecution(){ur(this.filter.length===1,"Popup operations only handle one event");const e=du();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(t=>{this.reject(t)}),this.resolver._isIframeWebStorageSupported(this.auth,t=>{t||this.reject(yn(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(yn(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,hi.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,r;if(!((r=(t=this.authWindow)===null||t===void 0?void 0:t.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(yn(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,P0.get())};e()}}hi.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0="pendingRedirect",Ta=new Map;class x0 extends Hp{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}async execute(){let e=Ta.get(this.auth._key());if(!e){try{const r=await O0(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Ta.set(this.auth._key(),e)}return this.bypassAuthState||Ta.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function O0(n,e){const t=V0(e),r=L0(n);if(!await r._isAvailable())return!1;const i=await r._get(t)==="true";return await r._remove(t),i}function D0(n,e){Ta.set(n._key(),e)}function L0(n){return nr(n._redirectPersistence)}function V0(n){return Ea(k0,n.config.apiKey,n.name)}async function M0(n,e,t=!1){if(gn(n.app))return Promise.reject(sr(n));const r=zr(n),i=zp(r,e),l=await new x0(r,i,t).execute();return l&&!t&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F0=10*60*1e3;class U0{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!$0(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!qp(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError(yn(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=F0&&this.cachedEventUids.clear(),this.cachedEventUids.has(vd(e))}saveEventToCache(e){this.cachedEventUids.add(vd(e)),this.lastProcessedEventTime=Date.now()}}function vd(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function qp({type:n,error:e}){return n==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function $0(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return qp(n);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function j0(n,e={}){return Br(n,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B0=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,z0=/^https?/;async function H0(n){if(n.config.emulator)return;const{authorizedDomains:e}=await j0(n);for(const t of e)try{if(q0(t))return}catch{}nn(n,"unauthorized-domain")}function q0(n){const e=mc(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){const l=new URL(n);return l.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&l.hostname===r}if(!z0.test(t))return!1;if(B0.test(n))return r===n;const i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0=new wo(3e4,6e4);function bd(){const n=On().___jsl;if(n!=null&&n.H){for(const e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function G0(n){return new Promise((e,t)=>{var r,i,s;function l(){bd(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{bd(),t(yn(n,"network-request-failed"))},timeout:W0.get()})}if(!((i=(r=On().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=On().gapi)===null||s===void 0)&&s.load)l();else{const c=Fw("iframefcb");return On()[c]=()=>{gapi.load?l():t(yn(n,"network-request-failed"))},Pp(`${Mw()}?onload=${c}`).catch(h=>t(h))}}).catch(e=>{throw Ia=null,e})}let Ia=null;function K0(n){return Ia=Ia||G0(n),Ia}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Q0=new wo(5e3,15e3),J0="__/auth/iframe",X0="emulator/auth/iframe",Y0={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Z0=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function eE(n){const e=n.config;ee(e.authDomain,n,"auth-domain-config-required");const t=e.emulator?ou(e,X0):`https://${n.config.authDomain}/${J0}`,r={apiKey:e.apiKey,appName:n.name,v:us},i=Z0.get(n.config.apiHost);i&&(r.eid=i);const s=n._getFrameworks();return s.length&&(r.fw=s.join(",")),`${t}?${bo(r).slice(1)}`}async function tE(n){const e=await K0(n),t=On().gapi;return ee(t,n,"internal-error"),e.open({where:document.body,url:eE(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Y0,dontclear:!0},r=>new Promise(async(i,s)=>{await r.restyle({setHideOnLeave:!1});const l=yn(n,"network-request-failed"),c=On().setTimeout(()=>{s(l)},Q0.get());function h(){On().clearTimeout(c),i(r)}r.ping(h).then(h,()=>{s(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nE={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},rE=500,iE=600,sE="_blank",oE="http://localhost";class wd{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function aE(n,e,t,r=rE,i=iE){const s=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let c="";const h=Object.assign(Object.assign({},nE),{width:r.toString(),height:i.toString(),top:s,left:l}),f=Tt().toLowerCase();t&&(c=Ep(f)?sE:t),bp(f)&&(e=e||oE,h.scrollbars="yes");const E=Object.entries(h).reduce((I,[C,k])=>`${I}${C}=${k},`,"");if(Rw(f)&&c!=="_self")return lE(e||"",c),new wd(null);const _=window.open(e||"",c,E);ee(_,n,"popup-blocked");try{_.focus()}catch{}return new wd(_)}function lE(n,e){const t=document.createElement("a");t.href=n,t.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="__/auth/handler",uE="emulator/auth/handler",hE=encodeURIComponent("fac");async function Ed(n,e,t,r,i,s){ee(n.config.authDomain,n,"auth-domain-config-required"),ee(n.config.apiKey,n,"invalid-api-key");const l={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:us,eventId:i};if(e instanceof hu){e.setDefaultLanguage(n.languageCode),l.providerId=e.providerId||"",Qv(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[E,_]of Object.entries({}))l[E]=_}if(e instanceof To){const E=e.getScopes().filter(_=>_!=="");E.length>0&&(l.scopes=E.join(","))}n.tenantId&&(l.tid=n.tenantId);const c=l;for(const E of Object.keys(c))c[E]===void 0&&delete c[E];const h=await n._getAppCheckToken(),f=h?`#${hE}=${encodeURIComponent(h)}`:"";return`${dE(n)}?${bo(c).slice(1)}${f}`}function dE({config:n}){return n.emulator?ou(n,uE):`https://${n.authDomain}/${cE}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl="webStorageSupport";class fE{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Fp,this._completeRedirectFn=M0,this._overrideRedirectResult=D0}async _openPopup(e,t,r,i){var s;ur((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");const l=await Ed(e,t,r,mc(),i);return aE(e,l,du())}async _openRedirect(e,t,r,i){await this._originValidation(e);const s=await Ed(e,t,r,mc(),i);return g0(s),new Promise(()=>{})}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:i,promise:s}=this.eventManagers[t];return i?Promise.resolve(i):(ur(s,"If manager is not set, promise should be"),s)}const r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}async initAndGetManager(e){const t=await tE(e),r=new U0(e);return t.register("authEvent",i=>(ee(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(Xl,{type:Xl},i=>{var s;const l=(s=i==null?void 0:i[0])===null||s===void 0?void 0:s[Xl];l!==void 0&&t(!!l),nn(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=H0(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Cp()||wp()||lu()}}const pE=fE;var Td="@firebase/auth",Id="1.8.1";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mE{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){ee(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gE(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function _E(n){es(new mi("auth",(e,{options:t})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:l,authDomain:c}=r.options;ee(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const h={apiKey:l,authDomain:c,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Rp(n)},f=new Dw(r,i,s,h);return Hw(f,t),f},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),es(new mi("auth-internal",e=>{const t=zr(e.getProvider("auth").getImmediate());return(r=>new mE(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),Or(Td,Id,gE(n)),Or(Td,Id,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE=5*60,vE=sp("authIdTokenMaxAge")||yE;let Ad=null;const bE=n=>async e=>{const t=e&&await e.getIdTokenResult(),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>vE)return;const i=t==null?void 0:t.token;Ad!==i&&(Ad=i,await fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function wE(n=cp()){const e=nu(n,"auth");if(e.isInitialized())return e.getImmediate();const t=zw(n,{popupRedirectResolver:pE,persistence:[A0,f0,Fp]}),r=sp("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const s=new URL(r,location.origin);if(location.origin===s.origin){const l=bE(s.toString());l0(t,l,()=>l(t.currentUser)),a0(t,c=>l(c))}}const i=rp("auth");return i&&qw(t,`http://${i}`),t}function EE(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}Lw({loadJS(n){return new Promise((e,t)=>{const r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{const s=yn("internal-error");s.customData=i,t(s)},r.type="text/javascript",r.charset="UTF-8",EE().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});_E("Browser");var Sd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Wp;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(P,w){function v(){}v.prototype=w.prototype,P.D=w.prototype,P.prototype=new v,P.prototype.constructor=P,P.C=function(T,A,R){for(var S=Array(arguments.length-2),Fe=2;Fe<arguments.length;Fe++)S[Fe-2]=arguments[Fe];return w.prototype[A].apply(T,S)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(P,w,v){v||(v=0);var T=Array(16);if(typeof w=="string")for(var A=0;16>A;++A)T[A]=w.charCodeAt(v++)|w.charCodeAt(v++)<<8|w.charCodeAt(v++)<<16|w.charCodeAt(v++)<<24;else for(A=0;16>A;++A)T[A]=w[v++]|w[v++]<<8|w[v++]<<16|w[v++]<<24;w=P.g[0],v=P.g[1],A=P.g[2];var R=P.g[3],S=w+(R^v&(A^R))+T[0]+3614090360&4294967295;w=v+(S<<7&4294967295|S>>>25),S=R+(A^w&(v^A))+T[1]+3905402710&4294967295,R=w+(S<<12&4294967295|S>>>20),S=A+(v^R&(w^v))+T[2]+606105819&4294967295,A=R+(S<<17&4294967295|S>>>15),S=v+(w^A&(R^w))+T[3]+3250441966&4294967295,v=A+(S<<22&4294967295|S>>>10),S=w+(R^v&(A^R))+T[4]+4118548399&4294967295,w=v+(S<<7&4294967295|S>>>25),S=R+(A^w&(v^A))+T[5]+1200080426&4294967295,R=w+(S<<12&4294967295|S>>>20),S=A+(v^R&(w^v))+T[6]+2821735955&4294967295,A=R+(S<<17&4294967295|S>>>15),S=v+(w^A&(R^w))+T[7]+4249261313&4294967295,v=A+(S<<22&4294967295|S>>>10),S=w+(R^v&(A^R))+T[8]+1770035416&4294967295,w=v+(S<<7&4294967295|S>>>25),S=R+(A^w&(v^A))+T[9]+2336552879&4294967295,R=w+(S<<12&4294967295|S>>>20),S=A+(v^R&(w^v))+T[10]+4294925233&4294967295,A=R+(S<<17&4294967295|S>>>15),S=v+(w^A&(R^w))+T[11]+2304563134&4294967295,v=A+(S<<22&4294967295|S>>>10),S=w+(R^v&(A^R))+T[12]+1804603682&4294967295,w=v+(S<<7&4294967295|S>>>25),S=R+(A^w&(v^A))+T[13]+4254626195&4294967295,R=w+(S<<12&4294967295|S>>>20),S=A+(v^R&(w^v))+T[14]+2792965006&4294967295,A=R+(S<<17&4294967295|S>>>15),S=v+(w^A&(R^w))+T[15]+1236535329&4294967295,v=A+(S<<22&4294967295|S>>>10),S=w+(A^R&(v^A))+T[1]+4129170786&4294967295,w=v+(S<<5&4294967295|S>>>27),S=R+(v^A&(w^v))+T[6]+3225465664&4294967295,R=w+(S<<9&4294967295|S>>>23),S=A+(w^v&(R^w))+T[11]+643717713&4294967295,A=R+(S<<14&4294967295|S>>>18),S=v+(R^w&(A^R))+T[0]+3921069994&4294967295,v=A+(S<<20&4294967295|S>>>12),S=w+(A^R&(v^A))+T[5]+3593408605&4294967295,w=v+(S<<5&4294967295|S>>>27),S=R+(v^A&(w^v))+T[10]+38016083&4294967295,R=w+(S<<9&4294967295|S>>>23),S=A+(w^v&(R^w))+T[15]+3634488961&4294967295,A=R+(S<<14&4294967295|S>>>18),S=v+(R^w&(A^R))+T[4]+3889429448&4294967295,v=A+(S<<20&4294967295|S>>>12),S=w+(A^R&(v^A))+T[9]+568446438&4294967295,w=v+(S<<5&4294967295|S>>>27),S=R+(v^A&(w^v))+T[14]+3275163606&4294967295,R=w+(S<<9&4294967295|S>>>23),S=A+(w^v&(R^w))+T[3]+4107603335&4294967295,A=R+(S<<14&4294967295|S>>>18),S=v+(R^w&(A^R))+T[8]+1163531501&4294967295,v=A+(S<<20&4294967295|S>>>12),S=w+(A^R&(v^A))+T[13]+2850285829&4294967295,w=v+(S<<5&4294967295|S>>>27),S=R+(v^A&(w^v))+T[2]+4243563512&4294967295,R=w+(S<<9&4294967295|S>>>23),S=A+(w^v&(R^w))+T[7]+1735328473&4294967295,A=R+(S<<14&4294967295|S>>>18),S=v+(R^w&(A^R))+T[12]+2368359562&4294967295,v=A+(S<<20&4294967295|S>>>12),S=w+(v^A^R)+T[5]+4294588738&4294967295,w=v+(S<<4&4294967295|S>>>28),S=R+(w^v^A)+T[8]+2272392833&4294967295,R=w+(S<<11&4294967295|S>>>21),S=A+(R^w^v)+T[11]+1839030562&4294967295,A=R+(S<<16&4294967295|S>>>16),S=v+(A^R^w)+T[14]+4259657740&4294967295,v=A+(S<<23&4294967295|S>>>9),S=w+(v^A^R)+T[1]+2763975236&4294967295,w=v+(S<<4&4294967295|S>>>28),S=R+(w^v^A)+T[4]+1272893353&4294967295,R=w+(S<<11&4294967295|S>>>21),S=A+(R^w^v)+T[7]+4139469664&4294967295,A=R+(S<<16&4294967295|S>>>16),S=v+(A^R^w)+T[10]+3200236656&4294967295,v=A+(S<<23&4294967295|S>>>9),S=w+(v^A^R)+T[13]+681279174&4294967295,w=v+(S<<4&4294967295|S>>>28),S=R+(w^v^A)+T[0]+3936430074&4294967295,R=w+(S<<11&4294967295|S>>>21),S=A+(R^w^v)+T[3]+3572445317&4294967295,A=R+(S<<16&4294967295|S>>>16),S=v+(A^R^w)+T[6]+76029189&4294967295,v=A+(S<<23&4294967295|S>>>9),S=w+(v^A^R)+T[9]+3654602809&4294967295,w=v+(S<<4&4294967295|S>>>28),S=R+(w^v^A)+T[12]+3873151461&4294967295,R=w+(S<<11&4294967295|S>>>21),S=A+(R^w^v)+T[15]+530742520&4294967295,A=R+(S<<16&4294967295|S>>>16),S=v+(A^R^w)+T[2]+3299628645&4294967295,v=A+(S<<23&4294967295|S>>>9),S=w+(A^(v|~R))+T[0]+4096336452&4294967295,w=v+(S<<6&4294967295|S>>>26),S=R+(v^(w|~A))+T[7]+1126891415&4294967295,R=w+(S<<10&4294967295|S>>>22),S=A+(w^(R|~v))+T[14]+2878612391&4294967295,A=R+(S<<15&4294967295|S>>>17),S=v+(R^(A|~w))+T[5]+4237533241&4294967295,v=A+(S<<21&4294967295|S>>>11),S=w+(A^(v|~R))+T[12]+1700485571&4294967295,w=v+(S<<6&4294967295|S>>>26),S=R+(v^(w|~A))+T[3]+2399980690&4294967295,R=w+(S<<10&4294967295|S>>>22),S=A+(w^(R|~v))+T[10]+4293915773&4294967295,A=R+(S<<15&4294967295|S>>>17),S=v+(R^(A|~w))+T[1]+2240044497&4294967295,v=A+(S<<21&4294967295|S>>>11),S=w+(A^(v|~R))+T[8]+1873313359&4294967295,w=v+(S<<6&4294967295|S>>>26),S=R+(v^(w|~A))+T[15]+4264355552&4294967295,R=w+(S<<10&4294967295|S>>>22),S=A+(w^(R|~v))+T[6]+2734768916&4294967295,A=R+(S<<15&4294967295|S>>>17),S=v+(R^(A|~w))+T[13]+1309151649&4294967295,v=A+(S<<21&4294967295|S>>>11),S=w+(A^(v|~R))+T[4]+4149444226&4294967295,w=v+(S<<6&4294967295|S>>>26),S=R+(v^(w|~A))+T[11]+3174756917&4294967295,R=w+(S<<10&4294967295|S>>>22),S=A+(w^(R|~v))+T[2]+718787259&4294967295,A=R+(S<<15&4294967295|S>>>17),S=v+(R^(A|~w))+T[9]+3951481745&4294967295,P.g[0]=P.g[0]+w&4294967295,P.g[1]=P.g[1]+(A+(S<<21&4294967295|S>>>11))&4294967295,P.g[2]=P.g[2]+A&4294967295,P.g[3]=P.g[3]+R&4294967295}r.prototype.u=function(P,w){w===void 0&&(w=P.length);for(var v=w-this.blockSize,T=this.B,A=this.h,R=0;R<w;){if(A==0)for(;R<=v;)i(this,P,R),R+=this.blockSize;if(typeof P=="string"){for(;R<w;)if(T[A++]=P.charCodeAt(R++),A==this.blockSize){i(this,T),A=0;break}}else for(;R<w;)if(T[A++]=P[R++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=w},r.prototype.v=function(){var P=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);P[0]=128;for(var w=1;w<P.length-8;++w)P[w]=0;var v=8*this.o;for(w=P.length-8;w<P.length;++w)P[w]=v&255,v/=256;for(this.u(P),P=Array(16),w=v=0;4>w;++w)for(var T=0;32>T;T+=8)P[v++]=this.g[w]>>>T&255;return P};function s(P,w){var v=c;return Object.prototype.hasOwnProperty.call(v,P)?v[P]:v[P]=w(P)}function l(P,w){this.h=w;for(var v=[],T=!0,A=P.length-1;0<=A;A--){var R=P[A]|0;T&&R==w||(v[A]=R,T=!1)}this.g=v}var c={};function h(P){return-128<=P&&128>P?s(P,function(w){return new l([w|0],0>w?-1:0)}):new l([P|0],0>P?-1:0)}function f(P){if(isNaN(P)||!isFinite(P))return _;if(0>P)return D(f(-P));for(var w=[],v=1,T=0;P>=v;T++)w[T]=P/v|0,v*=4294967296;return new l(w,0)}function E(P,w){if(P.length==0)throw Error("number format error: empty string");if(w=w||10,2>w||36<w)throw Error("radix out of range: "+w);if(P.charAt(0)=="-")return D(E(P.substring(1),w));if(0<=P.indexOf("-"))throw Error('number format error: interior "-" character');for(var v=f(Math.pow(w,8)),T=_,A=0;A<P.length;A+=8){var R=Math.min(8,P.length-A),S=parseInt(P.substring(A,A+R),w);8>R?(R=f(Math.pow(w,R)),T=T.j(R).add(f(S))):(T=T.j(v),T=T.add(f(S)))}return T}var _=h(0),I=h(1),C=h(16777216);n=l.prototype,n.m=function(){if(F(this))return-D(this).m();for(var P=0,w=1,v=0;v<this.g.length;v++){var T=this.i(v);P+=(0<=T?T:4294967296+T)*w,w*=4294967296}return P},n.toString=function(P){if(P=P||10,2>P||36<P)throw Error("radix out of range: "+P);if(k(this))return"0";if(F(this))return"-"+D(this).toString(P);for(var w=f(Math.pow(P,6)),v=this,T="";;){var A=Y(v,w).g;v=L(v,A.j(w));var R=((0<v.g.length?v.g[0]:v.h)>>>0).toString(P);if(v=A,k(v))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},n.i=function(P){return 0>P?0:P<this.g.length?this.g[P]:this.h};function k(P){if(P.h!=0)return!1;for(var w=0;w<P.g.length;w++)if(P.g[w]!=0)return!1;return!0}function F(P){return P.h==-1}n.l=function(P){return P=L(this,P),F(P)?-1:k(P)?0:1};function D(P){for(var w=P.g.length,v=[],T=0;T<w;T++)v[T]=~P.g[T];return new l(v,~P.h).add(I)}n.abs=function(){return F(this)?D(this):this},n.add=function(P){for(var w=Math.max(this.g.length,P.g.length),v=[],T=0,A=0;A<=w;A++){var R=T+(this.i(A)&65535)+(P.i(A)&65535),S=(R>>>16)+(this.i(A)>>>16)+(P.i(A)>>>16);T=S>>>16,R&=65535,S&=65535,v[A]=S<<16|R}return new l(v,v[v.length-1]&-2147483648?-1:0)};function L(P,w){return P.add(D(w))}n.j=function(P){if(k(this)||k(P))return _;if(F(this))return F(P)?D(this).j(D(P)):D(D(this).j(P));if(F(P))return D(this.j(D(P)));if(0>this.l(C)&&0>P.l(C))return f(this.m()*P.m());for(var w=this.g.length+P.g.length,v=[],T=0;T<2*w;T++)v[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<P.g.length;A++){var R=this.i(T)>>>16,S=this.i(T)&65535,Fe=P.i(A)>>>16,qe=P.i(A)&65535;v[2*T+2*A]+=S*qe,U(v,2*T+2*A),v[2*T+2*A+1]+=R*qe,U(v,2*T+2*A+1),v[2*T+2*A+1]+=S*Fe,U(v,2*T+2*A+1),v[2*T+2*A+2]+=R*Fe,U(v,2*T+2*A+2)}for(T=0;T<w;T++)v[T]=v[2*T+1]<<16|v[2*T];for(T=w;T<2*w;T++)v[T]=0;return new l(v,0)};function U(P,w){for(;(P[w]&65535)!=P[w];)P[w+1]+=P[w]>>>16,P[w]&=65535,w++}function G(P,w){this.g=P,this.h=w}function Y(P,w){if(k(w))throw Error("division by zero");if(k(P))return new G(_,_);if(F(P))return w=Y(D(P),w),new G(D(w.g),D(w.h));if(F(w))return w=Y(P,D(w)),new G(D(w.g),w.h);if(30<P.g.length){if(F(P)||F(w))throw Error("slowDivide_ only works with positive integers.");for(var v=I,T=w;0>=T.l(P);)v=fe(v),T=fe(T);var A=pe(v,1),R=pe(T,1);for(T=pe(T,2),v=pe(v,2);!k(T);){var S=R.add(T);0>=S.l(P)&&(A=A.add(v),R=S),T=pe(T,1),v=pe(v,1)}return w=L(P,A.j(w)),new G(A,w)}for(A=_;0<=P.l(w);){for(v=Math.max(1,Math.floor(P.m()/w.m())),T=Math.ceil(Math.log(v)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=f(v),S=R.j(w);F(S)||0<S.l(P);)v-=T,R=f(v),S=R.j(w);k(R)&&(R=I),A=A.add(R),P=L(P,S)}return new G(A,P)}n.A=function(P){return Y(this,P).h},n.and=function(P){for(var w=Math.max(this.g.length,P.g.length),v=[],T=0;T<w;T++)v[T]=this.i(T)&P.i(T);return new l(v,this.h&P.h)},n.or=function(P){for(var w=Math.max(this.g.length,P.g.length),v=[],T=0;T<w;T++)v[T]=this.i(T)|P.i(T);return new l(v,this.h|P.h)},n.xor=function(P){for(var w=Math.max(this.g.length,P.g.length),v=[],T=0;T<w;T++)v[T]=this.i(T)^P.i(T);return new l(v,this.h^P.h)};function fe(P){for(var w=P.g.length+1,v=[],T=0;T<w;T++)v[T]=P.i(T)<<1|P.i(T-1)>>>31;return new l(v,P.h)}function pe(P,w){var v=w>>5;w%=32;for(var T=P.g.length-v,A=[],R=0;R<T;R++)A[R]=0<w?P.i(R+v)>>>w|P.i(R+v+1)<<32-w:P.i(R+v);return new l(A,P.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=f,l.fromString=E,Wp=l}).apply(typeof Sd<"u"?Sd:typeof self<"u"?self:typeof window<"u"?window:{});var da=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Gp,Ks,Kp,Aa,vc,Qp,Jp,Xp;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(o,u,p){return o==Array.prototype||o==Object.prototype||(o[u]=p.value),o};function t(o){o=[typeof globalThis=="object"&&globalThis,o,typeof window=="object"&&window,typeof self=="object"&&self,typeof da=="object"&&da];for(var u=0;u<o.length;++u){var p=o[u];if(p&&p.Math==Math)return p}throw Error("Cannot find global object")}var r=t(this);function i(o,u){if(u)e:{var p=r;o=o.split(".");for(var b=0;b<o.length-1;b++){var O=o[b];if(!(O in p))break e;p=p[O]}o=o[o.length-1],b=p[o],u=u(b),u!=b&&u!=null&&e(p,o,{configurable:!0,writable:!0,value:u})}}function s(o,u){o instanceof String&&(o+="");var p=0,b=!1,O={next:function(){if(!b&&p<o.length){var V=p++;return{value:u(V,o[V]),done:!1}}return b=!0,{done:!0,value:void 0}}};return O[Symbol.iterator]=function(){return O},O}i("Array.prototype.values",function(o){return o||function(){return s(this,function(u,p){return p})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function h(o){var u=typeof o;return u=u!="object"?u:o?Array.isArray(o)?"array":u:"null",u=="array"||u=="object"&&typeof o.length=="number"}function f(o){var u=typeof o;return u=="object"&&o!=null||u=="function"}function E(o,u,p){return o.call.apply(o.bind,arguments)}function _(o,u,p){if(!o)throw Error();if(2<arguments.length){var b=Array.prototype.slice.call(arguments,2);return function(){var O=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(O,b),o.apply(u,O)}}return function(){return o.apply(u,arguments)}}function I(o,u,p){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?E:_,I.apply(null,arguments)}function C(o,u){var p=Array.prototype.slice.call(arguments,1);return function(){var b=p.slice();return b.push.apply(b,arguments),o.apply(this,b)}}function k(o,u){function p(){}p.prototype=u.prototype,o.aa=u.prototype,o.prototype=new p,o.prototype.constructor=o,o.Qb=function(b,O,V){for(var H=Array(arguments.length-2),Te=2;Te<arguments.length;Te++)H[Te-2]=arguments[Te];return u.prototype[O].apply(b,H)}}function F(o){const u=o.length;if(0<u){const p=Array(u);for(let b=0;b<u;b++)p[b]=o[b];return p}return[]}function D(o,u){for(let p=1;p<arguments.length;p++){const b=arguments[p];if(h(b)){const O=o.length||0,V=b.length||0;o.length=O+V;for(let H=0;H<V;H++)o[O+H]=b[H]}else o.push(b)}}class L{constructor(u,p){this.i=u,this.j=p,this.h=0,this.g=null}get(){let u;return 0<this.h?(this.h--,u=this.g,this.g=u.next,u.next=null):u=this.i(),u}}function U(o){return/^[\s\xa0]*$/.test(o)}function G(){var o=c.navigator;return o&&(o=o.userAgent)?o:""}function Y(o){return Y[" "](o),o}Y[" "]=function(){};var fe=G().indexOf("Gecko")!=-1&&!(G().toLowerCase().indexOf("webkit")!=-1&&G().indexOf("Edge")==-1)&&!(G().indexOf("Trident")!=-1||G().indexOf("MSIE")!=-1)&&G().indexOf("Edge")==-1;function pe(o,u,p){for(const b in o)u.call(p,o[b],b,o)}function P(o,u){for(const p in o)u.call(void 0,o[p],p,o)}function w(o){const u={};for(const p in o)u[p]=o[p];return u}const v="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(o,u){let p,b;for(let O=1;O<arguments.length;O++){b=arguments[O];for(p in b)o[p]=b[p];for(let V=0;V<v.length;V++)p=v[V],Object.prototype.hasOwnProperty.call(b,p)&&(o[p]=b[p])}}function A(o){var u=1;o=o.split(":");const p=[];for(;0<u&&o.length;)p.push(o.shift()),u--;return o.length&&p.push(o.join(":")),p}function R(o){c.setTimeout(()=>{throw o},0)}function S(){var o=It;let u=null;return o.g&&(u=o.g,o.g=o.g.next,o.g||(o.h=null),u.next=null),u}class Fe{constructor(){this.h=this.g=null}add(u,p){const b=qe.get();b.set(u,p),this.h?this.h.next=b:this.g=b,this.h=b}}var qe=new L(()=>new Ze,o=>o.reset());class Ze{constructor(){this.next=this.g=this.h=null}set(u,p){this.h=u,this.g=p,this.next=null}reset(){this.next=this.g=this.h=null}}let Ue,We=!1,It=new Fe,$=()=>{const o=c.Promise.resolve(void 0);Ue=()=>{o.then(Bt)}};var Bt=()=>{for(var o;o=S();){try{o.h.call(o.g)}catch(p){R(p)}var u=qe;u.j(o),100>u.h&&(u.h++,o.next=u.g,u.g=o)}We=!1};function rt(){this.s=this.s,this.C=this.C}rt.prototype.s=!1,rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function Ee(o,u){this.type=o,this.g=this.target=u,this.defaultPrevented=!1}Ee.prototype.h=function(){this.defaultPrevented=!0};var je=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var o=!1,u=Object.defineProperty({},"passive",{get:function(){o=!0}});try{const p=()=>{};c.addEventListener("test",p,u),c.removeEventListener("test",p,u)}catch{}return o}();function it(o,u){if(Ee.call(this,o?o.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,o){var p=this.type=o.type,b=o.changedTouches&&o.changedTouches.length?o.changedTouches[0]:null;if(this.target=o.target||o.srcElement,this.g=u,u=o.relatedTarget){if(fe){e:{try{Y(u.nodeName);var O=!0;break e}catch{}O=!1}O||(u=null)}}else p=="mouseover"?u=o.fromElement:p=="mouseout"&&(u=o.toElement);this.relatedTarget=u,b?(this.clientX=b.clientX!==void 0?b.clientX:b.pageX,this.clientY=b.clientY!==void 0?b.clientY:b.pageY,this.screenX=b.screenX||0,this.screenY=b.screenY||0):(this.clientX=o.clientX!==void 0?o.clientX:o.pageX,this.clientY=o.clientY!==void 0?o.clientY:o.pageY,this.screenX=o.screenX||0,this.screenY=o.screenY||0),this.button=o.button,this.key=o.key||"",this.ctrlKey=o.ctrlKey,this.altKey=o.altKey,this.shiftKey=o.shiftKey,this.metaKey=o.metaKey,this.pointerId=o.pointerId||0,this.pointerType=typeof o.pointerType=="string"?o.pointerType:Le[o.pointerType]||"",this.state=o.state,this.i=o,o.defaultPrevented&&it.aa.h.call(this)}}k(it,Ee);var Le={2:"touch",3:"pen",4:"mouse"};it.prototype.h=function(){it.aa.h.call(this);var o=this.i;o.preventDefault?o.preventDefault():o.returnValue=!1};var At="closure_listenable_"+(1e6*Math.random()|0),Q=0;function gt(o,u,p,b,O){this.listener=o,this.proxy=null,this.src=u,this.type=p,this.capture=!!b,this.ha=O,this.key=++Q,this.da=this.fa=!1}function Vt(o){o.da=!0,o.listener=null,o.proxy=null,o.src=null,o.ha=null}function zt(o){this.src=o,this.g={},this.h=0}zt.prototype.add=function(o,u,p,b,O){var V=o.toString();o=this.g[V],o||(o=this.g[V]=[],this.h++);var H=Qe(o,u,b,O);return-1<H?(u=o[H],p||(u.fa=!1)):(u=new gt(u,this.src,V,!!b,O),u.fa=p,o.push(u)),u};function Fn(o,u){var p=u.type;if(p in o.g){var b=o.g[p],O=Array.prototype.indexOf.call(b,u,void 0),V;(V=0<=O)&&Array.prototype.splice.call(b,O,1),V&&(Vt(u),o.g[p].length==0&&(delete o.g[p],o.h--))}}function Qe(o,u,p,b){for(var O=0;O<o.length;++O){var V=o[O];if(!V.da&&V.listener==u&&V.capture==!!p&&V.ha==b)return O}return-1}var Ht="closure_lm_"+(1e6*Math.random()|0),Pt={};function Un(o,u,p,b,O){if(Array.isArray(u)){for(var V=0;V<u.length;V++)Un(o,u[V],p,b,O);return null}return p=rn(p),o&&o[At]?o.K(u,p,f(b)?!!b.capture:!!b,O):vl(o,u,p,!1,b,O)}function vl(o,u,p,b,O,V){if(!u)throw Error("Invalid event type");var H=f(O)?!!O.capture:!!O,Te=gs(o);if(Te||(o[Ht]=Te=new zt(o)),p=Te.add(u,p,b,H,V),p.proxy)return p;if(b=bl(),p.proxy=b,b.src=o,b.listener=p,o.addEventListener)je||(O=H),O===void 0&&(O=!1),o.addEventListener(u.toString(),b,O);else if(o.attachEvent)o.attachEvent(No(u.toString()),b);else if(o.addListener&&o.removeListener)o.addListener(b);else throw Error("addEventListener and attachEvent are unavailable.");return p}function bl(){function o(p){return u.call(o.src,o.listener,p)}const u=wl;return o}function Po(o,u,p,b,O){if(Array.isArray(u))for(var V=0;V<u.length;V++)Po(o,u[V],p,b,O);else b=f(b)?!!b.capture:!!b,p=rn(p),o&&o[At]?(o=o.i,u=String(u).toString(),u in o.g&&(V=o.g[u],p=Qe(V,p,b,O),-1<p&&(Vt(V[p]),Array.prototype.splice.call(V,p,1),V.length==0&&(delete o.g[u],o.h--)))):o&&(o=gs(o))&&(u=o.g[u.toString()],o=-1,u&&(o=Qe(u,p,b,O)),(p=-1<o?u[o]:null)&&ms(p))}function ms(o){if(typeof o!="number"&&o&&!o.da){var u=o.src;if(u&&u[At])Fn(u.i,o);else{var p=o.type,b=o.proxy;u.removeEventListener?u.removeEventListener(p,b,o.capture):u.detachEvent?u.detachEvent(No(p),b):u.addListener&&u.removeListener&&u.removeListener(b),(p=gs(u))?(Fn(p,o),p.h==0&&(p.src=null,u[Ht]=null)):Vt(o)}}}function No(o){return o in Pt?Pt[o]:Pt[o]="on"+o}function wl(o,u){if(o.da)o=!0;else{u=new it(u,this);var p=o.listener,b=o.ha||o.src;o.fa&&ms(o),o=p.call(b,u)}return o}function gs(o){return o=o[Ht],o instanceof zt?o:null}var dr="__closure_events_fn_"+(1e9*Math.random()>>>0);function rn(o){return typeof o=="function"?o:(o[dr]||(o[dr]=function(u){return o.handleEvent(u)}),o[dr])}function et(){rt.call(this),this.i=new zt(this),this.M=this,this.F=null}k(et,rt),et.prototype[At]=!0,et.prototype.removeEventListener=function(o,u,p,b){Po(this,o,u,p,b)};function Ge(o,u){var p,b=o.F;if(b)for(p=[];b;b=b.F)p.push(b);if(o=o.M,b=u.type||u,typeof u=="string")u=new Ee(u,o);else if(u instanceof Ee)u.target=u.target||o;else{var O=u;u=new Ee(b,o),T(u,O)}if(O=!0,p)for(var V=p.length-1;0<=V;V--){var H=u.g=p[V];O=sn(H,b,!0,u)&&O}if(H=u.g=o,O=sn(H,b,!0,u)&&O,O=sn(H,b,!1,u)&&O,p)for(V=0;V<p.length;V++)H=u.g=p[V],O=sn(H,b,!1,u)&&O}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var o=this.i,u;for(u in o.g){for(var p=o.g[u],b=0;b<p.length;b++)Vt(p[b]);delete o.g[u],o.h--}}this.F=null},et.prototype.K=function(o,u,p,b){return this.i.add(String(o),u,!1,p,b)},et.prototype.L=function(o,u,p,b){return this.i.add(String(o),u,!0,p,b)};function sn(o,u,p,b){if(u=o.i.g[String(u)],!u)return!0;u=u.concat();for(var O=!0,V=0;V<u.length;++V){var H=u[V];if(H&&!H.da&&H.capture==p){var Te=H.listener,tt=H.ha||H.src;H.fa&&Fn(o.i,H),O=Te.call(tt,b)!==!1&&O}}return O&&!b.defaultPrevented}function $n(o,u,p){if(typeof o=="function")p&&(o=I(o,p));else if(o&&typeof o.handleEvent=="function")o=I(o.handleEvent,o);else throw Error("Invalid listener argument");return 2147483647<Number(u)?-1:c.setTimeout(o,u||0)}function Hr(o){o.g=$n(()=>{o.g=null,o.i&&(o.i=!1,Hr(o))},o.l);const u=o.h;o.h=null,o.m.apply(null,u)}class El extends rt{constructor(u,p){super(),this.m=u,this.l=p,this.h=null,this.i=!1,this.g=null}j(u){this.h=arguments,this.g?this.i=!0:Hr(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function jn(o){rt.call(this),this.h=o,this.g={}}k(jn,rt);var ko=[];function xo(o){pe(o.g,function(u,p){this.g.hasOwnProperty(p)&&ms(u)},o),o.g={}}jn.prototype.N=function(){jn.aa.N.call(this),xo(this)},jn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var _s=c.JSON.stringify,Tl=c.JSON.parse,Il=class{stringify(o){return c.JSON.stringify(o,void 0)}parse(o){return c.JSON.parse(o,void 0)}};function ys(){}ys.prototype.h=null;function vs(o){return o.h||(o.h=o.i())}function qr(){}var fr={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Si(){Ee.call(this,"d")}k(Si,Ee);function bs(){Ee.call(this,"c")}k(bs,Ee);var Bn={},Oo=null;function Ci(){return Oo=Oo||new et}Bn.La="serverreachability";function zn(o){Ee.call(this,Bn.La,o)}k(zn,Ee);function on(o){const u=Ci();Ge(u,new zn(u))}Bn.STAT_EVENT="statevent";function Do(o,u){Ee.call(this,Bn.STAT_EVENT,o),this.stat=u}k(Do,Ee);function ht(o){const u=Ci();Ge(u,new Do(u,o))}Bn.Ma="timingevent";function Lo(o,u){Ee.call(this,Bn.Ma,o),this.size=u}k(Lo,Ee);function Wr(o,u){if(typeof o!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){o()},u)}function Gr(){this.g=!0}Gr.prototype.xa=function(){this.g=!1};function ws(o,u,p,b,O,V){o.info(function(){if(o.g)if(V)for(var H="",Te=V.split("&"),tt=0;tt<Te.length;tt++){var ge=Te[tt].split("=");if(1<ge.length){var Ce=ge[0];ge=ge[1];var nt=Ce.split("_");H=2<=nt.length&&nt[1]=="type"?H+(Ce+"="+ge+"&"):H+(Ce+"=redacted&")}}else H=null;else H=V;return"XMLHTTP REQ ("+b+") [attempt "+O+"]: "+u+`
`+p+`
`+H})}function pr(o,u,p,b,O,V,H){o.info(function(){return"XMLHTTP RESP ("+b+") [ attempt "+O+"]: "+u+`
`+p+`
`+V+" "+H})}function an(o,u,p,b){o.info(function(){return"XMLHTTP TEXT ("+u+"): "+Es(o,p)+(b?" "+b:"")})}function Al(o,u){o.info(function(){return"TIMEOUT: "+u})}Gr.prototype.info=function(){};function Es(o,u){if(!o.g)return u;if(!u)return null;try{var p=JSON.parse(u);if(p){for(o=0;o<p.length;o++)if(Array.isArray(p[o])){var b=p[o];if(!(2>b.length)){var O=b[1];if(Array.isArray(O)&&!(1>O.length)){var V=O[0];if(V!="noop"&&V!="stop"&&V!="close")for(var H=1;H<O.length;H++)O[H]=""}}}}return _s(p)}catch{return u}}var Ri={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Vo={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},En;function Je(){}k(Je,ys),Je.prototype.g=function(){return new XMLHttpRequest},Je.prototype.i=function(){return{}},En=new Je;function Be(o,u,p,b){this.j=o,this.i=u,this.l=p,this.R=b||1,this.U=new jn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new _t}function _t(){this.i=null,this.g="",this.h=!1}var st={},mr={};function Tn(o,u,p){o.L=1,o.v=_r(Mt(u)),o.m=p,o.P=!0,In(o,null)}function In(o,u){o.F=Date.now(),gr(o),o.A=Mt(o.v);var p=o.A,b=o.R;Array.isArray(b)||(b=[String(b)]),Ns(p.i,"t",b),o.C=0,p=o.j.J,o.h=new _t,o.g=Xo(o.j,p?u:null,!o.m),0<o.O&&(o.M=new El(I(o.Y,o,o.g),o.O)),u=o.U,p=o.g,b=o.ca;var O="readystatechange";Array.isArray(O)||(O&&(ko[0]=O.toString()),O=ko);for(var V=0;V<O.length;V++){var H=Un(p,O[V],b||u.handleEvent,!1,u.h||u);if(!H)break;u.g[H.key]=H}u=o.H?w(o.H):{},o.m?(o.u||(o.u="POST"),u["Content-Type"]="application/x-www-form-urlencoded",o.g.ea(o.A,o.u,o.m,u)):(o.u="GET",o.g.ea(o.A,o.u,null,u)),on(),ws(o.i,o.u,o.A,o.l,o.R,o.m)}Be.prototype.ca=function(o){o=o.target;const u=this.M;u&&Kt(o)==3?u.j():this.Y(o)},Be.prototype.Y=function(o){try{if(o==this.g)e:{const nt=Kt(this.g);var u=this.g.Ba();const Qn=this.g.Z();if(!(3>nt)&&(nt!=3||this.g&&(this.h.h||this.g.oa()||Ds(this.g)))){this.J||nt!=4||u==7||(u==8||0>=Qn?on(3):on(2)),Pi(this);var p=this.g.Z();this.X=p;t:if(Hn(this)){var b=Ds(this.g);o="";var O=b.length,V=Kt(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){ln(this),Wn(this);var H="";break t}this.h.i=new c.TextDecoder}for(u=0;u<O;u++)this.h.h=!0,o+=this.h.i.decode(b[u],{stream:!(V&&u==O-1)});b.length=0,this.h.g+=o,this.C=0,H=this.h.g}else H=this.g.oa();if(this.o=p==200,pr(this.i,this.u,this.A,this.l,this.R,nt,p),this.o){if(this.T&&!this.K){t:{if(this.g){var Te,tt=this.g;if((Te=tt.g?tt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!U(Te)){var ge=Te;break t}}ge=null}if(p=ge)an(this.i,this.l,p,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ni(this,p);else{this.o=!1,this.s=3,ht(12),ln(this),Wn(this);break e}}if(this.P){p=!0;let Ot;for(;!this.J&&this.C<H.length;)if(Ot=Mo(this,H),Ot==mr){nt==4&&(this.s=4,ht(14),p=!1),an(this.i,this.l,null,"[Incomplete Response]");break}else if(Ot==st){this.s=4,ht(15),an(this.i,this.l,H,"[Invalid Chunk]"),p=!1;break}else an(this.i,this.l,Ot,null),Ni(this,Ot);if(Hn(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),nt!=4||H.length!=0||this.h.h||(this.s=1,ht(16),p=!1),this.o=this.o&&p,!p)an(this.i,this.l,H,"[Invalid Chunked Response]"),ln(this),Wn(this);else if(0<H.length&&!this.W){this.W=!0;var Ce=this.j;Ce.g==this&&Ce.ba&&!Ce.M&&(Ce.j.info("Great, no buffering proxy detected. Bytes received: "+H.length),$i(Ce),Ce.M=!0,ht(11))}}else an(this.i,this.l,H,null),Ni(this,H);nt==4&&ln(this),this.o&&!this.J&&(nt==4?ji(this.j,this):(this.o=!1,gr(this)))}else zo(this.g),p==400&&0<H.indexOf("Unknown SID")?(this.s=3,ht(12)):(this.s=0,ht(13)),ln(this),Wn(this)}}}catch{}finally{}};function Hn(o){return o.g?o.u=="GET"&&o.L!=2&&o.j.Ca:!1}function Mo(o,u){var p=o.C,b=u.indexOf(`
`,p);return b==-1?mr:(p=Number(u.substring(p,b)),isNaN(p)?st:(b+=1,b+p>u.length?mr:(u=u.slice(b,b+p),o.C=b+p,u)))}Be.prototype.cancel=function(){this.J=!0,ln(this)};function gr(o){o.S=Date.now()+o.I,qn(o,o.I)}function qn(o,u){if(o.B!=null)throw Error("WatchDog timer not null");o.B=Wr(I(o.ba,o),u)}function Pi(o){o.B&&(c.clearTimeout(o.B),o.B=null)}Be.prototype.ba=function(){this.B=null;const o=Date.now();0<=o-this.S?(Al(this.i,this.A),this.L!=2&&(on(),ht(17)),ln(this),this.s=2,Wn(this)):qn(this,this.S-o)};function Wn(o){o.j.G==0||o.J||ji(o.j,o)}function ln(o){Pi(o);var u=o.M;u&&typeof u.ma=="function"&&u.ma(),o.M=null,xo(o.U),o.g&&(u=o.g,o.g=null,u.abort(),u.ma())}function Ni(o,u){try{var p=o.j;if(p.G!=0&&(p.g==o||ki(p.h,o))){if(!o.K&&ki(p.h,o)&&p.G==3){try{var b=p.Da.g.parse(u)}catch{b=null}if(Array.isArray(b)&&b.length==3){var O=b;if(O[0]==0){e:if(!p.u){if(p.g)if(p.g.F+3e3<o.F)Qt(p),ei(p);else break e;ti(p),ht(18)}}else p.za=O[1],0<p.za-p.T&&37500>O[2]&&p.F&&p.v==0&&!p.C&&(p.C=Wr(I(p.Za,p),6e3));if(1>=As(p.h)&&p.ca){try{p.ca()}catch{}p.ca=void 0}}else Rn(p,11)}else if((o.K||p.g==o)&&Qt(p),!U(u))for(O=p.Da.g.parse(u),u=0;u<O.length;u++){let ge=O[u];if(p.T=ge[0],ge=ge[1],p.G==2)if(ge[0]=="c"){p.K=ge[1],p.ia=ge[2];const Ce=ge[3];Ce!=null&&(p.la=Ce,p.j.info("VER="+p.la));const nt=ge[4];nt!=null&&(p.Aa=nt,p.j.info("SVER="+p.Aa));const Qn=ge[5];Qn!=null&&typeof Qn=="number"&&0<Qn&&(b=1.5*Qn,p.L=b,p.j.info("backChannelRequestTimeoutMs_="+b)),b=p;const Ot=o.g;if(Ot){const Bi=Ot.g?Ot.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Bi){var V=b.h;V.g||Bi.indexOf("spdy")==-1&&Bi.indexOf("quic")==-1&&Bi.indexOf("h2")==-1||(V.j=V.l,V.g=new Set,V.h&&(xi(V,V.h),V.h=null))}if(b.D){const Fs=Ot.g?Ot.g.getResponseHeader("X-HTTP-Session-Id"):null;Fs&&(b.ya=Fs,ve(b.I,b.D,Fs))}}p.G=3,p.l&&p.l.ua(),p.ba&&(p.R=Date.now()-o.F,p.j.info("Handshake RTT: "+p.R+"ms")),b=p;var H=o;if(b.qa=Jo(b,b.J?b.ia:null,b.W),H.K){Ss(b.h,H);var Te=H,tt=b.L;tt&&(Te.I=tt),Te.B&&(Pi(Te),gr(Te)),b.g=H}else Go(b);0<p.i.length&&Ui(p)}else ge[0]!="stop"&&ge[0]!="close"||Rn(p,7);else p.G==3&&(ge[0]=="stop"||ge[0]=="close"?ge[0]=="stop"?Rn(p,7):Zr(p):ge[0]!="noop"&&p.l&&p.l.ta(ge),p.v=0)}}on(4)}catch{}}var Fo=class{constructor(o,u){this.g=o,this.map=u}};function Ts(o){this.l=o||10,c.PerformanceNavigationTiming?(o=c.performance.getEntriesByType("navigation"),o=0<o.length&&(o[0].nextHopProtocol=="hq"||o[0].nextHopProtocol=="h2")):o=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=o?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Is(o){return o.h?!0:o.g?o.g.size>=o.j:!1}function As(o){return o.h?1:o.g?o.g.size:0}function ki(o,u){return o.h?o.h==u:o.g?o.g.has(u):!1}function xi(o,u){o.g?o.g.add(u):o.h=u}function Ss(o,u){o.h&&o.h==u?o.h=null:o.g&&o.g.has(u)&&o.g.delete(u)}Ts.prototype.cancel=function(){if(this.i=Cs(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const o of this.g.values())o.cancel();this.g.clear()}};function Cs(o){if(o.h!=null)return o.i.concat(o.h.D);if(o.g!=null&&o.g.size!==0){let u=o.i;for(const p of o.g.values())u=u.concat(p.D);return u}return F(o.i)}function Uo(o){if(o.V&&typeof o.V=="function")return o.V();if(typeof Map<"u"&&o instanceof Map||typeof Set<"u"&&o instanceof Set)return Array.from(o.values());if(typeof o=="string")return o.split("");if(h(o)){for(var u=[],p=o.length,b=0;b<p;b++)u.push(o[b]);return u}u=[],p=0;for(b in o)u[p++]=o[b];return u}function qt(o){if(o.na&&typeof o.na=="function")return o.na();if(!o.V||typeof o.V!="function"){if(typeof Map<"u"&&o instanceof Map)return Array.from(o.keys());if(!(typeof Set<"u"&&o instanceof Set)){if(h(o)||typeof o=="string"){var u=[];o=o.length;for(var p=0;p<o;p++)u.push(p);return u}u=[],p=0;for(const b in o)u[p++]=b;return u}}}function yt(o,u){if(o.forEach&&typeof o.forEach=="function")o.forEach(u,void 0);else if(h(o)||typeof o=="string")Array.prototype.forEach.call(o,u,void 0);else for(var p=qt(o),b=Uo(o),O=b.length,V=0;V<O;V++)u.call(void 0,b[V],p&&p[V],o)}var An=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Nt(o,u){if(o){o=o.split("&");for(var p=0;p<o.length;p++){var b=o[p].indexOf("="),O=null;if(0<=b){var V=o[p].substring(0,b);O=o[p].substring(b+1)}else V=o[p];u(V,O?decodeURIComponent(O.replace(/\+/g," ")):"")}}}function cn(o){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,o instanceof cn){this.h=o.h,St(this,o.j),this.o=o.o,this.g=o.g,Wt(this,o.s),this.l=o.l;var u=o.i,p=new vr;p.i=u.i,u.g&&(p.g=new Map(u.g),p.h=u.h),Kr(this,p),this.m=o.m}else o&&(u=String(o).match(An))?(this.h=!1,St(this,u[1]||"",!0),this.o=yr(u[2]||""),this.g=yr(u[3]||"",!0),Wt(this,u[4]),this.l=yr(u[5]||"",!0),Kr(this,u[6]||"",!0),this.m=yr(u[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}cn.prototype.toString=function(){var o=[],u=this.j;u&&o.push(Gt(u,Ps,!0),":");var p=this.g;return(p||u=="file")&&(o.push("//"),(u=this.o)&&o.push(Gt(u,Ps,!0),"@"),o.push(encodeURIComponent(String(p)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),p=this.s,p!=null&&o.push(":",String(p))),(p=this.l)&&(this.g&&p.charAt(0)!="/"&&o.push("/"),o.push(Gt(p,p.charAt(0)=="/"?Sl:un,!0))),(p=this.i.toString())&&o.push("?",p),(p=this.m)&&o.push("#",Gt(p,Oi)),o.join("")};function Mt(o){return new cn(o)}function St(o,u,p){o.j=p?yr(u,!0):u,o.j&&(o.j=o.j.replace(/:$/,""))}function Wt(o,u){if(u){if(u=Number(u),isNaN(u)||0>u)throw Error("Bad port number "+u);o.s=u}else o.s=null}function Kr(o,u,p){u instanceof vr?(o.i=u,$o(o.i,o.h)):(p||(u=Gt(u,Sn)),o.i=new vr(u,o.h))}function ve(o,u,p){o.i.set(u,p)}function _r(o){return ve(o,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),o}function yr(o,u){return o?u?decodeURI(o.replace(/%25/g,"%2525")):decodeURIComponent(o):""}function Gt(o,u,p){return typeof o=="string"?(o=encodeURI(o).replace(u,Rs),p&&(o=o.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),o):null}function Rs(o){return o=o.charCodeAt(0),"%"+(o>>4&15).toString(16)+(o&15).toString(16)}var Ps=/[#\/\?@]/g,un=/[#\?:]/g,Sl=/[#\?]/g,Sn=/[#\?@]/g,Oi=/#/g;function vr(o,u){this.h=this.g=null,this.i=o||null,this.j=!!u}function kt(o){o.g||(o.g=new Map,o.h=0,o.i&&Nt(o.i,function(u,p){o.add(decodeURIComponent(u.replace(/\+/g," ")),p)}))}n=vr.prototype,n.add=function(o,u){kt(this),this.i=null,o=Gn(this,o);var p=this.g.get(o);return p||this.g.set(o,p=[]),p.push(u),this.h+=1,this};function Di(o,u){kt(o),u=Gn(o,u),o.g.has(u)&&(o.i=null,o.h-=o.g.get(u).length,o.g.delete(u))}function br(o,u){return kt(o),u=Gn(o,u),o.g.has(u)}n.forEach=function(o,u){kt(this),this.g.forEach(function(p,b){p.forEach(function(O){o.call(u,O,b,this)},this)},this)},n.na=function(){kt(this);const o=Array.from(this.g.values()),u=Array.from(this.g.keys()),p=[];for(let b=0;b<u.length;b++){const O=o[b];for(let V=0;V<O.length;V++)p.push(u[b])}return p},n.V=function(o){kt(this);let u=[];if(typeof o=="string")br(this,o)&&(u=u.concat(this.g.get(Gn(this,o))));else{o=Array.from(this.g.values());for(let p=0;p<o.length;p++)u=u.concat(o[p])}return u},n.set=function(o,u){return kt(this),this.i=null,o=Gn(this,o),br(this,o)&&(this.h-=this.g.get(o).length),this.g.set(o,[u]),this.h+=1,this},n.get=function(o,u){return o?(o=this.V(o),0<o.length?String(o[0]):u):u};function Ns(o,u,p){Di(o,u),0<p.length&&(o.i=null,o.g.set(Gn(o,u),F(p)),o.h+=p.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const o=[],u=Array.from(this.g.keys());for(var p=0;p<u.length;p++){var b=u[p];const V=encodeURIComponent(String(b)),H=this.V(b);for(b=0;b<H.length;b++){var O=V;H[b]!==""&&(O+="="+encodeURIComponent(String(H[b]))),o.push(O)}}return this.i=o.join("&")};function Gn(o,u){return u=String(u),o.j&&(u=u.toLowerCase()),u}function $o(o,u){u&&!o.j&&(kt(o),o.i=null,o.g.forEach(function(p,b){var O=b.toLowerCase();b!=O&&(Di(this,b),Ns(this,O,p))},o)),o.j=u}function wr(o,u){const p=new Gr;if(c.Image){const b=new Image;b.onload=C(hn,p,"TestLoadImage: loaded",!0,u,b),b.onerror=C(hn,p,"TestLoadImage: error",!1,u,b),b.onabort=C(hn,p,"TestLoadImage: abort",!1,u,b),b.ontimeout=C(hn,p,"TestLoadImage: timeout",!1,u,b),c.setTimeout(function(){b.ontimeout&&b.ontimeout()},1e4),b.src=o}else u(!1)}function Cl(o,u){const p=new Gr,b=new AbortController,O=setTimeout(()=>{b.abort(),hn(p,"TestPingServer: timeout",!1,u)},1e4);fetch(o,{signal:b.signal}).then(V=>{clearTimeout(O),V.ok?hn(p,"TestPingServer: ok",!0,u):hn(p,"TestPingServer: server error",!1,u)}).catch(()=>{clearTimeout(O),hn(p,"TestPingServer: error",!1,u)})}function hn(o,u,p,b,O){try{O&&(O.onload=null,O.onerror=null,O.onabort=null,O.ontimeout=null),b(p)}catch{}}function ks(){this.g=new Il}function Li(o,u,p){const b=p||"";try{yt(o,function(O,V){let H=O;f(O)&&(H=_s(O)),u.push(b+V+"="+encodeURIComponent(H))})}catch(O){throw u.push(b+"type="+encodeURIComponent("_badmap")),O}}function Er(o){this.l=o.Ub||null,this.j=o.eb||!1}k(Er,ys),Er.prototype.g=function(){return new Vi(this.l,this.j)},Er.prototype.i=function(o){return function(){return o}}({});function Vi(o,u){et.call(this),this.D=o,this.o=u,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}k(Vi,et),n=Vi.prototype,n.open=function(o,u){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=o,this.A=u,this.readyState=1,Tr(this)},n.send=function(o){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const u={headers:this.u,method:this.B,credentials:this.m,cache:void 0};o&&(u.body=o),(this.D||c).fetch(new Request(this.A,u)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Jr(this)),this.readyState=0},n.Sa=function(o){if(this.g&&(this.l=o,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=o.headers,this.readyState=2,Tr(this)),this.g&&(this.readyState=3,Tr(this),this.g)))if(this.responseType==="arraybuffer")o.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in o){if(this.j=o.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Qr(this)}else o.text().then(this.Ra.bind(this),this.ga.bind(this))};function Qr(o){o.j.read().then(o.Pa.bind(o)).catch(o.ga.bind(o))}n.Pa=function(o){if(this.g){if(this.o&&o.value)this.response.push(o.value);else if(!this.o){var u=o.value?o.value:new Uint8Array(0);(u=this.v.decode(u,{stream:!o.done}))&&(this.response=this.responseText+=u)}o.done?Jr(this):Tr(this),this.readyState==3&&Qr(this)}},n.Ra=function(o){this.g&&(this.response=this.responseText=o,Jr(this))},n.Qa=function(o){this.g&&(this.response=o,Jr(this))},n.ga=function(){this.g&&Jr(this)};function Jr(o){o.readyState=4,o.l=null,o.j=null,o.v=null,Tr(o)}n.setRequestHeader=function(o,u){this.u.append(o,u)},n.getResponseHeader=function(o){return this.h&&this.h.get(o.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const o=[],u=this.h.entries();for(var p=u.next();!p.done;)p=p.value,o.push(p[0]+": "+p[1]),p=u.next();return o.join(`\r
`)};function Tr(o){o.onreadystatechange&&o.onreadystatechange.call(o)}Object.defineProperty(Vi.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(o){this.m=o?"include":"same-origin"}});function Mi(o){let u="";return pe(o,function(p,b){u+=b,u+=":",u+=p,u+=`\r
`}),u}function Xr(o,u,p){e:{for(b in p){var b=!1;break e}b=!0}b||(p=Mi(p),typeof o=="string"?p!=null&&encodeURIComponent(String(p)):ve(o,u,p))}function xe(o){et.call(this),this.headers=new Map,this.o=o||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}k(xe,et);var jo=/^https?$/i,Yr=["POST","PUT"];n=xe.prototype,n.Ha=function(o){this.J=o},n.ea=function(o,u,p,b){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+o);u=u?u.toUpperCase():"GET",this.D=o,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():En.g(),this.v=this.o?vs(this.o):vs(En),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(u,String(o),!0),this.B=!1}catch(V){Fi(this,V);return}if(o=p||"",p=new Map(this.headers),b)if(Object.getPrototypeOf(b)===Object.prototype)for(var O in b)p.set(O,b[O]);else if(typeof b.keys=="function"&&typeof b.get=="function")for(const V of b.keys())p.set(V,b.get(V));else throw Error("Unknown input type for opt_headers: "+String(b));b=Array.from(p.keys()).find(V=>V.toLowerCase()=="content-type"),O=c.FormData&&o instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Yr,u,void 0))||b||O||p.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[V,H]of p)this.g.setRequestHeader(V,H);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bo(this),this.u=!0,this.g.send(o),this.u=!1}catch(V){Fi(this,V)}};function Fi(o,u){o.h=!1,o.g&&(o.j=!0,o.g.abort(),o.j=!1),o.l=u,o.m=5,xs(o),dn(o)}function xs(o){o.A||(o.A=!0,Ge(o,"complete"),Ge(o,"error"))}n.abort=function(o){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=o||7,Ge(this,"complete"),Ge(this,"abort"),dn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),dn(this,!0)),xe.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Os(this):this.bb())},n.bb=function(){Os(this)};function Os(o){if(o.h&&typeof l<"u"&&(!o.v[1]||Kt(o)!=4||o.Z()!=2)){if(o.u&&Kt(o)==4)$n(o.Ea,0,o);else if(Ge(o,"readystatechange"),Kt(o)==4){o.h=!1;try{const H=o.Z();e:switch(H){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var u=!0;break e;default:u=!1}var p;if(!(p=u)){var b;if(b=H===0){var O=String(o.D).match(An)[1]||null;!O&&c.self&&c.self.location&&(O=c.self.location.protocol.slice(0,-1)),b=!jo.test(O?O.toLowerCase():"")}p=b}if(p)Ge(o,"complete"),Ge(o,"success");else{o.m=6;try{var V=2<Kt(o)?o.g.statusText:""}catch{V=""}o.l=V+" ["+o.Z()+"]",xs(o)}}finally{dn(o)}}}}function dn(o,u){if(o.g){Bo(o);const p=o.g,b=o.v[0]?()=>{}:null;o.g=null,o.v=null,u||Ge(o,"ready");try{p.onreadystatechange=b}catch{}}}function Bo(o){o.I&&(c.clearTimeout(o.I),o.I=null)}n.isActive=function(){return!!this.g};function Kt(o){return o.g?o.g.readyState:0}n.Z=function(){try{return 2<Kt(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(o){if(this.g){var u=this.g.responseText;return o&&u.indexOf(o)==0&&(u=u.substring(o.length)),Tl(u)}};function Ds(o){try{if(!o.g)return null;if("response"in o.g)return o.g.response;switch(o.H){case"":case"text":return o.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in o.g)return o.g.mozResponseArrayBuffer}return null}catch{return null}}function zo(o){const u={};o=(o.g&&2<=Kt(o)&&o.g.getAllResponseHeaders()||"").split(`\r
`);for(let b=0;b<o.length;b++){if(U(o[b]))continue;var p=A(o[b]);const O=p[0];if(p=p[1],typeof p!="string")continue;p=p.trim();const V=u[O]||[];u[O]=V,V.push(p)}P(u,function(b){return b.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Ir(o,u,p){return p&&p.internalChannelParams&&p.internalChannelParams[o]||u}function Ls(o){this.Aa=0,this.i=[],this.j=new Gr,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Ir("failFast",!1,o),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Ir("baseRetryDelayMs",5e3,o),this.cb=Ir("retryDelaySeedMs",1e4,o),this.Wa=Ir("forwardChannelMaxRetries",2,o),this.wa=Ir("forwardChannelRequestTimeoutMs",2e4,o),this.pa=o&&o.xmlHttpFactory||void 0,this.Xa=o&&o.Tb||void 0,this.Ca=o&&o.useFetchStreams||!1,this.L=void 0,this.J=o&&o.supportsCrossDomainXhr||!1,this.K="",this.h=new Ts(o&&o.concurrentRequestLimit),this.Da=new ks,this.P=o&&o.fastHandshake||!1,this.O=o&&o.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=o&&o.Rb||!1,o&&o.xa&&this.j.xa(),o&&o.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&o&&o.detectBufferingProxy||!1,this.ja=void 0,o&&o.longPollingTimeout&&0<o.longPollingTimeout&&(this.ja=o.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Ls.prototype,n.la=8,n.G=1,n.connect=function(o,u,p,b){ht(0),this.W=o,this.H=u||{},p&&b!==void 0&&(this.H.OSID=p,this.H.OAID=b),this.F=this.X,this.I=Jo(this,null,this.W),Ui(this)};function Zr(o){if(Ho(o),o.G==3){var u=o.U++,p=Mt(o.I);if(ve(p,"SID",o.K),ve(p,"RID",u),ve(p,"TYPE","terminate"),Cn(o,p),u=new Be(o,o.j,u),u.L=2,u.v=_r(Mt(p)),p=!1,c.navigator&&c.navigator.sendBeacon)try{p=c.navigator.sendBeacon(u.v.toString(),"")}catch{}!p&&c.Image&&(new Image().src=u.v,p=!0),p||(u.g=Xo(u.j,null),u.g.ea(u.v)),u.F=Date.now(),gr(u)}Qo(o)}function ei(o){o.g&&($i(o),o.g.cancel(),o.g=null)}function Ho(o){ei(o),o.u&&(c.clearTimeout(o.u),o.u=null),Qt(o),o.h.cancel(),o.s&&(typeof o.s=="number"&&c.clearTimeout(o.s),o.s=null)}function Ui(o){if(!Is(o.h)&&!o.s){o.s=!0;var u=o.Ga;Ue||$(),We||(Ue(),We=!0),It.add(u,o),o.B=0}}function qo(o,u){return As(o.h)>=o.h.j-(o.s?1:0)?!1:o.s?(o.i=u.D.concat(o.i),!0):o.G==1||o.G==2||o.B>=(o.Va?0:o.Wa)?!1:(o.s=Wr(I(o.Ga,o,u),Ko(o,o.B)),o.B++,!0)}n.Ga=function(o){if(this.s)if(this.s=null,this.G==1){if(!o){this.U=Math.floor(1e5*Math.random()),o=this.U++;const O=new Be(this,this.j,o);let V=this.o;if(this.S&&(V?(V=w(V),T(V,this.S)):V=this.S),this.m!==null||this.O||(O.H=V,V=null),this.P)e:{for(var u=0,p=0;p<this.i.length;p++){t:{var b=this.i[p];if("__data__"in b.map&&(b=b.map.__data__,typeof b=="string")){b=b.length;break t}b=void 0}if(b===void 0)break;if(u+=b,4096<u){u=p;break e}if(u===4096||p===this.i.length-1){u=p+1;break e}}u=1e3}else u=1e3;u=Wo(this,O,u),p=Mt(this.I),ve(p,"RID",o),ve(p,"CVER",22),this.D&&ve(p,"X-HTTP-Session-Id",this.D),Cn(this,p),V&&(this.O?u="headers="+encodeURIComponent(String(Mi(V)))+"&"+u:this.m&&Xr(p,this.m,V)),xi(this.h,O),this.Ua&&ve(p,"TYPE","init"),this.P?(ve(p,"$req",u),ve(p,"SID","null"),O.T=!0,Tn(O,p,null)):Tn(O,p,u),this.G=2}}else this.G==3&&(o?Vs(this,o):this.i.length==0||Is(this.h)||Vs(this))};function Vs(o,u){var p;u?p=u.l:p=o.U++;const b=Mt(o.I);ve(b,"SID",o.K),ve(b,"RID",p),ve(b,"AID",o.T),Cn(o,b),o.m&&o.o&&Xr(b,o.m,o.o),p=new Be(o,o.j,p,o.B+1),o.m===null&&(p.H=o.o),u&&(o.i=u.D.concat(o.i)),u=Wo(o,p,1e3),p.I=Math.round(.5*o.wa)+Math.round(.5*o.wa*Math.random()),xi(o.h,p),Tn(p,b,u)}function Cn(o,u){o.H&&pe(o.H,function(p,b){ve(u,b,p)}),o.l&&yt({},function(p,b){ve(u,b,p)})}function Wo(o,u,p){p=Math.min(o.i.length,p);var b=o.l?I(o.l.Na,o.l,o):null;e:{var O=o.i;let V=-1;for(;;){const H=["count="+p];V==-1?0<p?(V=O[0].g,H.push("ofs="+V)):V=0:H.push("ofs="+V);let Te=!0;for(let tt=0;tt<p;tt++){let ge=O[tt].g;const Ce=O[tt].map;if(ge-=V,0>ge)V=Math.max(0,O[tt].g-100),Te=!1;else try{Li(Ce,H,"req"+ge+"_")}catch{b&&b(Ce)}}if(Te){b=H.join("&");break e}}}return o=o.i.splice(0,p),u.D=o,b}function Go(o){if(!o.g&&!o.u){o.Y=1;var u=o.Fa;Ue||$(),We||(Ue(),We=!0),It.add(u,o),o.v=0}}function ti(o){return o.g||o.u||3<=o.v?!1:(o.Y++,o.u=Wr(I(o.Fa,o),Ko(o,o.v)),o.v++,!0)}n.Fa=function(){if(this.u=null,Ms(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var o=2*this.R;this.j.info("BP detection timer enabled: "+o),this.A=Wr(I(this.ab,this),o)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ht(10),ei(this),Ms(this))};function $i(o){o.A!=null&&(c.clearTimeout(o.A),o.A=null)}function Ms(o){o.g=new Be(o,o.j,"rpc",o.Y),o.m===null&&(o.g.H=o.o),o.g.O=0;var u=Mt(o.qa);ve(u,"RID","rpc"),ve(u,"SID",o.K),ve(u,"AID",o.T),ve(u,"CI",o.F?"0":"1"),!o.F&&o.ja&&ve(u,"TO",o.ja),ve(u,"TYPE","xmlhttp"),Cn(o,u),o.m&&o.o&&Xr(u,o.m,o.o),o.L&&(o.g.I=o.L);var p=o.g;o=o.ia,p.L=1,p.v=_r(Mt(u)),p.m=null,p.P=!0,In(p,o)}n.Za=function(){this.C!=null&&(this.C=null,ei(this),ti(this),ht(19))};function Qt(o){o.C!=null&&(c.clearTimeout(o.C),o.C=null)}function ji(o,u){var p=null;if(o.g==u){Qt(o),$i(o),o.g=null;var b=2}else if(ki(o.h,u))p=u.D,Ss(o.h,u),b=1;else return;if(o.G!=0){if(u.o)if(b==1){p=u.m?u.m.length:0,u=Date.now()-u.F;var O=o.B;b=Ci(),Ge(b,new Lo(b,p)),Ui(o)}else Go(o);else if(O=u.s,O==3||O==0&&0<u.X||!(b==1&&qo(o,u)||b==2&&ti(o)))switch(p&&0<p.length&&(u=o.h,u.i=u.i.concat(p)),O){case 1:Rn(o,5);break;case 4:Rn(o,10);break;case 3:Rn(o,6);break;default:Rn(o,2)}}}function Ko(o,u){let p=o.Ta+Math.floor(Math.random()*o.cb);return o.isActive()||(p*=2),p*u}function Rn(o,u){if(o.j.info("Error code "+u),u==2){var p=I(o.fb,o),b=o.Xa;const O=!b;b=new cn(b||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||St(b,"https"),_r(b),O?wr(b.toString(),p):Cl(b.toString(),p)}else ht(2);o.G=0,o.l&&o.l.sa(u),Qo(o),Ho(o)}n.fb=function(o){o?(this.j.info("Successfully pinged google.com"),ht(2)):(this.j.info("Failed to ping google.com"),ht(1))};function Qo(o){if(o.G=0,o.ka=[],o.l){const u=Cs(o.h);(u.length!=0||o.i.length!=0)&&(D(o.ka,u),D(o.ka,o.i),o.h.i.length=0,F(o.i),o.i.length=0),o.l.ra()}}function Jo(o,u,p){var b=p instanceof cn?Mt(p):new cn(p);if(b.g!="")u&&(b.g=u+"."+b.g),Wt(b,b.s);else{var O=c.location;b=O.protocol,u=u?u+"."+O.hostname:O.hostname,O=+O.port;var V=new cn(null);b&&St(V,b),u&&(V.g=u),O&&Wt(V,O),p&&(V.l=p),b=V}return p=o.D,u=o.ya,p&&u&&ve(b,p,u),ve(b,"VER",o.la),Cn(o,b),b}function Xo(o,u,p){if(u&&!o.J)throw Error("Can't create secondary domain capable XhrIo object.");return u=o.Ca&&!o.pa?new xe(new Er({eb:p})):new xe(o.pa),u.Ha(o.J),u}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Yo(){}n=Yo.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function ni(){}ni.prototype.g=function(o,u){return new vt(o,u)};function vt(o,u){et.call(this),this.g=new Ls(u),this.l=o,this.h=u&&u.messageUrlParams||null,o=u&&u.messageHeaders||null,u&&u.clientProtocolHeaderRequired&&(o?o["X-Client-Protocol"]="webchannel":o={"X-Client-Protocol":"webchannel"}),this.g.o=o,o=u&&u.initMessageHeaders||null,u&&u.messageContentType&&(o?o["X-WebChannel-Content-Type"]=u.messageContentType:o={"X-WebChannel-Content-Type":u.messageContentType}),u&&u.va&&(o?o["X-WebChannel-Client-Profile"]=u.va:o={"X-WebChannel-Client-Profile":u.va}),this.g.S=o,(o=u&&u.Sb)&&!U(o)&&(this.g.m=o),this.v=u&&u.supportsCrossDomainXhr||!1,this.u=u&&u.sendRawJson||!1,(u=u&&u.httpSessionIdParam)&&!U(u)&&(this.g.D=u,o=this.h,o!==null&&u in o&&(o=this.h,u in o&&delete o[u])),this.j=new xt(this)}k(vt,et),vt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},vt.prototype.close=function(){Zr(this.g)},vt.prototype.o=function(o){var u=this.g;if(typeof o=="string"){var p={};p.__data__=o,o=p}else this.u&&(p={},p.__data__=_s(o),o=p);u.i.push(new Fo(u.Ya++,o)),u.G==3&&Ui(u)},vt.prototype.N=function(){this.g.l=null,delete this.j,Zr(this.g),delete this.g,vt.aa.N.call(this)};function Zo(o){Si.call(this),o.__headers__&&(this.headers=o.__headers__,this.statusCode=o.__status__,delete o.__headers__,delete o.__status__);var u=o.__sm__;if(u){e:{for(const p in u){o=p;break e}o=void 0}(this.i=o)&&(o=this.i,u=u!==null&&o in u?u[o]:void 0),this.data=u}else this.data=o}k(Zo,Si);function Kn(){bs.call(this),this.status=1}k(Kn,bs);function xt(o){this.g=o}k(xt,Yo),xt.prototype.ua=function(){Ge(this.g,"a")},xt.prototype.ta=function(o){Ge(this.g,new Zo(o))},xt.prototype.sa=function(o){Ge(this.g,new Kn)},xt.prototype.ra=function(){Ge(this.g,"b")},ni.prototype.createWebChannel=ni.prototype.g,vt.prototype.send=vt.prototype.o,vt.prototype.open=vt.prototype.m,vt.prototype.close=vt.prototype.close,Xp=function(){return new ni},Jp=function(){return Ci()},Qp=Bn,vc={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Ri.NO_ERROR=0,Ri.TIMEOUT=8,Ri.HTTP_ERROR=6,Aa=Ri,Vo.COMPLETE="complete",Kp=Vo,qr.EventType=fr,fr.OPEN="a",fr.CLOSE="b",fr.ERROR="c",fr.MESSAGE="d",et.prototype.listen=et.prototype.K,Ks=qr,xe.prototype.listenOnce=xe.prototype.L,xe.prototype.getLastError=xe.prototype.Ka,xe.prototype.getLastErrorCode=xe.prototype.Ba,xe.prototype.getStatus=xe.prototype.Z,xe.prototype.getResponseJson=xe.prototype.Oa,xe.prototype.getResponseText=xe.prototype.oa,xe.prototype.send=xe.prototype.ea,xe.prototype.setWithCredentials=xe.prototype.Ha,Gp=xe}).apply(typeof da<"u"?da:typeof self<"u"?self:typeof window<"u"?window:{});const Cd="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}wt.UNAUTHENTICATED=new wt(null),wt.GOOGLE_CREDENTIALS=new wt("google-credentials-uid"),wt.FIRST_PARTY=new wt("first-party-uid"),wt.MOCK_USER=new wt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ds="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yi=new eu("@firebase/firestore");function qi(){return yi.logLevel}function X(n,...e){if(yi.logLevel<=he.DEBUG){const t=e.map(pu);yi.debug(`Firestore (${ds}): ${n}`,...t)}}function vi(n,...e){if(yi.logLevel<=he.ERROR){const t=e.map(pu);yi.error(`Firestore (${ds}): ${n}`,...t)}}function za(n,...e){if(yi.logLevel<=he.WARN){const t=e.map(pu);yi.warn(`Firestore (${ds}): ${n}`,...t)}}function pu(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(n="Unexpected state"){const e=`FIRESTORE (${ds}) INTERNAL ASSERTION FAILED: `+n;throw vi(e),new Error(e)}function He(n,e){n||de()}function De(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ne extends hr{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yp{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class TE{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(wt.UNAUTHENTICATED))}shutdown(){}}class IE{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class AE{constructor(e){this.t=e,this.currentUser=wt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){He(this.o===void 0);let r=this.i;const i=h=>this.i!==r?(r=this.i,t(h)):Promise.resolve();let s=new fi;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new fi,e.enqueueRetryable(()=>i(this.currentUser))};const l=()=>{const h=s;e.enqueueRetryable(async()=>{await h.promise,await i(this.currentUser)})},c=h=>{X("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=h,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(h=>c(h)),setTimeout(()=>{if(!this.auth){const h=this.t.getImmediate({optional:!0});h?c(h):(X("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new fi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(X("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(He(typeof r.accessToken=="string"),new Yp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return He(e===null||typeof e=="string"),new wt(e)}}class SE{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=wt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class CE{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new SE(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(wt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class RE{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class PE{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){He(this.o===void 0);const r=s=>{s.error!=null&&X("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);const l=s.token!==this.R;return this.R=s.token,X("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};const i=s=>{X("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){const s=this.A.getImmediate({optional:!0});s?i(s):X("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(He(typeof t.token=="string"),this.R=t.token,new RE(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NE(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zp{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=NE(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<t&&(r+=e.charAt(i[s]%e.length))}return r}}function Se(n,e){return n<e?-1:n>e?1:0}function ts(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ct{static now(){return ct.fromMillis(Date.now())}static fromDate(e){return ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ne(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ne(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ve{static fromTimestamp(e){return new Ve(e)}static min(){return new Ve(new ct(0,0))}static max(){return new Ve(new ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,t,r){t===void 0?t=0:t>e.length&&de(),r===void 0?r=e.length-t:r>e.length-t&&de(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return lo.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof lo?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let i=0;i<r;i++){const s=e.get(i),l=t.get(i);if(s<l)return-1;if(s>l)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class Ye extends lo{construct(e,t,r){return new Ye(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ne(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new Ye(t)}static emptyPath(){return new Ye([])}}const kE=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class pt extends lo{construct(e,t,r){return new pt(e,t,r)}static isValidIdentifier(e){return kE.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),pt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new pt(["__name__"])}static fromServerFormat(e){const t=[];let r="",i=0;const s=()=>{if(r.length===0)throw new ne(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;i<e.length;){const c=e[i];if(c==="\\"){if(i+1===e.length)throw new ne(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const h=e[i+1];if(h!=="\\"&&h!=="."&&h!=="`")throw new ne(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=h,i+=2}else c==="`"?(l=!l,i++):c!=="."||l?(r+=c,i++):(s(),i++)}if(s(),l)throw new ne(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new pt(t)}static emptyPath(){return new pt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ce{constructor(e){this.path=e}static fromPath(e){return new ce(Ye.fromString(e))}static fromName(e){return new ce(Ye.fromString(e).popFirst(5))}static empty(){return new ce(Ye.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ye.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Ye.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ce(new Ye(e.slice()))}}function xE(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=Ve.fromTimestamp(r===1e9?new ct(t+1,0):new ct(t,r));return new Lr(i,ce.empty(),e)}function OE(n){return new Lr(n.readTime,n.key,-1)}class Lr{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Lr(Ve.min(),ce.empty(),-1)}static max(){return new Lr(Ve.max(),ce.empty(),-1)}}function DE(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=ce.comparator(n.documentKey,e.documentKey),t!==0?t:Se(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LE="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class VE{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function mu(n){if(n.code!==z.FAILED_PRECONDITION||n.message!==LE)throw n;X("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&de(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new B((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(t,s).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof B?t:B.resolve(t)}catch(t){return B.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):B.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):B.reject(t)}static resolve(e){return new B((t,r)=>{t(e)})}static reject(e){return new B((t,r)=>{r(e)})}static waitFor(e){return new B((t,r)=>{let i=0,s=0,l=!1;e.forEach(c=>{++i,c.next(()=>{++s,l&&s===i&&t()},h=>r(h))}),l=!0,s===i&&t()})}static or(e){let t=B.resolve(!1);for(const r of e)t=t.next(i=>i?B.resolve(i):r());return t}static forEach(e,t){const r=[];return e.forEach((i,s)=>{r.push(t.call(this,i,s))}),this.waitFor(r)}static mapArray(e,t){return new B((r,i)=>{const s=e.length,l=new Array(s);let c=0;for(let h=0;h<s;h++){const f=h;t(e[f]).next(E=>{l[f]=E,++c,c===s&&r(l)},E=>i(E))}})}static doWhile(e,t){return new B((r,i)=>{const s=()=>{e()===!0?t().next(()=>{s()},i):r()};s()})}}function ME(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ao(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gu{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ie(r),this.se=r=>t.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}gu.oe=-1;function _u(n){return n==null}function Ha(n){return n===0&&1/n==-1/0}function FE(n){return typeof n=="number"&&Number.isInteger(n)&&!Ha(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UE(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Rd(e)),e=$E(n.get(t),e);return Rd(e)}function $E(n,e){let t=e;const r=n.length;for(let i=0;i<r;i++){const s=n.charAt(i);switch(s){case"\0":t+="";break;case"":t+="";break;default:t+=s}}return t}function Rd(n){return n+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pd(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function fs(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function em(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lt{constructor(e,t){this.comparator=e,this.root=t||dt.EMPTY}insert(e,t){return new Lt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,dt.BLACK,null,null))}remove(e){return new Lt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,dt.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new fa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new fa(this.root,e,this.comparator,!1)}getReverseIterator(){return new fa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new fa(this.root,e,this.comparator,!0)}}class fa{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=t?r(e.key,t):1,t&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class dt{constructor(e,t,r,i,s){this.key=e,this.value=t,this.color=r??dt.RED,this.left=i??dt.EMPTY,this.right=s??dt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,s){return new dt(e??this.key,t??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this;const s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,t,r),null):s===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return dt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return dt.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,dt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,dt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw de();const e=this.left.check();if(e!==this.right.check())throw de();return e+(this.isRed()?0:1)}}dt.EMPTY=null,dt.RED=!0,dt.BLACK=!1;dt.EMPTY=new class{constructor(){this.size=0}get key(){throw de()}get value(){throw de()}get color(){throw de()}get left(){throw de()}get right(){throw de()}copy(e,t,r,i,s){return this}insert(e,t,r){return new dt(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Lt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Nd(this.data.getIterator())}getIteratorFrom(e){return new Nd(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const i=t.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new mt(this.comparator);return t.data=e,t}}class Nd{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(pt.comparator)}static empty(){return new _n([])}unionWith(e){let t=new mt(pt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new _n(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ts(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jE extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new jE("Invalid base64 string: "+s):s}}(e);return new Ln(t)}static fromUint8Array(e){const t=function(i){let s="";for(let l=0;l<i.length;++l)s+=String.fromCharCode(i[l]);return s}(e);return new Ln(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ln.EMPTY_BYTE_STRING=new Ln("");const BE=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function bi(n){if(He(!!n),typeof n=="string"){let e=0;const t=BE.exec(n);if(He(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(n.seconds),nanos:ft(n.nanos)}}function ft(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function ns(n){return typeof n=="string"?Ln.fromBase64String(n):Ln.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yu(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function vu(n){const e=n.mapValue.fields.__previous_value__;return yu(e)?vu(e):e}function qa(n){const e=bi(n.mapValue.fields.__local_write_time__.timestampValue);return new ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zE{constructor(e,t,r,i,s,l,c,h,f){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=h,this.useFetchStreams=f}}class Wa{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new Wa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Wa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pa={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function wi(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?yu(n)?4:qE(n)?9007199254740991:HE(n)?10:11:de()}function Vn(n,e){if(n===e)return!0;const t=wi(n);if(t!==wi(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return qa(n).isEqual(qa(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;const l=bi(i.timestampValue),c=bi(s.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,s){return ns(i.bytesValue).isEqual(ns(s.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,s){return ft(i.geoPointValue.latitude)===ft(s.geoPointValue.latitude)&&ft(i.geoPointValue.longitude)===ft(s.geoPointValue.longitude)}(n,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return ft(i.integerValue)===ft(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){const l=ft(i.doubleValue),c=ft(s.doubleValue);return l===c?Ha(l)===Ha(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return ts(n.arrayValue.values||[],e.arrayValue.values||[],Vn);case 10:case 11:return function(i,s){const l=i.mapValue.fields||{},c=s.mapValue.fields||{};if(Pd(l)!==Pd(c))return!1;for(const h in l)if(l.hasOwnProperty(h)&&(c[h]===void 0||!Vn(l[h],c[h])))return!1;return!0}(n,e);default:return de()}}function co(n,e){return(n.values||[]).find(t=>Vn(t,e))!==void 0}function rs(n,e){if(n===e)return 0;const t=wi(n),r=wi(e);if(t!==r)return Se(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Se(n.booleanValue,e.booleanValue);case 2:return function(s,l){const c=ft(s.integerValue||s.doubleValue),h=ft(l.integerValue||l.doubleValue);return c<h?-1:c>h?1:c===h?0:isNaN(c)?isNaN(h)?0:-1:1}(n,e);case 3:return kd(n.timestampValue,e.timestampValue);case 4:return kd(qa(n),qa(e));case 5:return Se(n.stringValue,e.stringValue);case 6:return function(s,l){const c=ns(s),h=ns(l);return c.compareTo(h)}(n.bytesValue,e.bytesValue);case 7:return function(s,l){const c=s.split("/"),h=l.split("/");for(let f=0;f<c.length&&f<h.length;f++){const E=Se(c[f],h[f]);if(E!==0)return E}return Se(c.length,h.length)}(n.referenceValue,e.referenceValue);case 8:return function(s,l){const c=Se(ft(s.latitude),ft(l.latitude));return c!==0?c:Se(ft(s.longitude),ft(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return xd(n.arrayValue,e.arrayValue);case 10:return function(s,l){var c,h,f,E;const _=s.fields||{},I=l.fields||{},C=(c=_.value)===null||c===void 0?void 0:c.arrayValue,k=(h=I.value)===null||h===void 0?void 0:h.arrayValue,F=Se(((f=C==null?void 0:C.values)===null||f===void 0?void 0:f.length)||0,((E=k==null?void 0:k.values)===null||E===void 0?void 0:E.length)||0);return F!==0?F:xd(C,k)}(n.mapValue,e.mapValue);case 11:return function(s,l){if(s===pa.mapValue&&l===pa.mapValue)return 0;if(s===pa.mapValue)return 1;if(l===pa.mapValue)return-1;const c=s.fields||{},h=Object.keys(c),f=l.fields||{},E=Object.keys(f);h.sort(),E.sort();for(let _=0;_<h.length&&_<E.length;++_){const I=Se(h[_],E[_]);if(I!==0)return I;const C=rs(c[h[_]],f[E[_]]);if(C!==0)return C}return Se(h.length,E.length)}(n.mapValue,e.mapValue);default:throw de()}}function kd(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Se(n,e);const t=bi(n),r=bi(e),i=Se(t.seconds,r.seconds);return i!==0?i:Se(t.nanos,r.nanos)}function xd(n,e){const t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){const s=rs(t[i],r[i]);if(s)return s}return Se(t.length,r.length)}function is(n){return bc(n)}function bc(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=bi(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return ns(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return ce.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(const s of t.values||[])i?i=!1:r+=",",r+=bc(s);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let i="{",s=!0;for(const l of r)s?s=!1:i+=",",i+=`${l}:${bc(t.fields[l])}`;return i+"}"}(n.mapValue):de()}function Sa(n){switch(wi(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=vu(n);return e?16+Sa(e):16;case 5:return 2*n.stringValue.length;case 6:return ns(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((i,s)=>i+Sa(s),0)}(n.arrayValue);case 10:case 11:return function(r){let i=0;return fs(r.fields,(s,l)=>{i+=s.length+Sa(l)}),i}(n.mapValue);default:throw de()}}function wc(n){return!!n&&"integerValue"in n}function bu(n){return!!n&&"arrayValue"in n}function Ca(n){return!!n&&"mapValue"in n}function HE(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Ys(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return fs(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ys(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ys(n.arrayValue.values[t]);return e}return Object.assign({},n)}function qE(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mn{constructor(e){this.value=e}static empty(){return new mn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!Ca(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ys(t)}setAll(e){let t=pt.emptyPath(),r={},i=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const h=this.getFieldsMap(t);this.applyChanges(h,r,i),r={},i=[],t=c.popLast()}l?r[c.lastSegment()]=Ys(l):i.push(c.lastSegment())});const s=this.getFieldsMap(t);this.applyChanges(s,r,i)}delete(e){const t=this.field(e.popLast());Ca(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vn(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];Ca(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){fs(t,(i,s)=>e[i]=s);for(const i of r)delete e[i]}clone(){return new mn(Ys(this.value))}}function tm(n){const e=[];return fs(n.fields,(t,r)=>{const i=new pt([t]);if(Ca(r)){const s=tm(r.mapValue).fields;if(s.length===0)e.push(i);else for(const l of s)e.push(i.child(l))}else e.push(i)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pn{constructor(e,t,r,i,s,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=s,this.data=l,this.documentState=c}static newInvalidDocument(e){return new pn(e,0,Ve.min(),Ve.min(),Ve.min(),mn.empty(),0)}static newFoundDocument(e,t,r,i){return new pn(e,1,t,Ve.min(),r,i,0)}static newNoDocument(e,t){return new pn(e,2,t,Ve.min(),Ve.min(),mn.empty(),0)}static newUnknownDocument(e,t){return new pn(e,3,t,Ve.min(),Ve.min(),mn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Ve.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=mn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=mn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Ve.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof pn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new pn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ga{constructor(e,t){this.position=e,this.inclusive=t}}function Od(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){const s=e[i],l=n.position[i];if(s.field.isKeyField()?r=ce.comparator(ce.fromName(l.referenceValue),t.key):r=rs(l,t.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function Dd(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vn(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ka{constructor(e,t="asc"){this.field=e,this.dir=t}}function WE(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nm{}class lt extends nm{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new KE(e,t,r):t==="array-contains"?new XE(e,r):t==="in"?new YE(e,r):t==="not-in"?new ZE(e,r):t==="array-contains-any"?new eT(e,r):new lt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new QE(e,r):new JE(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(rs(t,this.value)):t!==null&&wi(this.value)===wi(t)&&this.matchesComparison(rs(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Vr extends nm{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Vr(e,t)}matches(e){return rm(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function rm(n){return n.op==="and"}function im(n){return GE(n)&&rm(n)}function GE(n){for(const e of n.filters)if(e instanceof Vr)return!1;return!0}function Ec(n){if(n instanceof lt)return n.field.canonicalString()+n.op.toString()+is(n.value);if(im(n))return n.filters.map(e=>Ec(e)).join(",");{const e=n.filters.map(t=>Ec(t)).join(",");return`${n.op}(${e})`}}function sm(n,e){return n instanceof lt?function(r,i){return i instanceof lt&&r.op===i.op&&r.field.isEqual(i.field)&&Vn(r.value,i.value)}(n,e):n instanceof Vr?function(r,i){return i instanceof Vr&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,l,c)=>s&&sm(l,i.filters[c]),!0):!1}(n,e):void de()}function om(n){return n instanceof lt?function(t){return`${t.field.canonicalString()} ${t.op} ${is(t.value)}`}(n):n instanceof Vr?function(t){return t.op.toString()+" {"+t.getFilters().map(om).join(" ,")+"}"}(n):"Filter"}class KE extends lt{constructor(e,t,r){super(e,t,r),this.key=ce.fromName(r.referenceValue)}matches(e){const t=ce.comparator(e.key,this.key);return this.matchesComparison(t)}}class QE extends lt{constructor(e,t){super(e,"in",t),this.keys=am("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class JE extends lt{constructor(e,t){super(e,"not-in",t),this.keys=am("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function am(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>ce.fromName(r.referenceValue))}class XE extends lt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return bu(t)&&co(t.arrayValue,this.value)}}class YE extends lt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&co(this.value.arrayValue,t)}}class ZE extends lt{constructor(e,t){super(e,"not-in",t)}matches(e){if(co(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&!co(this.value.arrayValue,t)}}class eT extends lt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!bu(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>co(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{constructor(e,t=null,r=[],i=[],s=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=l,this.endAt=c,this.ue=null}}function Ld(n,e=null,t=[],r=[],i=null,s=null,l=null){return new tT(n,e,t,r,i,s,l)}function wu(n){const e=De(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Ec(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),_u(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>is(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>is(r)).join(",")),e.ue=t}return e.ue}function Eu(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!WE(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!sm(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!Dd(n.startAt,e.startAt)&&Dd(n.endAt,e.endAt)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dl{constructor(e,t=null,r=[],i=[],s=null,l="F",c=null,h=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=l,this.startAt=c,this.endAt=h,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function nT(n,e,t,r,i,s,l,c){return new dl(n,e,t,r,i,s,l,c)}function rT(n){return new dl(n)}function Vd(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function iT(n){return n.collectionGroup!==null}function Zs(n){const e=De(n);if(e.ce===null){e.ce=[];const t=new Set;for(const s of e.explicitOrderBy)e.ce.push(s),t.add(s.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new mt(pt.comparator);return l.filters.forEach(h=>{h.getFlattenedFilters().forEach(f=>{f.isInequality()&&(c=c.add(f.field))})}),c})(e).forEach(s=>{t.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Ka(s,r))}),t.has(pt.keyField().canonicalString())||e.ce.push(new Ka(pt.keyField(),r))}return e.ce}function pi(n){const e=De(n);return e.le||(e.le=sT(e,Zs(n))),e.le}function sT(n,e){if(n.limitType==="F")return Ld(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{const s=i.dir==="desc"?"asc":"desc";return new Ka(i.field,s)});const t=n.endAt?new Ga(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new Ga(n.startAt.position,n.startAt.inclusive):null;return Ld(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Tc(n,e,t){return new dl(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function lm(n,e){return Eu(pi(n),pi(e))&&n.limitType===e.limitType}function cm(n){return`${wu(pi(n))}|lt:${n.limitType}`}function Hs(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>om(i)).join(", ")}]`),_u(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>is(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>is(i)).join(",")),`Target(${r})`}(pi(n))}; limitType=${n.limitType})`}function Tu(n,e){return e.isFoundDocument()&&function(r,i){const s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):ce.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(n,e)&&function(r,i){for(const s of Zs(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(n,e)&&function(r,i){for(const s of r.filters)if(!s.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(l,c,h){const f=Od(l,c,h);return l.inclusive?f<=0:f<0}(r.startAt,Zs(r),i)||r.endAt&&!function(l,c,h){const f=Od(l,c,h);return l.inclusive?f>=0:f>0}(r.endAt,Zs(r),i))}(n,e)}function oT(n){return(e,t)=>{let r=!1;for(const i of Zs(n)){const s=aT(i,e,t);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function aT(n,e,t){const r=n.field.isKeyField()?ce.comparator(e.key,t.key):function(s,l,c){const h=l.data.field(s),f=c.data.field(s);return h!==null&&f!==null?rs(h,f):de()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return de()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){fs(this.inner,(t,r)=>{for(const[i,s]of r)e(i,s)})}isEmpty(){return em(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lT=new Lt(ce.comparator);function Qa(){return lT}const um=new Lt(ce.comparator);function ma(...n){let e=um;for(const t of n)e=e.insert(t.key,t);return e}function hm(n){let e=um;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function di(){return eo()}function dm(){return eo()}function eo(){return new Ii(n=>n.toString(),(n,e)=>n.isEqual(e))}const cT=new Lt(ce.comparator),uT=new mt(ce.comparator);function Et(...n){let e=uT;for(const t of n)e=e.add(t);return e}const hT=new mt(Se);function dT(){return hT}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Iu(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Ha(e)?"-0":e}}function fm(n){return{integerValue:""+n}}function fT(n,e){return FE(e)?fm(e):Iu(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(){this._=void 0}}function pT(n,e,t){return n instanceof Ja?function(i,s){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&yu(s)&&(s=vu(s)),s&&(l.fields.__previous_value__=s),{mapValue:l}}(t,e):n instanceof uo?mm(n,e):n instanceof ho?gm(n,e):function(i,s){const l=pm(i,s),c=Md(l)+Md(i.Pe);return wc(l)&&wc(i.Pe)?fm(c):Iu(i.serializer,c)}(n,e)}function mT(n,e,t){return n instanceof uo?mm(n,e):n instanceof ho?gm(n,e):t}function pm(n,e){return n instanceof Xa?function(r){return wc(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}class Ja extends fl{}class uo extends fl{constructor(e){super(),this.elements=e}}function mm(n,e){const t=_m(e);for(const r of n.elements)t.some(i=>Vn(i,r))||t.push(r);return{arrayValue:{values:t}}}class ho extends fl{constructor(e){super(),this.elements=e}}function gm(n,e){let t=_m(e);for(const r of n.elements)t=t.filter(i=>!Vn(i,r));return{arrayValue:{values:t}}}class Xa extends fl{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function Md(n){return ft(n.integerValue||n.doubleValue)}function _m(n){return bu(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function gT(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof uo&&i instanceof uo||r instanceof ho&&i instanceof ho?ts(r.elements,i.elements,Vn):r instanceof Xa&&i instanceof Xa?Vn(r.Pe,i.Pe):r instanceof Ja&&i instanceof Ja}(n.transform,e.transform)}class _T{constructor(e,t){this.version=e,this.transformResults=t}}class or{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new or}static exists(e){return new or(void 0,e)}static updateTime(e){return new or(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Ra(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class pl{}function ym(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new bm(n.key,or.none()):new So(n.key,n.data,or.none());{const t=n.data,r=mn.empty();let i=new mt(pt.comparator);for(let s of e.fields)if(!i.has(s)){let l=t.field(s);l===null&&s.length>1&&(s=s.popLast(),l=t.field(s)),l===null?r.delete(s):r.set(s,l),i=i.add(s)}return new Ai(n.key,r,new _n(i.toArray()),or.none())}}function yT(n,e,t){n instanceof So?function(i,s,l){const c=i.value.clone(),h=Ud(i.fieldTransforms,s,l.transformResults);c.setAll(h),s.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof Ai?function(i,s,l){if(!Ra(i.precondition,s))return void s.convertToUnknownDocument(l.version);const c=Ud(i.fieldTransforms,s,l.transformResults),h=s.data;h.setAll(vm(i)),h.setAll(c),s.convertToFoundDocument(l.version,h).setHasCommittedMutations()}(n,e,t):function(i,s,l){s.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function to(n,e,t,r){return n instanceof So?function(s,l,c,h){if(!Ra(s.precondition,l))return c;const f=s.value.clone(),E=$d(s.fieldTransforms,h,l);return f.setAll(E),l.convertToFoundDocument(l.version,f).setHasLocalMutations(),null}(n,e,t,r):n instanceof Ai?function(s,l,c,h){if(!Ra(s.precondition,l))return c;const f=$d(s.fieldTransforms,h,l),E=l.data;return E.setAll(vm(s)),E.setAll(f),l.convertToFoundDocument(l.version,E).setHasLocalMutations(),c===null?null:c.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(_=>_.field))}(n,e,t,r):function(s,l,c){return Ra(s.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function vT(n,e){let t=null;for(const r of n.fieldTransforms){const i=e.data.field(r.field),s=pm(r.transform,i||null);s!=null&&(t===null&&(t=mn.empty()),t.set(r.field,s))}return t||null}function Fd(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ts(r,i,(s,l)=>gT(s,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class So extends pl{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class Ai extends pl{constructor(e,t,r,i,s=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}}function vm(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function Ud(n,e,t){const r=new Map;He(n.length===t.length);for(let i=0;i<t.length;i++){const s=n[i],l=s.transform,c=e.data.field(s.field);r.set(s.field,mT(l,c,t[i]))}return r}function $d(n,e,t){const r=new Map;for(const i of n){const s=i.transform,l=t.data.field(i.field);r.set(i.field,pT(s,l,e))}return r}class bm extends pl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bT extends pl{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){const s=this.mutations[i];s.key.isEqual(e.key)&&yT(s,e,r[i])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=to(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=to(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=dm();return this.mutations.forEach(i=>{const s=e.get(i.key),l=s.overlayedDocument;let c=this.applyToLocalView(l,s.mutatedFields);c=t.has(i.key)?null:c;const h=ym(l,c);h!==null&&r.set(i.key,h),l.isValidDocument()||l.convertToNoDocument(Ve.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),Et())}isEqual(e){return this.batchId===e.batchId&&ts(this.mutations,e.mutations,(t,r)=>Fd(t,r))&&ts(this.baseMutations,e.baseMutations,(t,r)=>Fd(t,r))}}class Au{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){He(e.mutations.length===r.length);let i=function(){return cT}();const s=e.mutations;for(let l=0;l<s.length;l++)i=i.insert(s[l].key,r[l].version);return new Au(e,t,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ET{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Xe,_e;function TT(n){switch(n){default:return de();case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0}}function IT(n){if(n===void 0)return vi("GRPC error has no .code"),z.UNKNOWN;switch(n){case Xe.OK:return z.OK;case Xe.CANCELLED:return z.CANCELLED;case Xe.UNKNOWN:return z.UNKNOWN;case Xe.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case Xe.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case Xe.INTERNAL:return z.INTERNAL;case Xe.UNAVAILABLE:return z.UNAVAILABLE;case Xe.UNAUTHENTICATED:return z.UNAUTHENTICATED;case Xe.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case Xe.NOT_FOUND:return z.NOT_FOUND;case Xe.ALREADY_EXISTS:return z.ALREADY_EXISTS;case Xe.PERMISSION_DENIED:return z.PERMISSION_DENIED;case Xe.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case Xe.ABORTED:return z.ABORTED;case Xe.OUT_OF_RANGE:return z.OUT_OF_RANGE;case Xe.UNIMPLEMENTED:return z.UNIMPLEMENTED;case Xe.DATA_LOSS:return z.DATA_LOSS;default:return de()}}(_e=Xe||(Xe={}))[_e.OK=0]="OK",_e[_e.CANCELLED=1]="CANCELLED",_e[_e.UNKNOWN=2]="UNKNOWN",_e[_e.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",_e[_e.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",_e[_e.NOT_FOUND=5]="NOT_FOUND",_e[_e.ALREADY_EXISTS=6]="ALREADY_EXISTS",_e[_e.PERMISSION_DENIED=7]="PERMISSION_DENIED",_e[_e.UNAUTHENTICATED=16]="UNAUTHENTICATED",_e[_e.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",_e[_e.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",_e[_e.ABORTED=10]="ABORTED",_e[_e.OUT_OF_RANGE=11]="OUT_OF_RANGE",_e[_e.UNIMPLEMENTED=12]="UNIMPLEMENTED",_e[_e.INTERNAL=13]="INTERNAL",_e[_e.UNAVAILABLE=14]="UNAVAILABLE",_e[_e.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */new Wp([4294967295,4294967295],0);class AT{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Ic(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ST(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function CT(n,e){return Ic(n,e.toTimestamp())}function Xi(n){return He(!!n),Ve.fromTimestamp(function(t){const r=bi(t);return new ct(r.seconds,r.nanos)}(n))}function wm(n,e){return Ac(n,e).canonicalString()}function Ac(n,e){const t=function(i){return new Ye(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function RT(n){const e=Ye.fromString(n);return He(VT(e)),e}function Sc(n,e){return wm(n.databaseId,e.path)}function PT(n){const e=RT(n);return e.length===4?Ye.emptyPath():kT(e)}function NT(n){return new Ye(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function kT(n){return He(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function jd(n,e,t){return{name:Sc(n,e),fields:t.value.mapValue.fields}}function xT(n,e){let t;if(e instanceof So)t={update:jd(n,e.key,e.value)};else if(e instanceof bm)t={delete:Sc(n,e.key)};else if(e instanceof Ai)t={update:jd(n,e.key,e.data),updateMask:LT(e.fieldMask)};else{if(!(e instanceof bT))return de();t={verify:Sc(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(s,l){const c=l.transform;if(c instanceof Ja)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof uo)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ho)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof Xa)return{fieldPath:l.field.canonicalString(),increment:c.Pe};throw de()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:CT(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:de()}(n,e.precondition)),t}function OT(n,e){return n&&n.length>0?(He(e!==void 0),n.map(t=>function(i,s){let l=i.updateTime?Xi(i.updateTime):Xi(s);return l.isEqual(Ve.min())&&(l=Xi(s)),new _T(l,i.transformResults||[])}(t,e))):[]}function DT(n){let e=PT(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let i=null;if(r>0){He(r===1);const E=t.from[0];E.allDescendants?i=E.collectionId:e=e.child(E.collectionId)}let s=[];t.where&&(s=function(_){const I=Em(_);return I instanceof Vr&&im(I)?I.getFilters():[I]}(t.where));let l=[];t.orderBy&&(l=function(_){return _.map(I=>function(k){return new Ka(Wi(k.field),function(D){switch(D){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(k.direction))}(I))}(t.orderBy));let c=null;t.limit&&(c=function(_){let I;return I=typeof _=="object"?_.value:_,_u(I)?null:I}(t.limit));let h=null;t.startAt&&(h=function(_){const I=!!_.before,C=_.values||[];return new Ga(C,I)}(t.startAt));let f=null;return t.endAt&&(f=function(_){const I=!_.before,C=_.values||[];return new Ga(C,I)}(t.endAt)),nT(e,i,l,s,c,"F",h,f)}function Em(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Wi(t.unaryFilter.field);return lt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Wi(t.unaryFilter.field);return lt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const s=Wi(t.unaryFilter.field);return lt.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Wi(t.unaryFilter.field);return lt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return de()}}(n):n.fieldFilter!==void 0?function(t){return lt.create(Wi(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return de()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return Vr.create(t.compositeFilter.filters.map(r=>Em(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return de()}}(t.compositeFilter.op))}(n):de()}function Wi(n){return pt.fromServerFormat(n.fieldPath)}function LT(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function VT(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MT{constructor(e){this.ht=e}}function FT(n){const e=DT({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Tc(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UT{constructor(){this.ln=new $T}addToCollectionParentIndex(e,t){return this.ln.add(t),B.resolve()}getCollectionParents(e,t){return B.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return B.resolve()}deleteFieldIndex(e,t){return B.resolve()}deleteAllFieldIndexes(e){return B.resolve()}createTargetIndexes(e,t){return B.resolve()}getDocumentsMatchingTarget(e,t){return B.resolve(null)}getIndexType(e,t){return B.resolve(0)}getFieldIndexes(e,t){return B.resolve([])}getNextCollectionGroupToUpdate(e){return B.resolve(null)}getMinOffset(e,t){return B.resolve(Lr.min())}getMinOffsetFromCollectionGroup(e,t){return B.resolve(Lr.min())}updateCollectionGroup(e,t,r){return B.resolve()}updateIndexEntries(e,t){return B.resolve()}}class $T{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new mt(Ye.comparator),s=!i.has(r);return this.index[t]=i.add(r),s}has(e){const t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new mt(Ye.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bd={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Dt{static withCacheSize(e){return new Dt(e,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Dt.DEFAULT_COLLECTION_PERCENTILE=10,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dt.DEFAULT=new Dt(41943040,Dt.DEFAULT_COLLECTION_PERCENTILE,Dt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dt.DISABLED=new Dt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ss{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new ss(0)}static Qn(){return new ss(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zd([n,e],[t,r]){const i=Se(n,t);return i===0?Se(e,r):i}class jT{constructor(e){this.Gn=e,this.buffer=new mt(zd),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();zd(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class BT{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){X("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ao(t)?X("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",t):await mu(t)}await this.Yn(3e5)})}}class zT{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return B.resolve(gu.oe);const r=new jT(t);return this.Zn.forEachTarget(e,i=>r.Hn(i.sequenceNumber)).next(()=>this.Zn.er(e,i=>r.Hn(i))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.Zn.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(X("LruGarbageCollector","Garbage collection skipped; disabled"),B.resolve(Bd)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(X("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Bd):this.tr(e,t))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let r,i,s,l,c,h,f;const E=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(_=>(_>this.params.maximumSequenceNumbersToCollect?(X("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${_}`),i=this.params.maximumSequenceNumbersToCollect):i=_,l=Date.now(),this.nthSequenceNumber(e,i))).next(_=>(r=_,c=Date.now(),this.removeTargets(e,r,t))).next(_=>(s=_,h=Date.now(),this.removeOrphanedDocuments(e,r))).next(_=>(f=Date.now(),qi()<=he.DEBUG&&X("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-E}ms
	Determined least recently used ${i} in `+(c-l)+`ms
	Removed ${s} targets in `+(h-c)+`ms
	Removed ${_} documents in `+(f-h)+`ms
Total Duration: ${f-E}ms`),B.resolve({didRun:!0,sequenceNumbersCollected:i,targetsRemoved:s,documentsRemoved:_})))}}function HT(n,e){return new zT(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qT{constructor(){this.changes=new Ii(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?B.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WT{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GT{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&to(r.mutation,i,_n.empty(),ct.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,Et()).next(()=>r))}getLocalViewOfDocuments(e,t,r=Et()){const i=di();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(s=>{let l=ma();return s.forEach((c,h)=>{l=l.insert(c,h.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=di();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,Et()))}populateOverlays(e,t,r){const i=[];return r.forEach(s=>{t.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,i){let s=Qa();const l=eo(),c=function(){return eo()}();return t.forEach((h,f)=>{const E=r.get(f.key);i.has(f.key)&&(E===void 0||E.mutation instanceof Ai)?s=s.insert(f.key,f):E!==void 0?(l.set(f.key,E.mutation.getFieldMask()),to(E.mutation,f,E.mutation.getFieldMask(),ct.now())):l.set(f.key,_n.empty())}),this.recalculateAndSaveOverlays(e,s).next(h=>(h.forEach((f,E)=>l.set(f,E)),t.forEach((f,E)=>{var _;return c.set(f,new WT(E,(_=l.get(f))!==null&&_!==void 0?_:null))}),c))}recalculateAndSaveOverlays(e,t){const r=eo();let i=new Lt((l,c)=>l-c),s=Et();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(h=>{const f=t.get(h);if(f===null)return;let E=r.get(h)||_n.empty();E=c.applyToLocalView(f,E),r.set(h,E);const _=(i.get(c.batchId)||Et()).add(h);i=i.insert(c.batchId,_)})}).next(()=>{const l=[],c=i.getReverseIterator();for(;c.hasNext();){const h=c.getNext(),f=h.key,E=h.value,_=dm();E.forEach(I=>{if(!s.has(I)){const C=ym(t.get(I),r.get(I));C!==null&&_.set(I,C),s=s.add(I)}}),l.push(this.documentOverlayCache.saveOverlays(e,f,_))}return B.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(l){return ce.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):iT(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(s=>{const l=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-s.size):B.resolve(di());let c=-1,h=s;return l.next(f=>B.forEach(f,(E,_)=>(c<_.largestBatchId&&(c=_.largestBatchId),s.get(E)?B.resolve():this.remoteDocumentCache.getEntry(e,E).next(I=>{h=h.insert(E,I)}))).next(()=>this.populateOverlays(e,f,s)).next(()=>this.computeViews(e,h,f,Et())).next(E=>({batchId:c,changes:hm(E)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new ce(t)).next(r=>{let i=ma();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){const s=t.collectionGroup;let l=ma();return this.indexManager.getCollectionParents(e,s).next(c=>B.forEach(c,h=>{const f=function(_,I){return new dl(I,null,_.explicitOrderBy.slice(),_.filters.slice(),_.limit,_.limitType,_.startAt,_.endAt)}(t,h.child(s));return this.getDocumentsMatchingCollectionQuery(e,f,r,i).next(E=>{E.forEach((_,I)=>{l=l.insert(_,I)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(s=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,s,i))).next(l=>{s.forEach((h,f)=>{const E=f.getKey();l.get(E)===null&&(l=l.insert(E,pn.newInvalidDocument(E)))});let c=ma();return l.forEach((h,f)=>{const E=s.get(h);E!==void 0&&to(E.mutation,f,_n.empty(),ct.now()),Tu(t,f)&&(c=c.insert(h,f))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KT{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return B.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:Xi(i.createTime)}}(t)),B.resolve()}getNamedQuery(e,t){return B.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(i){return{name:i.name,query:FT(i.bundledQuery),readTime:Xi(i.readTime)}}(t)),B.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QT{constructor(){this.overlays=new Lt(ce.comparator),this.Er=new Map}getOverlay(e,t){return B.resolve(this.overlays.get(t))}getOverlays(e,t){const r=di();return B.forEach(t,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,s)=>{this.Tt(e,t,s)}),B.resolve()}removeOverlaysForBatchId(e,t,r){const i=this.Er.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Er.delete(r)),B.resolve()}getOverlaysForCollection(e,t,r){const i=di(),s=t.length+1,l=new ce(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const h=c.getNext().value,f=h.getKey();if(!t.isPrefixOf(f.path))break;f.path.length===s&&h.largestBatchId>r&&i.set(h.getKey(),h)}return B.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let s=new Lt((f,E)=>f-E);const l=this.overlays.getIterator();for(;l.hasNext();){const f=l.getNext().value;if(f.getKey().getCollectionGroup()===t&&f.largestBatchId>r){let E=s.get(f.largestBatchId);E===null&&(E=di(),s=s.insert(f.largestBatchId,E)),E.set(f.getKey(),f)}}const c=di(),h=s.getIterator();for(;h.hasNext()&&(h.getNext().value.forEach((f,E)=>c.set(f,E)),!(c.size()>=i)););return B.resolve(c)}Tt(e,t,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Er.get(i.largestBatchId).delete(r.key);this.Er.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new ET(t,r));let s=this.Er.get(t);s===void 0&&(s=Et(),this.Er.set(t,s)),this.Er.set(t,s.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class JT{constructor(){this.sessionToken=Ln.EMPTY_BYTE_STRING}getSessionToken(e){return B.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,B.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Su{constructor(){this.dr=new mt(at.Ar),this.Rr=new mt(at.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const r=new at(e,t);this.dr=this.dr.add(r),this.Rr=this.Rr.add(r)}mr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.gr(new at(e,t))}pr(e,t){e.forEach(r=>this.removeReference(r,t))}yr(e){const t=new ce(new Ye([])),r=new at(t,e),i=new at(t,e+1),s=[];return this.Rr.forEachInRange([r,i],l=>{this.gr(l),s.push(l.key)}),s}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new ce(new Ye([])),r=new at(t,e),i=new at(t,e+1);let s=Et();return this.Rr.forEachInRange([r,i],l=>{s=s.add(l.key)}),s}containsKey(e){const t=new at(e,0),r=this.dr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class at{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return ce.comparator(e.key,t.key)||Se(e.br,t.br)}static Vr(e,t){return Se(e.br,t.br)||ce.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XT{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new mt(at.Ar)}checkEmpty(e){return B.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){const s=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new wT(s,t,r,i);this.mutationQueue.push(l);for(const c of i)this.vr=this.vr.add(new at(c.key,s)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return B.resolve(l)}lookupMutationBatch(e,t){return B.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,i=this.Fr(r),s=i<0?0:i;return B.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return B.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return B.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new at(t,0),i=new at(t,Number.POSITIVE_INFINITY),s=[];return this.vr.forEachInRange([r,i],l=>{const c=this.Cr(l.br);s.push(c)}),B.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new mt(Se);return t.forEach(i=>{const s=new at(i,0),l=new at(i,Number.POSITIVE_INFINITY);this.vr.forEachInRange([s,l],c=>{r=r.add(c.br)})}),B.resolve(this.Mr(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,i=r.length+1;let s=r;ce.isDocumentKey(s)||(s=s.child(""));const l=new at(new ce(s),0);let c=new mt(Se);return this.vr.forEachWhile(h=>{const f=h.key.path;return!!r.isPrefixOf(f)&&(f.length===i&&(c=c.add(h.br)),!0)},l),B.resolve(this.Mr(c))}Mr(e){const t=[];return e.forEach(r=>{const i=this.Cr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){He(this.Or(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.vr;return B.forEach(t.mutations,i=>{const s=new at(i.key,t.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.vr=r})}Ln(e){}containsKey(e,t){const r=new at(t,0),i=this.vr.firstAfterOrEqual(r);return B.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,B.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT{constructor(e){this.Nr=e,this.docs=function(){return new Lt(ce.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,i=this.docs.get(r),s=i?i.size:0,l=this.Nr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return B.resolve(r?r.document.mutableCopy():pn.newInvalidDocument(t))}getEntries(e,t){let r=Qa();return t.forEach(i=>{const s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():pn.newInvalidDocument(i))}),B.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let s=Qa();const l=t.path,c=new ce(l.child("")),h=this.docs.getIteratorFrom(c);for(;h.hasNext();){const{key:f,value:{document:E}}=h.getNext();if(!l.isPrefixOf(f.path))break;f.path.length>l.length+1||DE(OE(E),r)<=0||(i.has(E.key)||Tu(t,E))&&(s=s.insert(E.key,E.mutableCopy()))}return B.resolve(s)}getAllFromCollectionGroup(e,t,r,i){de()}Lr(e,t){return B.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new ZT(this)}getSize(e){return B.resolve(this.size)}}class ZT extends qT{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.hr.addEntry(e,i)):this.hr.removeEntry(r)}),B.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eI{constructor(e){this.persistence=e,this.Br=new Ii(t=>wu(t),Eu),this.lastRemoteSnapshotVersion=Ve.min(),this.highestTargetId=0,this.kr=0,this.qr=new Su,this.targetCount=0,this.Qr=ss.qn()}forEachTarget(e,t){return this.Br.forEach((r,i)=>t(i)),B.resolve()}getLastRemoteSnapshotVersion(e){return B.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return B.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),B.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.kr&&(this.kr=t),B.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new ss(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,B.resolve()}updateTargetData(e,t){return this.Un(t),B.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,B.resolve()}removeTargets(e,t,r){let i=0;const s=[];return this.Br.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.Br.delete(l),s.push(this.removeMatchingKeysForTargetId(e,c.targetId)),i++)}),B.waitFor(s).next(()=>i)}getTargetCount(e){return B.resolve(this.targetCount)}getTargetData(e,t){const r=this.Br.get(t)||null;return B.resolve(r)}addMatchingKeys(e,t,r){return this.qr.mr(t,r),B.resolve()}removeMatchingKeys(e,t,r){this.qr.pr(t,r);const i=this.persistence.referenceDelegate,s=[];return i&&t.forEach(l=>{s.push(i.markPotentiallyOrphaned(e,l))}),B.waitFor(s)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),B.resolve()}getMatchingKeysForTargetId(e,t){const r=this.qr.Sr(t);return B.resolve(r)}containsKey(e,t){return B.resolve(this.qr.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tm{constructor(e,t){this.Kr={},this.overlays={},this.$r=new gu(0),this.Ur=!1,this.Ur=!0,this.Wr=new JT,this.referenceDelegate=e(this),this.Gr=new eI(this),this.indexManager=new UT,this.remoteDocumentCache=function(i){return new YT(i)}(r=>this.referenceDelegate.zr(r)),this.serializer=new MT(t),this.jr=new KT(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new QT,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.Kr[e.toKey()];return r||(r=new XT(t,this.referenceDelegate),this.Kr[e.toKey()]=r),r}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,r){X("MemoryPersistence","Starting transaction:",e);const i=new tI(this.$r.next());return this.referenceDelegate.Hr(),r(i).next(s=>this.referenceDelegate.Jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Yr(e,t){return B.or(Object.values(this.Kr).map(r=>()=>r.containsKey(e,t)))}}class tI extends VE{constructor(e){super(),this.currentSequenceNumber=e}}class Cu{constructor(e){this.persistence=e,this.Zr=new Su,this.Xr=null}static ei(e){return new Cu(e)}get ti(){if(this.Xr)return this.Xr;throw de()}addReference(e,t,r){return this.Zr.addReference(r,t),this.ti.delete(r.toString()),B.resolve()}removeReference(e,t,r){return this.Zr.removeReference(r,t),this.ti.add(r.toString()),B.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),B.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach(i=>this.ti.add(i.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(s=>this.ti.add(s.toString()))}).next(()=>r.removeTargetData(e,t))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return B.forEach(this.ti,r=>{const i=ce.fromPath(r);return this.ni(e,i).next(s=>{s||t.removeEntry(i,Ve.min())})}).next(()=>(this.Xr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ni(e,t).next(r=>{r?this.ti.delete(t.toString()):this.ti.add(t.toString())})}zr(e){return 0}ni(e,t){return B.or([()=>B.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Ya{constructor(e,t){this.persistence=e,this.ri=new Ii(r=>UE(r.path),(r,i)=>r.isEqual(i)),this.garbageCollector=HT(this,t)}static ei(e,t){return new Ya(e,t)}Hr(){}Jr(e){return B.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(i=>r+i))}nr(e){let t=0;return this.er(e,r=>{t++}).next(()=>t)}er(e,t){return B.forEach(this.ri,(r,i)=>this.ir(e,r,i).next(s=>s?B.resolve():t(i)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const i=this.persistence.getRemoteDocumentCache(),s=i.newChangeBuffer();return i.Lr(e,l=>this.ir(e,l,t).next(c=>{c||(r++,s.removeEntry(l,Ve.min()))})).next(()=>s.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),B.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}removeReference(e,t,r){return this.ri.set(r,e.currentSequenceNumber),B.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),B.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Sa(e.data.value)),t}ir(e,t,r){return B.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const i=this.ri.get(t);return B.resolve(i!==void 0&&i>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ru{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.Wi=r,this.Gi=i}static zi(e,t){let r=Et(),i=Et();for(const s of t.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new Ru(e,t.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nI{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return zv()?8:ME(Tt())>0?6:4}()}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,r,i){const s={result:null};return this.Xi(e,t).next(l=>{s.result=l}).next(()=>{if(!s.result)return this.es(e,t,i,r).next(l=>{s.result=l})}).next(()=>{if(s.result)return;const l=new nI;return this.ts(e,t,l).next(c=>{if(s.result=c,this.Hi)return this.ns(e,t,l,c.size)})}).next(()=>s.result)}ns(e,t,r,i){return r.documentReadCount<this.Ji?(qi()<=he.DEBUG&&X("QueryEngine","SDK will not create cache indexes for query:",Hs(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),B.resolve()):(qi()<=he.DEBUG&&X("QueryEngine","Query:",Hs(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Yi*i?(qi()<=he.DEBUG&&X("QueryEngine","The SDK decides to create cache indexes for query:",Hs(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pi(t))):B.resolve())}Xi(e,t){if(Vd(t))return B.resolve(null);let r=pi(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=Tc(t,null,"F"),r=pi(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{const l=Et(...s);return this.Zi.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(h=>{const f=this.rs(t,c);return this.ss(t,f,l,h.readTime)?this.Xi(e,Tc(t,null,"F")):this.os(e,f,t,h)}))})))}es(e,t,r,i){return Vd(t)||i.isEqual(Ve.min())?B.resolve(null):this.Zi.getDocuments(e,r).next(s=>{const l=this.rs(t,s);return this.ss(t,l,r,i)?B.resolve(null):(qi()<=he.DEBUG&&X("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Hs(t)),this.os(e,l,t,xE(i,-1)).next(c=>c))})}rs(e,t){let r=new mt(oT(e));return t.forEach((i,s)=>{Tu(e,s)&&(r=r.add(s))}),r}ss(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const s=e.limitType==="F"?t.last():t.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}ts(e,t,r){return qi()<=he.DEBUG&&X("QueryEngine","Using full collection scan to execute query:",Hs(t)),this.Zi.getDocumentsMatchingQuery(e,t,Lr.min(),r)}os(e,t,r,i){return this.Zi.getDocumentsMatchingQuery(e,r,i).next(s=>(t.forEach(l=>{s=s.insert(l.key,l)}),s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iI{constructor(e,t,r,i){this.persistence=e,this._s=t,this.serializer=i,this.us=new Lt(Se),this.cs=new Ii(s=>wu(s),Eu),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(r)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new GT(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.us))}}function sI(n,e,t,r){return new iI(n,e,t,r)}async function Im(n,e){const t=De(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,t.Ps(e),t.mutationQueue.getAllMutationBatches(r))).next(s=>{const l=[],c=[];let h=Et();for(const f of i){l.push(f.batchId);for(const E of f.mutations)h=h.add(E.key)}for(const f of s){c.push(f.batchId);for(const E of f.mutations)h=h.add(E.key)}return t.localDocuments.getDocuments(r,h).next(f=>({Ts:f,removedBatchIds:l,addedBatchIds:c}))})})}function oI(n,e){const t=De(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const i=e.batch.keys(),s=t.hs.newChangeBuffer({trackRemovals:!0});return function(c,h,f,E){const _=f.batch,I=_.keys();let C=B.resolve();return I.forEach(k=>{C=C.next(()=>E.getEntry(h,k)).next(F=>{const D=f.docVersions.get(k);He(D!==null),F.version.compareTo(D)<0&&(_.applyToRemoteDocument(F,f),F.isValidDocument()&&(F.setReadTime(f.commitVersion),E.addEntry(F)))})}),C.next(()=>c.mutationQueue.removeMutationBatch(h,_))}(t,r,e,s).next(()=>s.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let h=Et();for(let f=0;f<c.mutationResults.length;++f)c.mutationResults[f].transformResults.length>0&&(h=h.add(c.batch.mutations[f].key));return h}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function aI(n){const e=De(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Gr.getLastRemoteSnapshotVersion(t))}function lI(n,e){const t=De(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}class Hd{constructor(){this.activeTargetIds=dT()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class cI{constructor(){this._o=new Hd,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,r){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new Hd,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uI{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qd{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){X("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){X("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let ga=null;function Yl(){return ga===null?ga=function(){return 268435456+Math.round(2147483648*Math.random())}():ga++,"0x"+ga.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hI={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dI{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bt="WebChannelConnection";class fI extends class{get Co(){return!1}constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;const r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Fo=r+"://"+t.host,this.Mo=`projects/${i}/databases/${s}`,this.xo=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}Oo(t,r,i,s,l){const c=Yl(),h=this.No(t,r.toUriEncodedString());X("RestConnection",`Sending RPC '${t}' ${c}:`,h,i);const f={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(f,s,l),this.Bo(t,h,f,i).then(E=>(X("RestConnection",`Received RPC '${t}' ${c}: `,E),E),E=>{throw za("RestConnection",`RPC '${t}' ${c} failed with error: `,E,"url: ",h,"request:",i),E})}ko(t,r,i,s,l,c){return this.Oo(t,r,i,s,l)}Lo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+ds}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,l)=>t[l]=s),i&&i.headers.forEach((s,l)=>t[l]=s)}No(t,r){const i=hI[t];return`${this.Fo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,r,i){const s=Yl();return new Promise((l,c)=>{const h=new Gp;h.setWithCredentials(!0),h.listenOnce(Kp.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Aa.NO_ERROR:const E=h.getResponseJson();X(bt,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(E)),l(E);break;case Aa.TIMEOUT:X(bt,`RPC '${e}' ${s} timed out`),c(new ne(z.DEADLINE_EXCEEDED,"Request time out"));break;case Aa.HTTP_ERROR:const _=h.getStatus();if(X(bt,`RPC '${e}' ${s} failed with status:`,_,"response text:",h.getResponseText()),_>0){let I=h.getResponseJson();Array.isArray(I)&&(I=I[0]);const C=I==null?void 0:I.error;if(C&&C.status&&C.message){const k=function(D){const L=D.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(L)>=0?L:z.UNKNOWN}(C.status);c(new ne(k,C.message))}else c(new ne(z.UNKNOWN,"Server responded with status "+h.getStatus()))}else c(new ne(z.UNAVAILABLE,"Connection failed."));break;default:de()}}finally{X(bt,`RPC '${e}' ${s} completed.`)}});const f=JSON.stringify(i);X(bt,`RPC '${e}' ${s} sending request:`,i),h.send(t,"POST",f,r,15)})}qo(e,t,r){const i=Yl(),s=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Xp(),c=Jp(),h={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},f=this.longPollingOptions.timeoutSeconds;f!==void 0&&(h.longPollingTimeout=Math.round(1e3*f)),this.useFetchStreams&&(h.useFetchStreams=!0),this.Lo(h.initMessageHeaders,t,r),h.encodeInitMessageHeaders=!0;const E=s.join("");X(bt,`Creating RPC '${e}' stream ${i}: ${E}`,h);const _=l.createWebChannel(E,h);let I=!1,C=!1;const k=new dI({Eo:D=>{C?X(bt,`Not sending because RPC '${e}' stream ${i} is closed:`,D):(I||(X(bt,`Opening RPC '${e}' stream ${i} transport.`),_.open(),I=!0),X(bt,`RPC '${e}' stream ${i} sending:`,D),_.send(D))},Ao:()=>_.close()}),F=(D,L,U)=>{D.listen(L,G=>{try{U(G)}catch(Y){setTimeout(()=>{throw Y},0)}})};return F(_,Ks.EventType.OPEN,()=>{C||(X(bt,`RPC '${e}' stream ${i} transport opened.`),k.So())}),F(_,Ks.EventType.CLOSE,()=>{C||(C=!0,X(bt,`RPC '${e}' stream ${i} transport closed`),k.Do())}),F(_,Ks.EventType.ERROR,D=>{C||(C=!0,za(bt,`RPC '${e}' stream ${i} transport errored:`,D),k.Do(new ne(z.UNAVAILABLE,"The operation could not be completed")))}),F(_,Ks.EventType.MESSAGE,D=>{var L;if(!C){const U=D.data[0];He(!!U);const G=U,Y=(G==null?void 0:G.error)||((L=G[0])===null||L===void 0?void 0:L.error);if(Y){X(bt,`RPC '${e}' stream ${i} received error:`,Y);const fe=Y.status;let pe=function(v){const T=Xe[v];if(T!==void 0)return IT(T)}(fe),P=Y.message;pe===void 0&&(pe=z.INTERNAL,P="Unknown error status: "+fe+" with message "+Y.message),C=!0,k.Do(new ne(pe,P)),_.close()}else X(bt,`RPC '${e}' stream ${i} received:`,U),k.vo(U)}}),F(c,Qp.STAT_EVENT,D=>{D.stat===vc.PROXY?X(bt,`RPC '${e}' stream ${i} detected buffering proxy`):D.stat===vc.NOPROXY&&X(bt,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{k.bo()},0),k}}function Zl(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ml(n){return new AT(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Am{constructor(e,t,r=1e3,i=1.5,s=6e4){this.li=e,this.timerId=t,this.Qo=r,this.Ko=i,this.$o=s,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),r=Math.max(0,Date.now()-this.Go),i=Math.max(0,t-r);i>0&&X("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Uo} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,i,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pI{constructor(e,t,r,i,s,l,c,h){this.li=e,this.Yo=r,this.Zo=i,this.connection=s,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=h,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new Am(e,t)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():t&&t.code===z.RESOURCE_EXHAUSTED?(vi(t.toString()),vi("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Xo===t&&this.I_(r,i)},r=>{e(()=>{const i=new ne(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.E_(i)})})}I_(e,t){const r=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro(()=>{r(()=>this.listener.Ro())}),this.stream.mo(()=>{r(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(i=>{r(()=>this.E_(i))}),this.stream.onMessage(i=>{r(()=>++this.n_==1?this.A_(i):this.onNext(i))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return X("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget(()=>this.Xo===e?t():(X("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class mI extends pI{constructor(e,t,r,i,s,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,l),this.serializer=s}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,t){return this.connection.qo("Write",e,t)}A_(e){return He(!!e.streamToken),this.lastStreamToken=e.streamToken,He(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){He(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const t=OT(e.writeResults,e.commitTime),r=Xi(e.commitTime);return this.listener.y_(r,t)}w_(){const e={};e.database=NT(this.serializer),this.c_(e)}g_(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>xT(this.serializer,r))};this.c_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gI extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.S_=!1}b_(){if(this.S_)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,l])=>this.connection.Oo(e,Ac(t,r),i,s,l)).catch(s=>{throw s.name==="FirebaseError"?(s.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new ne(z.UNKNOWN,s.toString())})}ko(e,t,r,i,s){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.ko(e,Ac(t,r),i,l,c,s)).catch(l=>{throw l.name==="FirebaseError"?(l.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ne(z.UNKNOWN,l.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class _I{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(vi(t),this.C_=!1):X("OnlineStateTracker",t)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{constructor(e,t,r,i,s){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=s,this.Q_.uo(l=>{r.enqueueAndForget(async()=>{Ro(this)&&(X("RemoteStore","Restarting streams for network reachability change."),await async function(h){const f=De(h);f.k_.add(4),await Co(f),f.K_.set("Unknown"),f.k_.delete(4),await gl(f)}(this))})}),this.K_=new _I(r,i)}}async function gl(n){if(Ro(n))for(const e of n.q_)await e(!0)}async function Co(n){for(const e of n.q_)await e(!1)}function Ro(n){return De(n).k_.size===0}async function Sm(n,e,t){if(!Ao(e))throw e;n.k_.add(1),await Co(n),n.K_.set("Offline"),t||(t=()=>aI(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{X("RemoteStore","Retrying IndexedDB access"),await t(),n.k_.delete(1),await gl(n)})}function Cm(n,e){return e().catch(t=>Sm(n,t,e))}async function _l(n){const e=De(n),t=Mr(e);let r=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;vI(e);)try{const i=await lI(e.localStore,r);if(i===null){e.L_.length===0&&t.a_();break}r=i.batchId,bI(e,i)}catch(i){await Sm(e,i)}Rm(e)&&Pm(e)}function vI(n){return Ro(n)&&n.L_.length<10}function bI(n,e){n.L_.push(e);const t=Mr(n);t.s_()&&t.f_&&t.g_(e.mutations)}function Rm(n){return Ro(n)&&!Mr(n).i_()&&n.L_.length>0}function Pm(n){Mr(n).start()}async function wI(n){Mr(n).w_()}async function EI(n){const e=Mr(n);for(const t of n.L_)e.g_(t.mutations)}async function TI(n,e,t){const r=n.L_.shift(),i=Au.from(r,e,t);await Cm(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),await _l(n)}async function II(n,e){e&&Mr(n).f_&&await async function(r,i){if(function(l){return TT(l)&&l!==z.ABORTED}(i.code)){const s=r.L_.shift();Mr(r).__(),await Cm(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),await _l(r)}}(n,e),Rm(n)&&Pm(n)}async function Wd(n,e){const t=De(n);t.asyncQueue.verifyOperationInProgress(),X("RemoteStore","RemoteStore received new credentials");const r=Ro(t);t.k_.add(3),await Co(t),r&&t.K_.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.k_.delete(3),await gl(t)}async function AI(n,e){const t=De(n);e?(t.k_.delete(2),await gl(t)):e||(t.k_.add(2),await Co(t),t.K_.set("Unknown"))}function Mr(n){return n.G_||(n.G_=function(t,r,i){const s=De(t);return s.b_(),new mI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(n.datastore,n.asyncQueue,{Ro:()=>Promise.resolve(),mo:wI.bind(null,n),po:II.bind(null,n),p_:EI.bind(null,n),y_:TI.bind(null,n)}),n.q_.push(async e=>{e?(n.G_.__(),await _l(n)):(await n.G_.stop(),n.L_.length>0&&(X("RemoteStore",`Stopping write stream with ${n.L_.length} pending writes`),n.L_=[]))})),n.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pu{constructor(e,t,r,i,s){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new fi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,s){const l=Date.now()+r,c=new Pu(e,t,l,i,s);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ne(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Nm(n,e){if(vi("AsyncQueue",`${e}: ${n}`),Ao(n))return new ne(z.UNAVAILABLE,`${e}: ${n}`);throw n}class SI{constructor(){this.queries=Gd(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(t,r){const i=De(t),s=i.queries;i.queries=Gd(),s.forEach((l,c)=>{for(const h of c.J_)h.onError(r)})})(this,new ne(z.ABORTED,"Firestore shutting down"))}}function Gd(){return new Ii(n=>cm(n),lm)}function CI(n){n.X_.forEach(e=>{e.next()})}var Kd,Qd;(Qd=Kd||(Kd={})).na="default",Qd.Cache="cache";class RI{constructor(e,t,r,i,s,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=l,this.Ma={},this.xa=new Ii(c=>cm(c),lm),this.Oa=new Map,this.Na=new Set,this.La=new Lt(ce.comparator),this.Ba=new Map,this.ka=new Su,this.qa={},this.Qa=new Map,this.Ka=ss.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function PI(n,e,t){const r=OI(n);try{const i=await function(l,c){const h=De(l),f=ct.now(),E=c.reduce((C,k)=>C.add(k.key),Et());let _,I;return h.persistence.runTransaction("Locally write mutations","readwrite",C=>{let k=Qa(),F=Et();return h.hs.getEntries(C,E).next(D=>{k=D,k.forEach((L,U)=>{U.isValidDocument()||(F=F.add(L))})}).next(()=>h.localDocuments.getOverlayedDocuments(C,k)).next(D=>{_=D;const L=[];for(const U of c){const G=vT(U,_.get(U.key).overlayedDocument);G!=null&&L.push(new Ai(U.key,G,tm(G.value.mapValue),or.exists(!0)))}return h.mutationQueue.addMutationBatch(C,f,L,c)}).next(D=>{I=D;const L=D.applyToLocalDocumentSet(_,F);return h.documentOverlayCache.saveOverlays(C,D.batchId,L)})}).then(()=>({batchId:I.batchId,changes:hm(_)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(l,c,h){let f=l.qa[l.currentUser.toKey()];f||(f=new Lt(Se)),f=f.insert(c,h),l.qa[l.currentUser.toKey()]=f}(r,i.batchId,t),await yl(r,i.changes),await _l(r.remoteStore)}catch(i){const s=Nm(i,"Failed to persist write");t.reject(s)}}function Jd(n,e,t){const r=De(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const i=[];r.xa.forEach((s,l)=>{const c=l.view.ea(e);c.snapshot&&i.push(c.snapshot)}),function(l,c){const h=De(l);h.onlineState=c;let f=!1;h.queries.forEach((E,_)=>{for(const I of _.J_)I.ea(c)&&(f=!0)}),f&&CI(h)}(r.eventManager,e),i.length&&r.Ma.R_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function NI(n,e){const t=De(n),r=e.batch.batchId;try{const i=await oI(t.localStore,e);xm(t,r,null),km(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await yl(t,i)}catch(i){await mu(i)}}async function kI(n,e,t){const r=De(n);try{const i=await function(l,c){const h=De(l);return h.persistence.runTransaction("Reject batch","readwrite-primary",f=>{let E;return h.mutationQueue.lookupMutationBatch(f,c).next(_=>(He(_!==null),E=_.keys(),h.mutationQueue.removeMutationBatch(f,_))).next(()=>h.mutationQueue.performConsistencyCheck(f)).next(()=>h.documentOverlayCache.removeOverlaysForBatchId(f,E,c)).next(()=>h.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(f,E)).next(()=>h.localDocuments.getDocuments(f,E))})}(r.localStore,e);xm(r,e,t),km(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await yl(r,i)}catch(i){await mu(i)}}function km(n,e){(n.Qa.get(e)||[]).forEach(t=>{t.resolve()}),n.Qa.delete(e)}function xm(n,e,t){const r=De(n);let i=r.qa[r.currentUser.toKey()];if(i){const s=i.get(e);s&&(t?s.reject(t):s.resolve(),i=i.remove(e)),r.qa[r.currentUser.toKey()]=i}}async function yl(n,e,t){const r=De(n),i=[],s=[],l=[];r.xa.isEmpty()||(r.xa.forEach((c,h)=>{l.push(r.Ua(h,e,t).then(f=>{var E;if((f||t)&&r.isPrimaryClient){const _=f?!f.fromCache:(E=void 0)===null||E===void 0?void 0:E.current;r.sharedClientState.updateQueryState(h.targetId,_?"current":"not-current")}if(f){i.push(f);const _=Ru.zi(h.targetId,f);s.push(_)}}))}),await Promise.all(l),r.Ma.R_(i),await async function(h,f){const E=De(h);try{await E.persistence.runTransaction("notifyLocalViewChanges","readwrite",_=>B.forEach(f,I=>B.forEach(I.Wi,C=>E.persistence.referenceDelegate.addReference(_,I.targetId,C)).next(()=>B.forEach(I.Gi,C=>E.persistence.referenceDelegate.removeReference(_,I.targetId,C)))))}catch(_){if(!Ao(_))throw _;X("LocalStore","Failed to update sequence numbers: "+_)}for(const _ of f){const I=_.targetId;if(!_.fromCache){const C=E.us.get(I),k=C.snapshotVersion,F=C.withLastLimboFreeSnapshotVersion(k);E.us=E.us.insert(I,F)}}}(r.localStore,s))}async function xI(n,e){const t=De(n);if(!t.currentUser.isEqual(e)){X("SyncEngine","User change. New user:",e.toKey());const r=await Im(t.localStore,e);t.currentUser=e,function(s,l){s.Qa.forEach(c=>{c.forEach(h=>{h.reject(new ne(z.CANCELLED,l))})}),s.Qa.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await yl(t,r.Ts)}}function OI(n){const e=De(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=NI.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=kI.bind(null,e),e}class Za{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ml(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return sI(this.persistence,new rI,e.initialUser,this.serializer)}ja(e){return new Tm(Cu.ei,this.serializer)}za(e){return new cI}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Za.provider={build:()=>new Za};class DI extends Za{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){He(this.persistence.referenceDelegate instanceof Ya);const r=this.persistence.referenceDelegate.garbageCollector;return new BT(r,e.asyncQueue,t)}ja(e){const t=this.cacheSizeBytes!==void 0?Dt.withCacheSize(this.cacheSizeBytes):Dt.DEFAULT;return new Tm(r=>Ya.ei(r,t),this.serializer)}}class Cc{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>Jd(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=xI.bind(null,this.syncEngine),await AI(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new SI}()}createDatastore(e){const t=ml(e.databaseInfo.databaseId),r=function(s){return new fI(s)}(e.databaseInfo);return function(s,l,c,h){return new gI(s,l,c,h)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,i,s,l,c){return new yI(r,i,s,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>Jd(this.syncEngine,t,0),function(){return qd.p()?new qd:new uI}())}createSyncEngine(e,t){return function(i,s,l,c,h,f,E){const _=new RI(i,s,l,c,h,f);return E&&(_.$a=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(i){const s=De(i);X("RemoteStore","RemoteStore shutting down."),s.k_.add(5),await Co(s),s.Q_.shutdown(),s.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Cc.provider={build:()=>new Cc};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LI{constructor(e,t,r,i,s){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=wt.UNAUTHENTICATED,this.clientId=Zp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,async l=>{X("FirestoreClient","Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(X("FirestoreClient","Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new fi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=Nm(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ec(n,e){n.asyncQueue.verifyOperationInProgress(),X("FirestoreClient","Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async i=>{r.isEqual(i)||(await Im(e.localStore,i),r=i)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function Xd(n,e){n.asyncQueue.verifyOperationInProgress();const t=await VI(n);X("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>Wd(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>Wd(e.remoteStore,i)),n._onlineComponents=e}async function VI(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){X("FirestoreClient","Using user provided OfflineComponentProvider");try{await ec(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(i){return i.name==="FirebaseError"?i.code===z.FAILED_PRECONDITION||i.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;za("Error using user provided cache. Falling back to memory cache: "+t),await ec(n,new Za)}}else X("FirestoreClient","Using default OfflineComponentProvider"),await ec(n,new DI(void 0));return n._offlineComponents}async function MI(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(X("FirestoreClient","Using user provided OnlineComponentProvider"),await Xd(n,n._uninitializedComponentsProvider._online)):(X("FirestoreClient","Using default OnlineComponentProvider"),await Xd(n,new Cc))),n._onlineComponents}function FI(n){return MI(n).then(e=>e.syncEngine)}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Om(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yd=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UI(n,e,t){if(!t)throw new ne(z.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function $I(n,e,t,r){if(e===!0&&r===!0)throw new ne(z.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function Zd(n){if(!ce.isDocumentKey(n))throw new ne(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function Nu(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":de()}function Rc(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ne(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Nu(n);throw new ne(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ne(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new ne(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}$I("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Om((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new ne(z.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class ku{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new ef({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ne(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ne(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new ef(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new TE;switch(r.type){case"firstParty":return new CE(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ne(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=Yd.get(t);r&&(X("ComponentProvider","Removing Datastore"),Yd.delete(t),r.terminate())}(this),Promise.resolve()}}function jI(n,e,t,r={}){var i;const s=(n=Rc(n,ku))._getSettings(),l=`${e}:${t}`;if(s.host!=="firestore.googleapis.com"&&s.host!==l&&za("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},s),{host:l,ssl:!1})),r.mockUserToken){let c,h;if(typeof r.mockUserToken=="string")c=r.mockUserToken,h=wt.MOCK_USER;else{c=Vv(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);const f=r.mockUserToken.sub||r.mockUserToken.user_id;if(!f)throw new ne(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");h=new wt(f)}n._authCredentials=new IE(new Yp(c,h))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xu{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new xu(this.firestore,e,this._query)}}class ar{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new fo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new ar(this.firestore,e,this._key)}}class fo extends xu{constructor(e,t,r){super(e,t,rT(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new ar(this.firestore,null,new ce(e))}withConverter(e){return new fo(this.firestore,e,this._path)}}function BI(n,e,...t){if(n=$t(n),arguments.length===1&&(e=Zp.newId()),UI("doc","path",e),n instanceof ku){const r=Ye.fromString(e,...t);return Zd(r),new ar(n,null,new ce(r))}{if(!(n instanceof ar||n instanceof fo))throw new ne(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(Ye.fromString(e,...t));return Zd(r),new ar(n.firestore,n instanceof fo?n.converter:null,new ce(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tf{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new Am(this,"async_queue_retry"),this.fu=()=>{const r=Zl();r&&X("AsyncQueue","Visibility state changed to "+r.visibilityState),this.r_.Jo()},this.gu=e;const t=Zl();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=Zl();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const t=new fi;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!Ao(e))throw e;X("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const t=this.gu.then(()=>(this.Ru=!0,e().catch(r=>{this.Au=r,this.Ru=!1;const i=function(l){let c=l.message||"";return l.stack&&(c=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),c}(r);throw vi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.Ru=!1,r))));return this.gu=t,t}enqueueAfterDelay(e,t,r){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const i=Pu.createAndSchedule(this,e,t,r,s=>this.Su(s));return this.du.push(i),i}pu(){this.Au&&de()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.du)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Dm extends ku{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new tf,this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new tf(e),this._firestoreClient=void 0,await e}}}function Lm(n,e){const t=typeof n=="object"?n:cp(),r=typeof n=="string"?n:"(default)",i=nu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){const s=Dv("firestore");s&&jI(i,...s)}return i}function zI(n){if(n._terminated)throw new ne(z.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||HI(n),n._firestoreClient}function HI(n){var e,t,r;const i=n._freezeSettings(),s=function(c,h,f,E){return new zE(c,h,f,E.host,E.ssl,E.experimentalForceLongPolling,E.experimentalAutoDetectLongPolling,Om(E.experimentalLongPollingOptions),E.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new LI(n._authCredentials,n._appCheckCredentials,n._queue,s,n._componentsProvider&&function(c){const h=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(h),_online:h}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class po{constructor(e){this._byteString=e}static fromBase64String(e){try{return new po(Ln.fromBase64String(e))}catch(t){throw new ne(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new po(Ln.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vm{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ne(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mm{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fm{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ne(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ne(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qI=/^__.*__$/;class WI{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new Ai(e,this.data,this.fieldMask,t,this.fieldTransforms):new So(e,this.data,t,this.fieldTransforms)}}function $m(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de()}}class Ou{constructor(e,t,r,i,s,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.Fu(),this.fieldTransforms=s||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Ou(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Lu(e),i}Bu(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.xu({path:r,Nu:!1});return i.Fu(),i}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return el(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if($m(this.Mu)&&qI.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class GI{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||ml(e)}$u(e,t,r,i=!1){return new Ou({Mu:e,methodName:t,Ku:r,path:pt.emptyPath(),Nu:!1,Qu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function KI(n){const e=n._freezeSettings(),t=ml(n._databaseId);return new GI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function QI(n,e,t,r,i,s={}){const l=n.$u(s.merge||s.mergeFields?2:0,e,t,i);Hm("Data must be an object, but it was:",l,r);const c=Bm(r,l);let h,f;if(s.merge)h=new _n(l.fieldMask),f=l.fieldTransforms;else if(s.mergeFields){const E=[];for(const _ of s.mergeFields){const I=JI(e,_,t);if(!l.contains(I))throw new ne(z.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);ZI(E,I)||E.push(I)}h=new _n(E),f=l.fieldTransforms.filter(_=>h.covers(_.field))}else h=null,f=l.fieldTransforms;return new WI(new mn(c),h,f)}function jm(n,e){if(zm(n=$t(n)))return Hm("Unsupported field value:",e,n),Bm(n,e);if(n instanceof Mm)return function(r,i){if(!$m(i.Mu))throw i.qu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.qu(`${r._methodName}() is not currently supported inside arrays`);const s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(r,i){const s=[];let l=0;for(const c of r){let h=jm(c,i.ku(l));h==null&&(h={nullValue:"NULL_VALUE"}),s.push(h),l++}return{arrayValue:{values:s}}}(n,e)}return function(r,i){if((r=$t(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return fT(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const s=ct.fromDate(r);return{timestampValue:Ic(i.serializer,s)}}if(r instanceof ct){const s=new ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ic(i.serializer,s)}}if(r instanceof Fm)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof po)return{bytesValue:ST(i.serializer,r._byteString)};if(r instanceof ar){const s=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(s))throw i.qu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:wm(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Um)return function(l,c){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.qu("VectorValues must only contain numeric values.");return Iu(c.serializer,h)})}}}}}}(r,i);throw i.qu(`Unsupported field value: ${Nu(r)}`)}(n,e)}function Bm(n,e){const t={};return em(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):fs(n,(r,i)=>{const s=jm(i,e.Ou(r));s!=null&&(t[r]=s)}),{mapValue:{fields:t}}}function zm(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof ct||n instanceof Fm||n instanceof po||n instanceof ar||n instanceof Mm||n instanceof Um)}function Hm(n,e,t){if(!zm(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){const r=Nu(t);throw r==="an object"?e.qu(n+" a custom object"):e.qu(n+" "+r)}}function JI(n,e,t){if((e=$t(e))instanceof Vm)return e._internalPath;if(typeof e=="string")return YI(n,e);throw el("Field path arguments must be of type string or ",n,!1,void 0,t)}const XI=new RegExp("[~\\*/\\[\\]]");function YI(n,e,t){if(e.search(XI)>=0)throw el(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new Vm(...e.split("."))._internalPath}catch{throw el(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function el(n,e,t,r,i){const s=r&&!r.isEmpty(),l=i!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let h="";return(s||l)&&(h+=" (found",s&&(h+=` in field ${r}`),l&&(h+=` in document ${i}`),h+=")"),new ne(z.INVALID_ARGUMENT,c+n+h)}function ZI(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function e1(n,e,t){let r;return r=n?n.toFirestore(e):e,r}function t1(n,e,t){n=Rc(n,ar);const r=Rc(n.firestore,Dm),i=e1(n.converter,e);return n1(r,[QI(KI(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,or.none())])}function n1(n,e){return function(r,i){const s=new fi;return r.asyncQueue.enqueueAndForget(async()=>PI(await FI(r),i,s)),s.promise}(zI(n),e)}(function(e,t=!0){(function(i){ds=i})(us),es(new mi("firestore",(r,{instanceIdentifier:i,options:s})=>{const l=r.getProvider("app").getImmediate(),c=new Dm(new AE(r.getProvider("auth-internal")),new PE(r.getProvider("app-check-internal")),function(f,E){if(!Object.prototype.hasOwnProperty.apply(f.options,["projectId"]))throw new ne(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Wa(f.options.projectId,E)}(l,i),l);return s=Object.assign({useFetchStreams:t},s),c._setSettings(s),c},"PUBLIC").setMultipleInstances(!0)),Or(Cd,"4.7.5",e),Or(Cd,"4.7.5","esm2017")})();const r1={apiKey:"AIzaSyBxUf9mPiUkJpu3K1mzKAOED774BEMNmq0",authDomain:"chess-auth-2cf46.firebaseapp.com",projectId:"chess-auth-2cf46",storageBucket:"chess-auth-2cf46.firebasestorage.app",messagingSenderId:"817378545641",appId:"1:817378545641:web:21a0d7910fc766ea904578"},Du=lp(r1),ps=wE(Du),i1=Lm(Du);console.log("Firebase App Initialized:",Du);console.log("Auth Instance:",ps);console.log("Firestore Instance:",i1);const s1=Lm(),o1=async(n,e)=>{try{const t=await s0(ps,n,e),r=t.user,i=BI(s1,"users",r.uid);return await t1(i,{uid:r.uid,email:r.email,createdAt:new Date}),t}catch(t){throw console.error("Error creating user:",t.code,t.message),t}},a1=async(n,e)=>{try{return await o0(ps,n,e)}catch(t){throw console.error("Error signing in:",t.code,t.message),t}},l1=async()=>{try{await u0(ps)}catch(n){throw console.error("Error signing out:",n.code,n.message),n}},c1=()=>{const[n,e]=be(!0),[t,r]=be(!1),i=ol();return m("section",{children:m("div",{id:"header",className:"text-light d-flex align-items-center justify-content-between position-fixed top-0 start-0 end-0",style:{backgroundColor:"#fff",padding:"2rem 9%",zIndex:1e3,borderBottom:"1px solid #999"},children:[m("h2",{className:"text-dark",style:{fontWeight:"bolder",fontSize:"3rem"},children:"LOGO"}),m("div",{id:"menu-bar",className:"text-dark d-md-none",style:{fontSize:"3rem",cursor:"pointer"},onClick:()=>{e(!n)},children:n?m(Sv,{}):m(yv,{})}),m("nav",{className:`${n?"d-block":"d-none"} d-md-flex align-items-center`,children:[m("ul",{className:"list-unstyled d-flex flex-column flex-md-row",style:{fontSize:"1.8rem"},children:[m("li",{className:"mx-3",children:m(en,{to:"/",className:"text-decoration-none text-dark",children:"Home"})}),m("li",{className:"mx-3",children:m(en,{to:"courses",className:" text-decoration-none text-dark",children:"Courses"})}),m("li",{className:"mx-3",children:m(en,{to:"events",className:" text-decoration-none text-dark",children:"Events"})}),m("li",{className:"mx-3",children:m(en,{to:"gallery",className:" text-decoration-none text-dark",children:"Gallery"})}),m("li",{className:"mx-3",children:m(en,{to:"about",className:" text-decoration-none text-dark",children:"About"})})]}),t&&m("button",{onClick:async()=>{try{await l1(),r(!1),i("/login")}catch(c){console.error("Logout failed:",c)}},className:"btn btn-danger fw-bold",style:{padding:".5rem 1rem",fontSize:"1.5rem"},children:"Logout"})]})]})})},u1="/assets/10124522-CF9vzMiJ.jpg";var qs={};const h1=Vf(x_);var tl=function(){return tl=Object.assign||function(n){for(var e,t=1,r=arguments.length;t<r;t++)for(var i in e=arguments[t])Object.prototype.hasOwnProperty.call(e,i)&&(n[i]=e[i]);return n},tl.apply(this,arguments)},d1=function(){function n(e,t,r){var i=this;this.endVal=t,this.options=r,this.version="2.8.0",this.defaults={startVal:0,decimalPlaces:0,duration:2,useEasing:!0,useGrouping:!0,useIndianSeparators:!1,smartEasingThreshold:999,smartEasingAmount:333,separator:",",decimal:".",prefix:"",suffix:"",enableScrollSpy:!1,scrollSpyDelay:200,scrollSpyOnce:!1},this.finalEndVal=null,this.useEasing=!0,this.countDown=!1,this.error="",this.startVal=0,this.paused=!0,this.once=!1,this.count=function(s){i.startTime||(i.startTime=s);var l=s-i.startTime;i.remaining=i.duration-l,i.useEasing?i.countDown?i.frameVal=i.startVal-i.easingFn(l,0,i.startVal-i.endVal,i.duration):i.frameVal=i.easingFn(l,i.startVal,i.endVal-i.startVal,i.duration):i.frameVal=i.startVal+(i.endVal-i.startVal)*(l/i.duration);var c=i.countDown?i.frameVal<i.endVal:i.frameVal>i.endVal;i.frameVal=c?i.endVal:i.frameVal,i.frameVal=Number(i.frameVal.toFixed(i.options.decimalPlaces)),i.printValue(i.frameVal),l<i.duration?i.rAF=requestAnimationFrame(i.count):i.finalEndVal!==null?i.update(i.finalEndVal):i.options.onCompleteCallback&&i.options.onCompleteCallback()},this.formatNumber=function(s){var l,c,h,f,E=s<0?"-":"";l=Math.abs(s).toFixed(i.options.decimalPlaces);var _=(l+="").split(".");if(c=_[0],h=_.length>1?i.options.decimal+_[1]:"",i.options.useGrouping){f="";for(var I=3,C=0,k=0,F=c.length;k<F;++k)i.options.useIndianSeparators&&k===4&&(I=2,C=1),k!==0&&C%I==0&&(f=i.options.separator+f),C++,f=c[F-k-1]+f;c=f}return i.options.numerals&&i.options.numerals.length&&(c=c.replace(/[0-9]/g,function(D){return i.options.numerals[+D]}),h=h.replace(/[0-9]/g,function(D){return i.options.numerals[+D]})),E+i.options.prefix+c+h+i.options.suffix},this.easeOutExpo=function(s,l,c,h){return c*(1-Math.pow(2,-10*s/h))*1024/1023+l},this.options=tl(tl({},this.defaults),r),this.formattingFn=this.options.formattingFn?this.options.formattingFn:this.formatNumber,this.easingFn=this.options.easingFn?this.options.easingFn:this.easeOutExpo,this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.endVal=this.validateValue(t),this.options.decimalPlaces=Math.max(this.options.decimalPlaces),this.resetDuration(),this.options.separator=String(this.options.separator),this.useEasing=this.options.useEasing,this.options.separator===""&&(this.options.useGrouping=!1),this.el=typeof e=="string"?document.getElementById(e):e,this.el?this.printValue(this.startVal):this.error="[CountUp] target is null or undefined",typeof window<"u"&&this.options.enableScrollSpy&&(this.error?console.error(this.error,e):(window.onScrollFns=window.onScrollFns||[],window.onScrollFns.push(function(){return i.handleScroll(i)}),window.onscroll=function(){window.onScrollFns.forEach(function(s){return s()})},this.handleScroll(this)))}return n.prototype.handleScroll=function(e){if(e&&window&&!e.once){var t=window.innerHeight+window.scrollY,r=e.el.getBoundingClientRect(),i=r.top+window.pageYOffset,s=r.top+r.height+window.pageYOffset;s<t&&s>window.scrollY&&e.paused?(e.paused=!1,setTimeout(function(){return e.start()},e.options.scrollSpyDelay),e.options.scrollSpyOnce&&(e.once=!0)):(window.scrollY>s||i>t)&&!e.paused&&e.reset()}},n.prototype.determineDirectionAndSmartEasing=function(){var e=this.finalEndVal?this.finalEndVal:this.endVal;this.countDown=this.startVal>e;var t=e-this.startVal;if(Math.abs(t)>this.options.smartEasingThreshold&&this.options.useEasing){this.finalEndVal=e;var r=this.countDown?1:-1;this.endVal=e+r*this.options.smartEasingAmount,this.duration=this.duration/2}else this.endVal=e,this.finalEndVal=null;this.finalEndVal!==null?this.useEasing=!1:this.useEasing=this.options.useEasing},n.prototype.start=function(e){this.error||(this.options.onStartCallback&&this.options.onStartCallback(),e&&(this.options.onCompleteCallback=e),this.duration>0?(this.determineDirectionAndSmartEasing(),this.paused=!1,this.rAF=requestAnimationFrame(this.count)):this.printValue(this.endVal))},n.prototype.pauseResume=function(){this.paused?(this.startTime=null,this.duration=this.remaining,this.startVal=this.frameVal,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count)):cancelAnimationFrame(this.rAF),this.paused=!this.paused},n.prototype.reset=function(){cancelAnimationFrame(this.rAF),this.paused=!0,this.resetDuration(),this.startVal=this.validateValue(this.options.startVal),this.frameVal=this.startVal,this.printValue(this.startVal)},n.prototype.update=function(e){cancelAnimationFrame(this.rAF),this.startTime=null,this.endVal=this.validateValue(e),this.endVal!==this.frameVal&&(this.startVal=this.frameVal,this.finalEndVal==null&&this.resetDuration(),this.finalEndVal=null,this.determineDirectionAndSmartEasing(),this.rAF=requestAnimationFrame(this.count))},n.prototype.printValue=function(e){var t;if(this.el){var r=this.formattingFn(e);!((t=this.options.plugin)===null||t===void 0)&&t.render?this.options.plugin.render(this.el,r):this.el.tagName==="INPUT"?this.el.value=r:this.el.tagName==="text"||this.el.tagName==="tspan"?this.el.textContent=r:this.el.innerHTML=r}},n.prototype.ensureNumber=function(e){return typeof e=="number"&&!isNaN(e)},n.prototype.validateValue=function(e){var t=Number(e);return this.ensureNumber(t)?t:(this.error="[CountUp] invalid start or end value: ".concat(e),null)},n.prototype.resetDuration=function(){this.startTime=null,this.duration=1e3*Number(this.options.duration),this.remaining=this.duration},n}();const f1=Object.freeze(Object.defineProperty({__proto__:null,CountUp:d1},Symbol.toStringTag,{value:"Module"})),p1=Vf(f1);var nf;function m1(){if(nf)return qs;nf=1,Object.defineProperty(qs,"__esModule",{value:!0});var n=h1,e=p1;function t(w,v){var T=w==null?null:typeof Symbol<"u"&&w[Symbol.iterator]||w["@@iterator"];if(T!=null){var A,R,S,Fe,qe=[],Ze=!0,Ue=!1;try{if(S=(T=T.call(w)).next,v!==0)for(;!(Ze=(A=S.call(T)).done)&&(qe.push(A.value),qe.length!==v);Ze=!0);}catch(We){Ue=!0,R=We}finally{try{if(!Ze&&T.return!=null&&(Fe=T.return(),Object(Fe)!==Fe))return}finally{if(Ue)throw R}}return qe}}function r(w,v){var T=Object.keys(w);if(Object.getOwnPropertySymbols){var A=Object.getOwnPropertySymbols(w);v&&(A=A.filter(function(R){return Object.getOwnPropertyDescriptor(w,R).enumerable})),T.push.apply(T,A)}return T}function i(w){for(var v=1;v<arguments.length;v++){var T=arguments[v]!=null?arguments[v]:{};v%2?r(Object(T),!0).forEach(function(A){c(w,A,T[A])}):Object.getOwnPropertyDescriptors?Object.defineProperties(w,Object.getOwnPropertyDescriptors(T)):r(Object(T)).forEach(function(A){Object.defineProperty(w,A,Object.getOwnPropertyDescriptor(T,A))})}return w}function s(w,v){if(typeof w!="object"||!w)return w;var T=w[Symbol.toPrimitive];if(T!==void 0){var A=T.call(w,v||"default");if(typeof A!="object")return A;throw new TypeError("@@toPrimitive must return a primitive value.")}return(v==="string"?String:Number)(w)}function l(w){var v=s(w,"string");return typeof v=="symbol"?v:String(v)}function c(w,v,T){return v=l(v),v in w?Object.defineProperty(w,v,{value:T,enumerable:!0,configurable:!0,writable:!0}):w[v]=T,w}function h(){return h=Object.assign?Object.assign.bind():function(w){for(var v=1;v<arguments.length;v++){var T=arguments[v];for(var A in T)Object.prototype.hasOwnProperty.call(T,A)&&(w[A]=T[A])}return w},h.apply(this,arguments)}function f(w,v){if(w==null)return{};var T={},A=Object.keys(w),R,S;for(S=0;S<A.length;S++)R=A[S],!(v.indexOf(R)>=0)&&(T[R]=w[R]);return T}function E(w,v){if(w==null)return{};var T=f(w,v),A,R;if(Object.getOwnPropertySymbols){var S=Object.getOwnPropertySymbols(w);for(R=0;R<S.length;R++)A=S[R],!(v.indexOf(A)>=0)&&Object.prototype.propertyIsEnumerable.call(w,A)&&(T[A]=w[A])}return T}function _(w,v){return I(w)||t(w,v)||C(w,v)||F()}function I(w){if(Array.isArray(w))return w}function C(w,v){if(w){if(typeof w=="string")return k(w,v);var T=Object.prototype.toString.call(w).slice(8,-1);if(T==="Object"&&w.constructor&&(T=w.constructor.name),T==="Map"||T==="Set")return Array.from(w);if(T==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(T))return k(w,v)}}function k(w,v){(v==null||v>w.length)&&(v=w.length);for(var T=0,A=new Array(v);T<v;T++)A[T]=w[T];return A}function F(){throw new TypeError(`Invalid attempt to destructure non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var D=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u"?n.useLayoutEffect:n.useEffect;function L(w){var v=n.useRef(w);return D(function(){v.current=w}),n.useCallback(function(){for(var T=arguments.length,A=new Array(T),R=0;R<T;R++)A[R]=arguments[R];return v.current.apply(void 0,A)},[])}var U=function(v,T){var A=T.decimal,R=T.decimals,S=T.duration,Fe=T.easingFn,qe=T.end,Ze=T.formattingFn,Ue=T.numerals,We=T.prefix,It=T.separator,$=T.start,Bt=T.suffix,rt=T.useEasing,Ee=T.useGrouping,je=T.useIndianSeparators,it=T.enableScrollSpy,Le=T.scrollSpyDelay,At=T.scrollSpyOnce,Q=T.plugin;return new e.CountUp(v,qe,{startVal:$,duration:S,decimal:A,decimalPlaces:R,easingFn:Fe,formattingFn:Ze,numerals:Ue,separator:It,prefix:We,suffix:Bt,plugin:Q,useEasing:rt,useIndianSeparators:je,useGrouping:Ee,enableScrollSpy:it,scrollSpyDelay:Le,scrollSpyOnce:At})},G=["ref","startOnMount","enableReinitialize","delay","onEnd","onStart","onPauseResume","onReset","onUpdate"],Y={decimal:".",separator:",",delay:null,prefix:"",suffix:"",duration:2,start:0,decimals:0,startOnMount:!0,enableReinitialize:!0,useEasing:!0,useGrouping:!0,useIndianSeparators:!1},fe=function(v){var T=Object.fromEntries(Object.entries(v).filter(function(Qe){var Ht=_(Qe,2),Pt=Ht[1];return Pt!==void 0})),A=n.useMemo(function(){return i(i({},Y),T)},[v]),R=A.ref,S=A.startOnMount,Fe=A.enableReinitialize,qe=A.delay,Ze=A.onEnd,Ue=A.onStart,We=A.onPauseResume,It=A.onReset,$=A.onUpdate,Bt=E(A,G),rt=n.useRef(),Ee=n.useRef(),je=n.useRef(!1),it=L(function(){return U(typeof R=="string"?R:R.current,Bt)}),Le=L(function(Qe){var Ht=rt.current;if(Ht&&!Qe)return Ht;var Pt=it();return rt.current=Pt,Pt}),At=L(function(){var Qe=function(){return Le(!0).start(function(){Ze==null||Ze({pauseResume:Q,reset:gt,start:zt,update:Vt})})};qe&&qe>0?Ee.current=setTimeout(Qe,qe*1e3):Qe(),Ue==null||Ue({pauseResume:Q,reset:gt,update:Vt})}),Q=L(function(){Le().pauseResume(),We==null||We({reset:gt,start:zt,update:Vt})}),gt=L(function(){Le().el&&(Ee.current&&clearTimeout(Ee.current),Le().reset(),It==null||It({pauseResume:Q,start:zt,update:Vt}))}),Vt=L(function(Qe){Le().update(Qe),$==null||$({pauseResume:Q,reset:gt,start:zt})}),zt=L(function(){gt(),At()}),Fn=L(function(Qe){S&&(Qe&&gt(),At())});return n.useEffect(function(){je.current?Fe&&Fn(!0):(je.current=!0,Fn())},[Fe,je,Fn,qe,v.start,v.suffix,v.prefix,v.duration,v.separator,v.decimals,v.decimal,v.formattingFn]),n.useEffect(function(){return function(){gt()}},[gt]),{start:zt,pauseResume:Q,reset:gt,update:Vt,getCountUp:Le}},pe=["className","redraw","containerProps","children","style"],P=function(v){var T=v.className,A=v.redraw,R=v.containerProps,S=v.children,Fe=v.style,qe=E(v,pe),Ze=n.useRef(null),Ue=n.useRef(!1),We=fe(i(i({},qe),{},{ref:Ze,startOnMount:typeof S!="function"||v.delay===0,enableReinitialize:!1})),It=We.start,$=We.reset,Bt=We.update,rt=We.pauseResume,Ee=We.getCountUp,je=L(function(){It()}),it=L(function(Q){v.preserveValue||$(),Bt(Q)}),Le=L(function(){if(typeof v.children=="function"&&!(Ze.current instanceof Element)){console.error(`Couldn't find attached element to hook the CountUp instance into! Try to attach "containerRef" from the render prop to a an Element, eg. <span ref={containerRef} />.`);return}Ee()});n.useEffect(function(){Le()},[Le]),n.useEffect(function(){Ue.current&&it(v.end)},[v.end,it]);var At=A&&v;return n.useEffect(function(){A&&Ue.current&&je()},[je,A,At]),n.useEffect(function(){!A&&Ue.current&&je()},[je,A,v.start,v.suffix,v.prefix,v.duration,v.separator,v.decimals,v.decimal,v.className,v.formattingFn]),n.useEffect(function(){Ue.current=!0},[]),typeof S=="function"?S({countUpRef:Ze,start:It,reset:$,update:Bt,pauseResume:rt,getCountUp:Ee}):n.createElement("span",h({className:T,ref:Ze,style:Fe},R),typeof v.start<"u"?Ee().formattingFn(v.start):"")};return qs.default=P,qs.useCountUp=fe,qs}var g1=m1();const _a=L_(g1),_1=()=>{const[n,e]=be(!1);return Dn(()=>{const t=new IntersectionObserver(i=>{i.forEach(s=>{s.isIntersecting&&e(!0)})},{threshold:.5}),r=document.getElementById("progress-section");return r&&t.observe(r),()=>{r&&t.unobserve(r)}},[]),m("section",{id:"progress-section",className:"container px-5 my-5 d-flex flex-column justify-content-center",style:{backgroundColor:"#f0f8ff",paddingBottom:"5rem"},children:m("div",{className:"row g-5 justify-content-evenly",children:[m("div",{className:"col-6 col-sm-6 col-lg-3 text-center fade-in progress-card",style:{animationDelay:"0s"},children:m("div",{className:"p-4 rounded-3 shadow-lg progress-box card-hover",style:{background:"linear-gradient(135deg, #4e73df, #2a5298)",border:"1px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"},children:[m(Zf,{size:60,color:"#fff"}),m("h1",{className:"text-white fw-bolder display-2",children:[n?m(_a,{start:0,end:80,duration:2}):"0","+"]}),m("h3",{className:"text-white",children:"Clients"})]})}),m("div",{className:"col-6 col-sm-6 col-lg-3 text-center fade-in progress-card",style:{animationDelay:"0.2s"},children:m("div",{className:"p-4 rounded-3 shadow-lg progress-box card-hover",style:{background:"linear-gradient(135deg, #ff6f61, #e04f3f)",border:"1px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"},children:[m(pv,{size:60,color:"#fff"}),m("h1",{className:"text-white fw-bolder display-2",children:[n?m(_a,{start:0,end:8,duration:2}):"0","+"]}),m("h3",{className:"text-white",children:"Countries"})]})}),m("div",{className:"col-6 col-sm-6 col-lg-3 text-center fade-in progress-card",style:{animationDelay:"0.4s"},children:m("div",{className:"p-4 rounded-3 shadow-lg progress-box card-hover",style:{background:"linear-gradient(135deg, #1cc88a, #17a46d)",border:"1px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"},children:[m(mv,{size:60,color:"#fff"}),m("h1",{className:"text-white fw-bolder display-2",children:[n?m(_a,{start:0,end:500,duration:2}):"0","+"]}),m("h3",{className:"text-white",children:"Students Enrolled"})]})}),m("div",{className:"col-6 col-sm-6 col-lg-3 text-center fade-in progress-card",style:{animationDelay:"0.6s"},children:m("div",{className:"p-4 rounded-3 shadow-lg progress-box card-hover",style:{background:"linear-gradient(135deg, #f39c12, #f1a60e)",border:"1px solid #ccc",boxShadow:"0 4px 10px rgba(0, 0, 0, 0.1)"},children:[m(fv,{size:60,color:"#fff"}),m("h1",{className:"text-white fw-bolder display-2",children:[n?m(_a,{start:0,end:25,duration:2}):"0","+"]}),m("h3",{className:"text-white",children:"Chess Coaches"})]})})]})})},y1="/assets/6592321-C1vRuhdE.jpg",v1=()=>{const[n,e]=be(!1),[t,r]=be({name:"",contactNo:"",mode:"",level:"",location:""}),i=h=>{const{name:f,value:E}=h.target;r(_=>({..._,[f]:E}))},s=()=>e(!0),l=()=>e(!1);return m("section",{style:{width:"100%",height:"auto",backgroundColor:"#fff",zIndex:1,padding:"4% 9%"},children:[m("div",{className:"row align-items-center p-5 rounded-5",children:[m("div",{className:"col-md-6 d-flex flex-column align-items-center pe-5",children:[m("h1",{className:"fw-bold display-3 text-center",children:"Courses"}),m("p",{style:{fontSize:"1.5rem"},children:"Book a free demo to get know about our Darklight coaching and to asses levels in chess, whether your a beginner, intermediate or advanced player in chess, our coaches has plans to teach you, Ready for a adventure of Chess ? Join our free demo, To Explore the world of chess."}),m("img",{src:y1,alt:"About Us",className:"img-fluid rounded-5",style:{maxWidth:"70%",height:"auto",borderRadius:"5px"}})]}),m("div",{className:"col-md-6 d-flex flex-column align-items-center",children:[m("h1",{className:"text-dark fw-bolder display-4 mb-4",children:"Online Classes"}),m("div",{className:"row text-center",children:[m("div",{className:"col-12 col-sm-6 col-lg-6 mb-4",children:m("div",{className:"p-4 rounded-5 card-hover",style:{background:"rgb(224, 17, 95,0.1)"},children:[m(_v,{size:30,color:"#000"}),m("h1",{className:"text-dark fw-bolder",children:"Individual Class"}),m("p",{className:"text-dark",style:{fontSize:"1.3rem"},children:"If youâ€™re a individual who is interested and willing to learn chess and explore into the field of chess, you should check this out to learn chess, we will analyse and assess you in every possible ways to improve your skills, we promise you that we will show progress in your chess career."})]})}),m("div",{className:"col-12 col-sm-6  mb-4",children:m("div",{className:"p-4 rounded-5  card-hover",style:{background:"rgb(0, 150, 255,0.1)"},children:[m(Zf,{size:30,color:"#000"}),m("h1",{className:"text-dark fw-bolder",children:"Group Class"}),m("p",{className:"text-dark",style:{fontSize:"1.3rem"},children:"Darklight offers Group Classes for students, Group Classes has been fun learning because you can learn from your chess mates who are joining to learn, you can improve your skills with a group of students like you, and compared to individual classes, group classes are affordable so that you can learn chess."})]})}),m("div",{className:"col-12  mb-4",children:m("div",{className:"p-4 rounded-5  card-hover",style:{background:"rgb(9, 121, 105,0.1)"},children:[m(cc,{size:30,color:"#000"}),m("h1",{className:"text-dark fw-bolder",children:"Sibling Class"}),m("p",{className:"text-dark",style:{fontSize:"1.3rem"},children:"In this category, we encourage siblings to learn chess together so that you can develop your skills altogether your are benefited with skills and sibling classes has discounts, you can collaborate with your sibling or your cousin, you can explore more about the world of chess with your sibling so called partner in crime."})]})}),m("div",{className:"mb-4",children:m("button",{className:"btn btn-primary rounded-pill text-dark fw-bold border-0",onClick:s,style:{padding:"1rem 1.5rem",background:"rgb(255, 49, 49)",fontSize:"1.2rem"},children:"Book A Demo"})})]})]})]}),n&&m("div",{className:"modal show d-block align-content-center",tabIndex:"-1",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:m("div",{className:"modal-dialog",children:m("div",{className:"modal-content",style:{padding:"30px 45px"},children:[m("div",{className:"modal-header",children:[m("div",{children:[m("h5",{className:"modal-title fw-bold",style:{fontSize:"2rem"},children:"Book Now"}),m("p",{style:{fontSize:"1.5rem"},children:"Please fill the below details."})]}),m("button",{style:{fontSize:"1.4rem",padding:"8px",letterSpacing:1},type:"button",className:"btn-close",onClick:l})]}),m("div",{className:"modal-body",children:m("form",{onSubmit:h=>{h.preventDefault(),l(),h.target.reset(),console.log("Submitting Form Data:",t);const{name:f,contactNo:E,mode:_,level:I,location:C}=t;if(!f||!E||!_||!I||!C){alert("Please fill in all fields before submitting.");return}const k=`Name: ${t.name}
Contact No: ${E}
Mode: ${_}
Level: ${I}
Location: ${C}`,D=`https://wa.me/918124482421?text=${encodeURIComponent(k)}`;window.open(D,"_blank"),r({name:"",contactNo:"",mode:"",level:"",location:""})},children:[m("div",{className:"mb-3",children:[m("label",{htmlFor:"name",className:"form-label",style:{fontSize:"1.5rem"},children:"Name"}),m("input",{value:t.name,onChange:i,type:"text",className:"form-control",id:"name",name:"name",placeholder:"Enter your name",required:!0,style:{fontSize:"12px",padding:"10px"}})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"contactNo",className:"form-label",style:{fontSize:"1.5rem"},children:"Contact Number"}),m("input",{value:t.contactNo,onChange:i,style:{fontSize:"12px",padding:"10px"},type:"tel",className:"form-control",id:"contactNo",name:"contactNo",placeholder:"Enter Your Number",required:!0})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"mode",className:"form-label",style:{fontSize:"1.5rem"},children:"Mode (Online/Offline)"}),m("select",{style:{fontSize:"12px",padding:"10px"},className:"form-select",id:"mode",name:"mode",required:!0,value:t.mode,onChange:i,children:[m("option",{value:"",disabled:!0,selected:!0,style:{fontSize:"12px",padding:"10px"},children:"Choose mode"}),m("option",{value:"online",children:"Online"}),m("option",{value:"offline",children:"Offline"})]})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"level",className:"form-label",style:{fontSize:"1.5rem"},children:"Choose a Level"}),m("select",{className:"form-select",id:"level",name:"level",required:!0,style:{fontSize:"12px",padding:"10px"},value:t.level,onChange:i,children:[m("option",{value:"",disabled:!0,selected:!0,children:"Choose level"}),m("option",{value:"beginner",children:"Beginner"}),m("option",{value:"intermediate",children:"Intermediate"}),m("option",{value:"advanced",children:"Advanced"}),m("option",{value:"master",children:"Master"}),m("option",{value:"grandmaster",children:"Grandmaster"})]})]}),m("div",{className:"mb-5",children:[m("label",{htmlFor:"location",className:"form-label",style:{fontSize:"1.5rem"},children:"Location"}),m("input",{value:t.location,onChange:i,type:"text",className:"form-control",id:"location",name:"location",placeholder:"Enter your location",required:!0,style:{fontSize:"12px",padding:"10px"}})]}),m("div",{className:"d-flex justify-content-between",children:[m("button",{type:"button",className:"btn btn-secondary rounded-5",onClick:l,style:{fontSize:"1.4rem",padding:"8px",letterSpacing:1},children:"Cancel"}),m("button",{type:"submit",className:"btn btn-primary rounded-5",style:{fontSize:"1.4rem",padding:"6px 15px",letterSpacing:1},children:"Submit"})]})]})})]})})})]})},b1=()=>m(ut,{children:[m("section",{className:"container",style:{backgroundColor:"#fff"},children:m("div",{className:"row align-items-center",children:[m("div",{className:"col-12 col-md-6 text-center text-md-start ps-md-5",children:[m("h1",{className:"bold-header fw-bolder text-dark",style:{fontSize:"6rem",letterSpacing:"1px"},children:["Darklight Chess ",m("br",{})," Academy"]}),m("p",{style:{fontSize:"1.4rem",color:"#555",padding:"1rem 0"},children:"Where you learn chess with professionals."}),m("div",{className:"d-flex justify-content-center justify-content-md-start",children:[m(en,{to:"courses",className:"btn btn-primary d-inline-block text-light me-2 fw-bold rounded-4",style:{fontSize:"1.5rem",padding:".7rem 3rem"},children:"Get Started"}),m("button",{type:"button",className:"btn btn-outline-dark ms-3 fw-bold rounded-4",style:{fontSize:"1.5rem",padding:".7rem 3rem"},children:"Learn More"})]})]}),m("div",{className:"col-12 col-md-6 d-flex justify-content-center mt-4 mt-md-0",children:m("img",{src:u1,alt:"home-image",className:"img-fluid",style:{maxWidth:"100%",height:"auto"}})})]})}),m(v1,{}),m(_1,{}),m("section",{children:[m("div",{className:"pt-5 container",style:{fontFamily:'"Bodoni", serif'},children:[m("h1",{className:"text-dark fw-bolder text-center display-3",style:{fontFamily:'"Bodoni", serif'},children:"Why Dark Light"}),m("p",{className:"text-dark text-center mt-3",style:{fontSize:"1.5rem",letterSpacing:1.2},children:"We make your children learn chess with engaging activities throughout the classes, They donâ€™t learn only chess but also we encourage their curiosity with learning and fun, They learn moral values other than chess Are you looking for learning chess online, Join dark light chess academy where we encourage children and making learning chess a fun"})]}),m("div",{className:"container py-5",children:m("div",{className:"row",children:[m("div",{className:"col-md-6 text-center mb-4 mb-md-0",style:{fontFamily:'"Bodoni", serif'},children:[m("h1",{className:"text-dark fw-bolder display-4",style:{fontFamily:'"Bodoni", serif'},children:"Vision"}),m("p",{className:"text-dark mt-3",style:{fontSize:"1.5rem",letterSpacing:1.2},children:"Our vision is to make each student a chess master and empower professional chess talent to coach students."})]}),m("div",{className:"col-md-6 text-center",children:[m("h1",{className:"text-dark fw-bolder display-4",style:{fontFamily:'"Bodoni", serif'},children:"Mission"}),m("p",{className:"text-dark mt-3",style:{fontSize:"1.5rem",letterSpacing:1.2},children:"Our mission is to create a virtual place where people from all over the world can learn chess."})]})]})})]})]}),w1=()=>m("div",{children:"Gallery"}),E1=()=>m("div",{style:{background:"#001524",color:"#fff",padding:"20px 0",textAlign:"center"},children:[m("div",{style:{maxWidth:"1200px",margin:"0 auto",padding:"0 20px",display:"flex",justifyContent:"space-between",flexWrap:"wrap"},children:[m("div",{style:{flex:"1",minWidth:"250px",marginBottom:"20px"},children:[m("h2",{style:{fontSize:"24px",color:"#f2a900",fontWeight:"bolder"},children:"DarkLight"}),m("p",{children:"Join the ultimate chess community. Play, learn, and compete with players worldwide!"})]}),m("div",{style:{flex:"1",minWidth:"250px",marginBottom:"20px"},children:[m("h3",{style:{fontSize:"18px",color:"#f2a900"},children:"Quick Links"}),m("ul",{style:{listStyle:"none",padding:0,lineHeight:"1.5",fontSize:"1.5rem"},children:[m("li",{children:m("p",{children:"About"})}),m("li",{children:m("p",{children:"Help Centre"})}),m("li",{children:m("p",{children:"Business"})}),m("li",{children:m("p",{children:"Contact"})})]})]}),m("div",{style:{flex:"1",minWidth:"250px",marginBottom:"20px"},children:[m("h3",{style:{fontSize:"18px",color:"#f2a900"},children:"About Us"}),m("ul",{style:{listStyle:"none",padding:0,lineHeight:"1.5",fontSize:"1.5rem"},children:[m("li",{children:m("p",{children:"Terms of Use"})}),m("li",{children:m("p",{children:"Our Team"})}),m("li",{children:m("p",{children:"How It Works"})}),m("li",{children:m("p",{children:"Accessibility"})})]})]}),m("div",{style:{flex:"1",minWidth:"250px",marginBottom:"20px"},children:[m("h3",{style:{fontSize:"18px",color:"#f2a900"},children:"Support"}),m("ul",{style:{listStyle:"none",padding:0,lineHeight:"1.5",fontSize:"1.5rem"},children:[m("li",{children:m("p",{children:"FAQs"})}),m("li",{children:m("p",{children:"Terms & Conditions"})}),m("li",{children:m("p",{children:"Privacy Policy"})}),m("li",{children:m("p",{children:"Career"})})]})]})]}),m("hr",{style:{borderColor:"#555",margin:"20px 0"}}),m("p",{style:{fontSize:"14px"},children:["Â© ",new Date().getFullYear()," DarkLight. All Rights Reserved. |",m("a",{href:"/privacy",style:{color:"#f2a900",textDecoration:"none"},children:[" ","Privacy Policy"]})," ","|",m("a",{href:"/terms",style:{color:"#f2a900",textDecoration:"none"},children:[" ","Terms of Service"]})]})]});var Pa={exports:{}};/*!
  * Bootstrap v5.3.3 (https://getbootstrap.com/)
  * Copyright 2011-2024 The Bootstrap Authors (https://github.com/twbs/bootstrap/graphs/contributors)
  * Licensed under MIT (https://github.com/twbs/bootstrap/blob/main/LICENSE)
  */var T1=Pa.exports,rf;function I1(){return rf||(rf=1,function(n,e){(function(t,r){n.exports=r()})(T1,function(){const t=new Map,r={set(g,a,d){t.has(g)||t.set(g,new Map);const y=t.get(g);y.has(a)||y.size===0?y.set(a,d):console.error(`Bootstrap doesn't allow more than one instance per element. Bound instance: ${Array.from(y.keys())[0]}.`)},get:(g,a)=>t.has(g)&&t.get(g).get(a)||null,remove(g,a){if(!t.has(g))return;const d=t.get(g);d.delete(a),d.size===0&&t.delete(g)}},i="transitionend",s=g=>(g&&window.CSS&&window.CSS.escape&&(g=g.replace(/#([^\s"#']+)/g,(a,d)=>`#${CSS.escape(d)}`)),g),l=g=>{g.dispatchEvent(new Event(i))},c=g=>!(!g||typeof g!="object")&&(g.jquery!==void 0&&(g=g[0]),g.nodeType!==void 0),h=g=>c(g)?g.jquery?g[0]:g:typeof g=="string"&&g.length>0?document.querySelector(s(g)):null,f=g=>{if(!c(g)||g.getClientRects().length===0)return!1;const a=getComputedStyle(g).getPropertyValue("visibility")==="visible",d=g.closest("details:not([open])");if(!d)return a;if(d!==g){const y=g.closest("summary");if(y&&y.parentNode!==d||y===null)return!1}return a},E=g=>!g||g.nodeType!==Node.ELEMENT_NODE||!!g.classList.contains("disabled")||(g.disabled!==void 0?g.disabled:g.hasAttribute("disabled")&&g.getAttribute("disabled")!=="false"),_=g=>{if(!document.documentElement.attachShadow)return null;if(typeof g.getRootNode=="function"){const a=g.getRootNode();return a instanceof ShadowRoot?a:null}return g instanceof ShadowRoot?g:g.parentNode?_(g.parentNode):null},I=()=>{},C=g=>{g.offsetHeight},k=()=>window.jQuery&&!document.body.hasAttribute("data-bs-no-jquery")?window.jQuery:null,F=[],D=()=>document.documentElement.dir==="rtl",L=g=>{var a;a=()=>{const d=k();if(d){const y=g.NAME,N=d.fn[y];d.fn[y]=g.jQueryInterface,d.fn[y].Constructor=g,d.fn[y].noConflict=()=>(d.fn[y]=N,g.jQueryInterface)}},document.readyState==="loading"?(F.length||document.addEventListener("DOMContentLoaded",()=>{for(const d of F)d()}),F.push(a)):a()},U=(g,a=[],d=g)=>typeof g=="function"?g(...a):d,G=(g,a,d=!0)=>{if(!d)return void U(g);const y=(M=>{if(!M)return 0;let{transitionDuration:j,transitionDelay:q}=window.getComputedStyle(M);const K=Number.parseFloat(j),J=Number.parseFloat(q);return K||J?(j=j.split(",")[0],q=q.split(",")[0],1e3*(Number.parseFloat(j)+Number.parseFloat(q))):0})(a)+5;let N=!1;const x=({target:M})=>{M===a&&(N=!0,a.removeEventListener(i,x),U(g))};a.addEventListener(i,x),setTimeout(()=>{N||l(a)},y)},Y=(g,a,d,y)=>{const N=g.length;let x=g.indexOf(a);return x===-1?!d&&y?g[N-1]:g[0]:(x+=d?1:-1,y&&(x=(x+N)%N),g[Math.max(0,Math.min(x,N-1))])},fe=/[^.]*(?=\..*)\.|.*/,pe=/\..*/,P=/::\d+$/,w={};let v=1;const T={mouseenter:"mouseover",mouseleave:"mouseout"},A=new Set(["click","dblclick","mouseup","mousedown","contextmenu","mousewheel","DOMMouseScroll","mouseover","mouseout","mousemove","selectstart","selectend","keydown","keypress","keyup","orientationchange","touchstart","touchmove","touchend","touchcancel","pointerdown","pointermove","pointerup","pointerleave","pointercancel","gesturestart","gesturechange","gestureend","focus","blur","change","reset","select","submit","focusin","focusout","load","unload","beforeunload","resize","move","DOMContentLoaded","readystatechange","error","abort","scroll"]);function R(g,a){return a&&`${a}::${v++}`||g.uidEvent||v++}function S(g){const a=R(g);return g.uidEvent=a,w[a]=w[a]||{},w[a]}function Fe(g,a,d=null){return Object.values(g).find(y=>y.callable===a&&y.delegationSelector===d)}function qe(g,a,d){const y=typeof a=="string",N=y?d:a||d;let x=It(g);return A.has(x)||(x=g),[y,N,x]}function Ze(g,a,d,y,N){if(typeof a!="string"||!g)return;let[x,M,j]=qe(a,d,y);a in T&&(M=(re=>function(te){if(!te.relatedTarget||te.relatedTarget!==te.delegateTarget&&!te.delegateTarget.contains(te.relatedTarget))return re.call(this,te)})(M));const q=S(g),K=q[j]||(q[j]={}),J=Fe(K,M,x?d:null);if(J)return void(J.oneOff=J.oneOff&&N);const W=R(M,a.replace(fe,"")),se=x?function(Z,re,te){return function ie(Re){const Oe=Z.querySelectorAll(re);for(let{target:ue}=Re;ue&&ue!==this;ue=ue.parentNode)for(const we of Oe)if(we===ue)return Bt(Re,{delegateTarget:ue}),ie.oneOff&&$.off(Z,Re.type,re,te),te.apply(ue,[Re])}}(g,d,M):function(Z,re){return function te(ie){return Bt(ie,{delegateTarget:Z}),te.oneOff&&$.off(Z,ie.type,re),re.apply(Z,[ie])}}(g,M);se.delegationSelector=x?d:null,se.callable=M,se.oneOff=N,se.uidEvent=W,K[W]=se,g.addEventListener(j,se,x)}function Ue(g,a,d,y,N){const x=Fe(a[d],y,N);x&&(g.removeEventListener(d,x,!!N),delete a[d][x.uidEvent])}function We(g,a,d,y){const N=a[d]||{};for(const[x,M]of Object.entries(N))x.includes(y)&&Ue(g,a,d,M.callable,M.delegationSelector)}function It(g){return g=g.replace(pe,""),T[g]||g}const $={on(g,a,d,y){Ze(g,a,d,y,!1)},one(g,a,d,y){Ze(g,a,d,y,!0)},off(g,a,d,y){if(typeof a!="string"||!g)return;const[N,x,M]=qe(a,d,y),j=M!==a,q=S(g),K=q[M]||{},J=a.startsWith(".");if(x===void 0){if(J)for(const W of Object.keys(q))We(g,q,W,a.slice(1));for(const[W,se]of Object.entries(K)){const Z=W.replace(P,"");j&&!a.includes(Z)||Ue(g,q,M,se.callable,se.delegationSelector)}}else{if(!Object.keys(K).length)return;Ue(g,q,M,x,N?d:null)}},trigger(g,a,d){if(typeof a!="string"||!g)return null;const y=k();let N=null,x=!0,M=!0,j=!1;a!==It(a)&&y&&(N=y.Event(a,d),y(g).trigger(N),x=!N.isPropagationStopped(),M=!N.isImmediatePropagationStopped(),j=N.isDefaultPrevented());const q=Bt(new Event(a,{bubbles:x,cancelable:!0}),d);return j&&q.preventDefault(),M&&g.dispatchEvent(q),q.defaultPrevented&&N&&N.preventDefault(),q}};function Bt(g,a={}){for(const[d,y]of Object.entries(a))try{g[d]=y}catch{Object.defineProperty(g,d,{configurable:!0,get:()=>y})}return g}function rt(g){if(g==="true")return!0;if(g==="false")return!1;if(g===Number(g).toString())return Number(g);if(g===""||g==="null")return null;if(typeof g!="string")return g;try{return JSON.parse(decodeURIComponent(g))}catch{return g}}function Ee(g){return g.replace(/[A-Z]/g,a=>`-${a.toLowerCase()}`)}const je={setDataAttribute(g,a,d){g.setAttribute(`data-bs-${Ee(a)}`,d)},removeDataAttribute(g,a){g.removeAttribute(`data-bs-${Ee(a)}`)},getDataAttributes(g){if(!g)return{};const a={},d=Object.keys(g.dataset).filter(y=>y.startsWith("bs")&&!y.startsWith("bsConfig"));for(const y of d){let N=y.replace(/^bs/,"");N=N.charAt(0).toLowerCase()+N.slice(1,N.length),a[N]=rt(g.dataset[y])}return a},getDataAttribute:(g,a)=>rt(g.getAttribute(`data-bs-${Ee(a)}`))};class it{static get Default(){return{}}static get DefaultType(){return{}}static get NAME(){throw new Error('You have to implement the static method "NAME", for each component!')}_getConfig(a){return a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a}_mergeConfigObj(a,d){const y=c(d)?je.getDataAttribute(d,"config"):{};return{...this.constructor.Default,...typeof y=="object"?y:{},...c(d)?je.getDataAttributes(d):{},...typeof a=="object"?a:{}}}_typeCheckConfig(a,d=this.constructor.DefaultType){for(const[N,x]of Object.entries(d)){const M=a[N],j=c(M)?"element":(y=M)==null?`${y}`:Object.prototype.toString.call(y).match(/\s([a-z]+)/i)[1].toLowerCase();if(!new RegExp(x).test(j))throw new TypeError(`${this.constructor.NAME.toUpperCase()}: Option "${N}" provided type "${j}" but expected type "${x}".`)}var y}}class Le extends it{constructor(a,d){super(),(a=h(a))&&(this._element=a,this._config=this._getConfig(d),r.set(this._element,this.constructor.DATA_KEY,this))}dispose(){r.remove(this._element,this.constructor.DATA_KEY),$.off(this._element,this.constructor.EVENT_KEY);for(const a of Object.getOwnPropertyNames(this))this[a]=null}_queueCallback(a,d,y=!0){G(a,d,y)}_getConfig(a){return a=this._mergeConfigObj(a,this._element),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}static getInstance(a){return r.get(h(a),this.DATA_KEY)}static getOrCreateInstance(a,d={}){return this.getInstance(a)||new this(a,typeof d=="object"?d:null)}static get VERSION(){return"5.3.3"}static get DATA_KEY(){return`bs.${this.NAME}`}static get EVENT_KEY(){return`.${this.DATA_KEY}`}static eventName(a){return`${a}${this.EVENT_KEY}`}}const At=g=>{let a=g.getAttribute("data-bs-target");if(!a||a==="#"){let d=g.getAttribute("href");if(!d||!d.includes("#")&&!d.startsWith("."))return null;d.includes("#")&&!d.startsWith("#")&&(d=`#${d.split("#")[1]}`),a=d&&d!=="#"?d.trim():null}return a?a.split(",").map(d=>s(d)).join(","):null},Q={find:(g,a=document.documentElement)=>[].concat(...Element.prototype.querySelectorAll.call(a,g)),findOne:(g,a=document.documentElement)=>Element.prototype.querySelector.call(a,g),children:(g,a)=>[].concat(...g.children).filter(d=>d.matches(a)),parents(g,a){const d=[];let y=g.parentNode.closest(a);for(;y;)d.push(y),y=y.parentNode.closest(a);return d},prev(g,a){let d=g.previousElementSibling;for(;d;){if(d.matches(a))return[d];d=d.previousElementSibling}return[]},next(g,a){let d=g.nextElementSibling;for(;d;){if(d.matches(a))return[d];d=d.nextElementSibling}return[]},focusableChildren(g){const a=["a","button","input","textarea","select","details","[tabindex]",'[contenteditable="true"]'].map(d=>`${d}:not([tabindex^="-"])`).join(",");return this.find(a,g).filter(d=>!E(d)&&f(d))},getSelectorFromElement(g){const a=At(g);return a&&Q.findOne(a)?a:null},getElementFromSelector(g){const a=At(g);return a?Q.findOne(a):null},getMultipleElementsFromSelector(g){const a=At(g);return a?Q.find(a):[]}},gt=(g,a="hide")=>{const d=`click.dismiss${g.EVENT_KEY}`,y=g.NAME;$.on(document,d,`[data-bs-dismiss="${y}"]`,function(N){if(["A","AREA"].includes(this.tagName)&&N.preventDefault(),E(this))return;const x=Q.getElementFromSelector(this)||this.closest(`.${y}`);g.getOrCreateInstance(x)[a]()})},Vt=".bs.alert",zt=`close${Vt}`,Fn=`closed${Vt}`;class Qe extends Le{static get NAME(){return"alert"}close(){if($.trigger(this._element,zt).defaultPrevented)return;this._element.classList.remove("show");const a=this._element.classList.contains("fade");this._queueCallback(()=>this._destroyElement(),this._element,a)}_destroyElement(){this._element.remove(),$.trigger(this._element,Fn),this.dispose()}static jQueryInterface(a){return this.each(function(){const d=Qe.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}gt(Qe,"close"),L(Qe);const Ht='[data-bs-toggle="button"]';class Pt extends Le{static get NAME(){return"button"}toggle(){this._element.setAttribute("aria-pressed",this._element.classList.toggle("active"))}static jQueryInterface(a){return this.each(function(){const d=Pt.getOrCreateInstance(this);a==="toggle"&&d[a]()})}}$.on(document,"click.bs.button.data-api",Ht,g=>{g.preventDefault();const a=g.target.closest(Ht);Pt.getOrCreateInstance(a).toggle()}),L(Pt);const Un=".bs.swipe",vl=`touchstart${Un}`,bl=`touchmove${Un}`,Po=`touchend${Un}`,ms=`pointerdown${Un}`,No=`pointerup${Un}`,wl={endCallback:null,leftCallback:null,rightCallback:null},gs={endCallback:"(function|null)",leftCallback:"(function|null)",rightCallback:"(function|null)"};class dr extends it{constructor(a,d){super(),this._element=a,a&&dr.isSupported()&&(this._config=this._getConfig(d),this._deltaX=0,this._supportPointerEvents=!!window.PointerEvent,this._initEvents())}static get Default(){return wl}static get DefaultType(){return gs}static get NAME(){return"swipe"}dispose(){$.off(this._element,Un)}_start(a){this._supportPointerEvents?this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX):this._deltaX=a.touches[0].clientX}_end(a){this._eventIsPointerPenTouch(a)&&(this._deltaX=a.clientX-this._deltaX),this._handleSwipe(),U(this._config.endCallback)}_move(a){this._deltaX=a.touches&&a.touches.length>1?0:a.touches[0].clientX-this._deltaX}_handleSwipe(){const a=Math.abs(this._deltaX);if(a<=40)return;const d=a/this._deltaX;this._deltaX=0,d&&U(d>0?this._config.rightCallback:this._config.leftCallback)}_initEvents(){this._supportPointerEvents?($.on(this._element,ms,a=>this._start(a)),$.on(this._element,No,a=>this._end(a)),this._element.classList.add("pointer-event")):($.on(this._element,vl,a=>this._start(a)),$.on(this._element,bl,a=>this._move(a)),$.on(this._element,Po,a=>this._end(a)))}_eventIsPointerPenTouch(a){return this._supportPointerEvents&&(a.pointerType==="pen"||a.pointerType==="touch")}static isSupported(){return"ontouchstart"in document.documentElement||navigator.maxTouchPoints>0}}const rn=".bs.carousel",et=".data-api",Ge="next",sn="prev",$n="left",Hr="right",El=`slide${rn}`,jn=`slid${rn}`,ko=`keydown${rn}`,xo=`mouseenter${rn}`,_s=`mouseleave${rn}`,Tl=`dragstart${rn}`,Il=`load${rn}${et}`,ys=`click${rn}${et}`,vs="carousel",qr="active",fr=".active",Si=".carousel-item",bs=fr+Si,Bn={ArrowLeft:Hr,ArrowRight:$n},Oo={interval:5e3,keyboard:!0,pause:"hover",ride:!1,touch:!0,wrap:!0},Ci={interval:"(number|boolean)",keyboard:"boolean",pause:"(string|boolean)",ride:"(boolean|string)",touch:"boolean",wrap:"boolean"};class zn extends Le{constructor(a,d){super(a,d),this._interval=null,this._activeElement=null,this._isSliding=!1,this.touchTimeout=null,this._swipeHelper=null,this._indicatorsElement=Q.findOne(".carousel-indicators",this._element),this._addEventListeners(),this._config.ride===vs&&this.cycle()}static get Default(){return Oo}static get DefaultType(){return Ci}static get NAME(){return"carousel"}next(){this._slide(Ge)}nextWhenVisible(){!document.hidden&&f(this._element)&&this.next()}prev(){this._slide(sn)}pause(){this._isSliding&&l(this._element),this._clearInterval()}cycle(){this._clearInterval(),this._updateInterval(),this._interval=setInterval(()=>this.nextWhenVisible(),this._config.interval)}_maybeEnableCycle(){this._config.ride&&(this._isSliding?$.one(this._element,jn,()=>this.cycle()):this.cycle())}to(a){const d=this._getItems();if(a>d.length-1||a<0)return;if(this._isSliding)return void $.one(this._element,jn,()=>this.to(a));const y=this._getItemIndex(this._getActive());if(y===a)return;const N=a>y?Ge:sn;this._slide(N,d[a])}dispose(){this._swipeHelper&&this._swipeHelper.dispose(),super.dispose()}_configAfterMerge(a){return a.defaultInterval=a.interval,a}_addEventListeners(){this._config.keyboard&&$.on(this._element,ko,a=>this._keydown(a)),this._config.pause==="hover"&&($.on(this._element,xo,()=>this.pause()),$.on(this._element,_s,()=>this._maybeEnableCycle())),this._config.touch&&dr.isSupported()&&this._addTouchEventListeners()}_addTouchEventListeners(){for(const d of Q.find(".carousel-item img",this._element))$.on(d,Tl,y=>y.preventDefault());const a={leftCallback:()=>this._slide(this._directionToOrder($n)),rightCallback:()=>this._slide(this._directionToOrder(Hr)),endCallback:()=>{this._config.pause==="hover"&&(this.pause(),this.touchTimeout&&clearTimeout(this.touchTimeout),this.touchTimeout=setTimeout(()=>this._maybeEnableCycle(),500+this._config.interval))}};this._swipeHelper=new dr(this._element,a)}_keydown(a){if(/input|textarea/i.test(a.target.tagName))return;const d=Bn[a.key];d&&(a.preventDefault(),this._slide(this._directionToOrder(d)))}_getItemIndex(a){return this._getItems().indexOf(a)}_setActiveIndicatorElement(a){if(!this._indicatorsElement)return;const d=Q.findOne(fr,this._indicatorsElement);d.classList.remove(qr),d.removeAttribute("aria-current");const y=Q.findOne(`[data-bs-slide-to="${a}"]`,this._indicatorsElement);y&&(y.classList.add(qr),y.setAttribute("aria-current","true"))}_updateInterval(){const a=this._activeElement||this._getActive();if(!a)return;const d=Number.parseInt(a.getAttribute("data-bs-interval"),10);this._config.interval=d||this._config.defaultInterval}_slide(a,d=null){if(this._isSliding)return;const y=this._getActive(),N=a===Ge,x=d||Y(this._getItems(),y,N,this._config.wrap);if(x===y)return;const M=this._getItemIndex(x),j=W=>$.trigger(this._element,W,{relatedTarget:x,direction:this._orderToDirection(a),from:this._getItemIndex(y),to:M});if(j(El).defaultPrevented||!y||!x)return;const q=!!this._interval;this.pause(),this._isSliding=!0,this._setActiveIndicatorElement(M),this._activeElement=x;const K=N?"carousel-item-start":"carousel-item-end",J=N?"carousel-item-next":"carousel-item-prev";x.classList.add(J),C(x),y.classList.add(K),x.classList.add(K),this._queueCallback(()=>{x.classList.remove(K,J),x.classList.add(qr),y.classList.remove(qr,J,K),this._isSliding=!1,j(jn)},y,this._isAnimated()),q&&this.cycle()}_isAnimated(){return this._element.classList.contains("slide")}_getActive(){return Q.findOne(bs,this._element)}_getItems(){return Q.find(Si,this._element)}_clearInterval(){this._interval&&(clearInterval(this._interval),this._interval=null)}_directionToOrder(a){return D()?a===$n?sn:Ge:a===$n?Ge:sn}_orderToDirection(a){return D()?a===sn?$n:Hr:a===sn?Hr:$n}static jQueryInterface(a){return this.each(function(){const d=zn.getOrCreateInstance(this,a);if(typeof a!="number"){if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}}else d.to(a)})}}$.on(document,ys,"[data-bs-slide], [data-bs-slide-to]",function(g){const a=Q.getElementFromSelector(this);if(!a||!a.classList.contains(vs))return;g.preventDefault();const d=zn.getOrCreateInstance(a),y=this.getAttribute("data-bs-slide-to");return y?(d.to(y),void d._maybeEnableCycle()):je.getDataAttribute(this,"slide")==="next"?(d.next(),void d._maybeEnableCycle()):(d.prev(),void d._maybeEnableCycle())}),$.on(window,Il,()=>{const g=Q.find('[data-bs-ride="carousel"]');for(const a of g)zn.getOrCreateInstance(a)}),L(zn);const on=".bs.collapse",Do=`show${on}`,ht=`shown${on}`,Lo=`hide${on}`,Wr=`hidden${on}`,Gr=`click${on}.data-api`,ws="show",pr="collapse",an="collapsing",Al=`:scope .${pr} .${pr}`,Es='[data-bs-toggle="collapse"]',Ri={parent:null,toggle:!0},Vo={parent:"(null|element)",toggle:"boolean"};class En extends Le{constructor(a,d){super(a,d),this._isTransitioning=!1,this._triggerArray=[];const y=Q.find(Es);for(const N of y){const x=Q.getSelectorFromElement(N),M=Q.find(x).filter(j=>j===this._element);x!==null&&M.length&&this._triggerArray.push(N)}this._initializeChildren(),this._config.parent||this._addAriaAndCollapsedClass(this._triggerArray,this._isShown()),this._config.toggle&&this.toggle()}static get Default(){return Ri}static get DefaultType(){return Vo}static get NAME(){return"collapse"}toggle(){this._isShown()?this.hide():this.show()}show(){if(this._isTransitioning||this._isShown())return;let a=[];if(this._config.parent&&(a=this._getFirstLevelChildren(".collapse.show, .collapse.collapsing").filter(N=>N!==this._element).map(N=>En.getOrCreateInstance(N,{toggle:!1}))),a.length&&a[0]._isTransitioning||$.trigger(this._element,Do).defaultPrevented)return;for(const N of a)N.hide();const d=this._getDimension();this._element.classList.remove(pr),this._element.classList.add(an),this._element.style[d]=0,this._addAriaAndCollapsedClass(this._triggerArray,!0),this._isTransitioning=!0;const y=`scroll${d[0].toUpperCase()+d.slice(1)}`;this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(an),this._element.classList.add(pr,ws),this._element.style[d]="",$.trigger(this._element,ht)},this._element,!0),this._element.style[d]=`${this._element[y]}px`}hide(){if(this._isTransitioning||!this._isShown()||$.trigger(this._element,Lo).defaultPrevented)return;const a=this._getDimension();this._element.style[a]=`${this._element.getBoundingClientRect()[a]}px`,C(this._element),this._element.classList.add(an),this._element.classList.remove(pr,ws);for(const d of this._triggerArray){const y=Q.getElementFromSelector(d);y&&!this._isShown(y)&&this._addAriaAndCollapsedClass([d],!1)}this._isTransitioning=!0,this._element.style[a]="",this._queueCallback(()=>{this._isTransitioning=!1,this._element.classList.remove(an),this._element.classList.add(pr),$.trigger(this._element,Wr)},this._element,!0)}_isShown(a=this._element){return a.classList.contains(ws)}_configAfterMerge(a){return a.toggle=!!a.toggle,a.parent=h(a.parent),a}_getDimension(){return this._element.classList.contains("collapse-horizontal")?"width":"height"}_initializeChildren(){if(!this._config.parent)return;const a=this._getFirstLevelChildren(Es);for(const d of a){const y=Q.getElementFromSelector(d);y&&this._addAriaAndCollapsedClass([d],this._isShown(y))}}_getFirstLevelChildren(a){const d=Q.find(Al,this._config.parent);return Q.find(a,this._config.parent).filter(y=>!d.includes(y))}_addAriaAndCollapsedClass(a,d){if(a.length)for(const y of a)y.classList.toggle("collapsed",!d),y.setAttribute("aria-expanded",d)}static jQueryInterface(a){const d={};return typeof a=="string"&&/show|hide/.test(a)&&(d.toggle=!1),this.each(function(){const y=En.getOrCreateInstance(this,d);if(typeof a=="string"){if(y[a]===void 0)throw new TypeError(`No method named "${a}"`);y[a]()}})}}$.on(document,Gr,Es,function(g){(g.target.tagName==="A"||g.delegateTarget&&g.delegateTarget.tagName==="A")&&g.preventDefault();for(const a of Q.getMultipleElementsFromSelector(this))En.getOrCreateInstance(a,{toggle:!1}).toggle()}),L(En);var Je="top",Be="bottom",_t="right",st="left",mr="auto",Tn=[Je,Be,_t,st],In="start",Hn="end",Mo="clippingParents",gr="viewport",qn="popper",Pi="reference",Wn=Tn.reduce(function(g,a){return g.concat([a+"-"+In,a+"-"+Hn])},[]),ln=[].concat(Tn,[mr]).reduce(function(g,a){return g.concat([a,a+"-"+In,a+"-"+Hn])},[]),Ni="beforeRead",Fo="read",Ts="afterRead",Is="beforeMain",As="main",ki="afterMain",xi="beforeWrite",Ss="write",Cs="afterWrite",Uo=[Ni,Fo,Ts,Is,As,ki,xi,Ss,Cs];function qt(g){return g?(g.nodeName||"").toLowerCase():null}function yt(g){if(g==null)return window;if(g.toString()!=="[object Window]"){var a=g.ownerDocument;return a&&a.defaultView||window}return g}function An(g){return g instanceof yt(g).Element||g instanceof Element}function Nt(g){return g instanceof yt(g).HTMLElement||g instanceof HTMLElement}function cn(g){return typeof ShadowRoot<"u"&&(g instanceof yt(g).ShadowRoot||g instanceof ShadowRoot)}const Mt={name:"applyStyles",enabled:!0,phase:"write",fn:function(g){var a=g.state;Object.keys(a.elements).forEach(function(d){var y=a.styles[d]||{},N=a.attributes[d]||{},x=a.elements[d];Nt(x)&&qt(x)&&(Object.assign(x.style,y),Object.keys(N).forEach(function(M){var j=N[M];j===!1?x.removeAttribute(M):x.setAttribute(M,j===!0?"":j)}))})},effect:function(g){var a=g.state,d={popper:{position:a.options.strategy,left:"0",top:"0",margin:"0"},arrow:{position:"absolute"},reference:{}};return Object.assign(a.elements.popper.style,d.popper),a.styles=d,a.elements.arrow&&Object.assign(a.elements.arrow.style,d.arrow),function(){Object.keys(a.elements).forEach(function(y){var N=a.elements[y],x=a.attributes[y]||{},M=Object.keys(a.styles.hasOwnProperty(y)?a.styles[y]:d[y]).reduce(function(j,q){return j[q]="",j},{});Nt(N)&&qt(N)&&(Object.assign(N.style,M),Object.keys(x).forEach(function(j){N.removeAttribute(j)}))})}},requires:["computeStyles"]};function St(g){return g.split("-")[0]}var Wt=Math.max,Kr=Math.min,ve=Math.round;function _r(){var g=navigator.userAgentData;return g!=null&&g.brands&&Array.isArray(g.brands)?g.brands.map(function(a){return a.brand+"/"+a.version}).join(" "):navigator.userAgent}function yr(){return!/^((?!chrome|android).)*safari/i.test(_r())}function Gt(g,a,d){a===void 0&&(a=!1),d===void 0&&(d=!1);var y=g.getBoundingClientRect(),N=1,x=1;a&&Nt(g)&&(N=g.offsetWidth>0&&ve(y.width)/g.offsetWidth||1,x=g.offsetHeight>0&&ve(y.height)/g.offsetHeight||1);var M=(An(g)?yt(g):window).visualViewport,j=!yr()&&d,q=(y.left+(j&&M?M.offsetLeft:0))/N,K=(y.top+(j&&M?M.offsetTop:0))/x,J=y.width/N,W=y.height/x;return{width:J,height:W,top:K,right:q+J,bottom:K+W,left:q,x:q,y:K}}function Rs(g){var a=Gt(g),d=g.offsetWidth,y=g.offsetHeight;return Math.abs(a.width-d)<=1&&(d=a.width),Math.abs(a.height-y)<=1&&(y=a.height),{x:g.offsetLeft,y:g.offsetTop,width:d,height:y}}function Ps(g,a){var d=a.getRootNode&&a.getRootNode();if(g.contains(a))return!0;if(d&&cn(d)){var y=a;do{if(y&&g.isSameNode(y))return!0;y=y.parentNode||y.host}while(y)}return!1}function un(g){return yt(g).getComputedStyle(g)}function Sl(g){return["table","td","th"].indexOf(qt(g))>=0}function Sn(g){return((An(g)?g.ownerDocument:g.document)||window.document).documentElement}function Oi(g){return qt(g)==="html"?g:g.assignedSlot||g.parentNode||(cn(g)?g.host:null)||Sn(g)}function vr(g){return Nt(g)&&un(g).position!=="fixed"?g.offsetParent:null}function kt(g){for(var a=yt(g),d=vr(g);d&&Sl(d)&&un(d).position==="static";)d=vr(d);return d&&(qt(d)==="html"||qt(d)==="body"&&un(d).position==="static")?a:d||function(y){var N=/firefox/i.test(_r());if(/Trident/i.test(_r())&&Nt(y)&&un(y).position==="fixed")return null;var x=Oi(y);for(cn(x)&&(x=x.host);Nt(x)&&["html","body"].indexOf(qt(x))<0;){var M=un(x);if(M.transform!=="none"||M.perspective!=="none"||M.contain==="paint"||["transform","perspective"].indexOf(M.willChange)!==-1||N&&M.willChange==="filter"||N&&M.filter&&M.filter!=="none")return x;x=x.parentNode}return null}(g)||a}function Di(g){return["top","bottom"].indexOf(g)>=0?"x":"y"}function br(g,a,d){return Wt(g,Kr(a,d))}function Ns(g){return Object.assign({},{top:0,right:0,bottom:0,left:0},g)}function Gn(g,a){return a.reduce(function(d,y){return d[y]=g,d},{})}const $o={name:"arrow",enabled:!0,phase:"main",fn:function(g){var a,d=g.state,y=g.name,N=g.options,x=d.elements.arrow,M=d.modifiersData.popperOffsets,j=St(d.placement),q=Di(j),K=[st,_t].indexOf(j)>=0?"height":"width";if(x&&M){var J=function(Pe,Ae){return Ns(typeof(Pe=typeof Pe=="function"?Pe(Object.assign({},Ae.rects,{placement:Ae.placement})):Pe)!="number"?Pe:Gn(Pe,Tn))}(N.padding,d),W=Rs(x),se=q==="y"?Je:st,Z=q==="y"?Be:_t,re=d.rects.reference[K]+d.rects.reference[q]-M[q]-d.rects.popper[K],te=M[q]-d.rects.reference[q],ie=kt(x),Re=ie?q==="y"?ie.clientHeight||0:ie.clientWidth||0:0,Oe=re/2-te/2,ue=J[se],we=Re-W[K]-J[Z],ae=Re/2-W[K]/2+Oe,me=br(ue,ae,we),Ie=q;d.modifiersData[y]=((a={})[Ie]=me,a.centerOffset=me-ae,a)}},effect:function(g){var a=g.state,d=g.options.element,y=d===void 0?"[data-popper-arrow]":d;y!=null&&(typeof y!="string"||(y=a.elements.popper.querySelector(y)))&&Ps(a.elements.popper,y)&&(a.elements.arrow=y)},requires:["popperOffsets"],requiresIfExists:["preventOverflow"]};function wr(g){return g.split("-")[1]}var Cl={top:"auto",right:"auto",bottom:"auto",left:"auto"};function hn(g){var a,d=g.popper,y=g.popperRect,N=g.placement,x=g.variation,M=g.offsets,j=g.position,q=g.gpuAcceleration,K=g.adaptive,J=g.roundOffsets,W=g.isFixed,se=M.x,Z=se===void 0?0:se,re=M.y,te=re===void 0?0:re,ie=typeof J=="function"?J({x:Z,y:te}):{x:Z,y:te};Z=ie.x,te=ie.y;var Re=M.hasOwnProperty("x"),Oe=M.hasOwnProperty("y"),ue=st,we=Je,ae=window;if(K){var me=kt(d),Ie="clientHeight",Pe="clientWidth";me===yt(d)&&un(me=Sn(d)).position!=="static"&&j==="absolute"&&(Ie="scrollHeight",Pe="scrollWidth"),(N===Je||(N===st||N===_t)&&x===Hn)&&(we=Be,te-=(W&&me===ae&&ae.visualViewport?ae.visualViewport.height:me[Ie])-y.height,te*=q?1:-1),N!==st&&(N!==Je&&N!==Be||x!==Hn)||(ue=_t,Z-=(W&&me===ae&&ae.visualViewport?ae.visualViewport.width:me[Pe])-y.width,Z*=q?1:-1)}var Ae,Ke=Object.assign({position:j},K&&Cl),Ft=J===!0?function(fn,Ct){var Xt=fn.x,Yt=fn.y,ze=Ct.devicePixelRatio||1;return{x:ve(Xt*ze)/ze||0,y:ve(Yt*ze)/ze||0}}({x:Z,y:te},yt(d)):{x:Z,y:te};return Z=Ft.x,te=Ft.y,q?Object.assign({},Ke,((Ae={})[we]=Oe?"0":"",Ae[ue]=Re?"0":"",Ae.transform=(ae.devicePixelRatio||1)<=1?"translate("+Z+"px, "+te+"px)":"translate3d("+Z+"px, "+te+"px, 0)",Ae)):Object.assign({},Ke,((a={})[we]=Oe?te+"px":"",a[ue]=Re?Z+"px":"",a.transform="",a))}const ks={name:"computeStyles",enabled:!0,phase:"beforeWrite",fn:function(g){var a=g.state,d=g.options,y=d.gpuAcceleration,N=y===void 0||y,x=d.adaptive,M=x===void 0||x,j=d.roundOffsets,q=j===void 0||j,K={placement:St(a.placement),variation:wr(a.placement),popper:a.elements.popper,popperRect:a.rects.popper,gpuAcceleration:N,isFixed:a.options.strategy==="fixed"};a.modifiersData.popperOffsets!=null&&(a.styles.popper=Object.assign({},a.styles.popper,hn(Object.assign({},K,{offsets:a.modifiersData.popperOffsets,position:a.options.strategy,adaptive:M,roundOffsets:q})))),a.modifiersData.arrow!=null&&(a.styles.arrow=Object.assign({},a.styles.arrow,hn(Object.assign({},K,{offsets:a.modifiersData.arrow,position:"absolute",adaptive:!1,roundOffsets:q})))),a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-placement":a.placement})},data:{}};var Li={passive:!0};const Er={name:"eventListeners",enabled:!0,phase:"write",fn:function(){},effect:function(g){var a=g.state,d=g.instance,y=g.options,N=y.scroll,x=N===void 0||N,M=y.resize,j=M===void 0||M,q=yt(a.elements.popper),K=[].concat(a.scrollParents.reference,a.scrollParents.popper);return x&&K.forEach(function(J){J.addEventListener("scroll",d.update,Li)}),j&&q.addEventListener("resize",d.update,Li),function(){x&&K.forEach(function(J){J.removeEventListener("scroll",d.update,Li)}),j&&q.removeEventListener("resize",d.update,Li)}},data:{}};var Vi={left:"right",right:"left",bottom:"top",top:"bottom"};function Qr(g){return g.replace(/left|right|bottom|top/g,function(a){return Vi[a]})}var Jr={start:"end",end:"start"};function Tr(g){return g.replace(/start|end/g,function(a){return Jr[a]})}function Mi(g){var a=yt(g);return{scrollLeft:a.pageXOffset,scrollTop:a.pageYOffset}}function Xr(g){return Gt(Sn(g)).left+Mi(g).scrollLeft}function xe(g){var a=un(g),d=a.overflow,y=a.overflowX,N=a.overflowY;return/auto|scroll|overlay|hidden/.test(d+N+y)}function jo(g){return["html","body","#document"].indexOf(qt(g))>=0?g.ownerDocument.body:Nt(g)&&xe(g)?g:jo(Oi(g))}function Yr(g,a){var d;a===void 0&&(a=[]);var y=jo(g),N=y===((d=g.ownerDocument)==null?void 0:d.body),x=yt(y),M=N?[x].concat(x.visualViewport||[],xe(y)?y:[]):y,j=a.concat(M);return N?j:j.concat(Yr(Oi(M)))}function Fi(g){return Object.assign({},g,{left:g.x,top:g.y,right:g.x+g.width,bottom:g.y+g.height})}function xs(g,a,d){return a===gr?Fi(function(y,N){var x=yt(y),M=Sn(y),j=x.visualViewport,q=M.clientWidth,K=M.clientHeight,J=0,W=0;if(j){q=j.width,K=j.height;var se=yr();(se||!se&&N==="fixed")&&(J=j.offsetLeft,W=j.offsetTop)}return{width:q,height:K,x:J+Xr(y),y:W}}(g,d)):An(a)?function(y,N){var x=Gt(y,!1,N==="fixed");return x.top=x.top+y.clientTop,x.left=x.left+y.clientLeft,x.bottom=x.top+y.clientHeight,x.right=x.left+y.clientWidth,x.width=y.clientWidth,x.height=y.clientHeight,x.x=x.left,x.y=x.top,x}(a,d):Fi(function(y){var N,x=Sn(y),M=Mi(y),j=(N=y.ownerDocument)==null?void 0:N.body,q=Wt(x.scrollWidth,x.clientWidth,j?j.scrollWidth:0,j?j.clientWidth:0),K=Wt(x.scrollHeight,x.clientHeight,j?j.scrollHeight:0,j?j.clientHeight:0),J=-M.scrollLeft+Xr(y),W=-M.scrollTop;return un(j||x).direction==="rtl"&&(J+=Wt(x.clientWidth,j?j.clientWidth:0)-q),{width:q,height:K,x:J,y:W}}(Sn(g)))}function Os(g){var a,d=g.reference,y=g.element,N=g.placement,x=N?St(N):null,M=N?wr(N):null,j=d.x+d.width/2-y.width/2,q=d.y+d.height/2-y.height/2;switch(x){case Je:a={x:j,y:d.y-y.height};break;case Be:a={x:j,y:d.y+d.height};break;case _t:a={x:d.x+d.width,y:q};break;case st:a={x:d.x-y.width,y:q};break;default:a={x:d.x,y:d.y}}var K=x?Di(x):null;if(K!=null){var J=K==="y"?"height":"width";switch(M){case In:a[K]=a[K]-(d[J]/2-y[J]/2);break;case Hn:a[K]=a[K]+(d[J]/2-y[J]/2)}}return a}function dn(g,a){a===void 0&&(a={});var d=a,y=d.placement,N=y===void 0?g.placement:y,x=d.strategy,M=x===void 0?g.strategy:x,j=d.boundary,q=j===void 0?Mo:j,K=d.rootBoundary,J=K===void 0?gr:K,W=d.elementContext,se=W===void 0?qn:W,Z=d.altBoundary,re=Z!==void 0&&Z,te=d.padding,ie=te===void 0?0:te,Re=Ns(typeof ie!="number"?ie:Gn(ie,Tn)),Oe=se===qn?Pi:qn,ue=g.rects.popper,we=g.elements[re?Oe:se],ae=function(Ct,Xt,Yt,ze){var Pn=Xt==="clippingParents"?function(Ne){var Rt=Yr(Oi(Ne)),Zt=["absolute","fixed"].indexOf(un(Ne).position)>=0&&Nt(Ne)?kt(Ne):Ne;return An(Zt)?Rt.filter(function(Sr){return An(Sr)&&Ps(Sr,Zt)&&qt(Sr)!=="body"}):[]}(Ct):[].concat(Xt),Nn=[].concat(Pn,[Yt]),Hi=Nn[0],ot=Nn.reduce(function(Ne,Rt){var Zt=xs(Ct,Rt,ze);return Ne.top=Wt(Zt.top,Ne.top),Ne.right=Kr(Zt.right,Ne.right),Ne.bottom=Kr(Zt.bottom,Ne.bottom),Ne.left=Wt(Zt.left,Ne.left),Ne},xs(Ct,Hi,ze));return ot.width=ot.right-ot.left,ot.height=ot.bottom-ot.top,ot.x=ot.left,ot.y=ot.top,ot}(An(we)?we:we.contextElement||Sn(g.elements.popper),q,J,M),me=Gt(g.elements.reference),Ie=Os({reference:me,element:ue,strategy:"absolute",placement:N}),Pe=Fi(Object.assign({},ue,Ie)),Ae=se===qn?Pe:me,Ke={top:ae.top-Ae.top+Re.top,bottom:Ae.bottom-ae.bottom+Re.bottom,left:ae.left-Ae.left+Re.left,right:Ae.right-ae.right+Re.right},Ft=g.modifiersData.offset;if(se===qn&&Ft){var fn=Ft[N];Object.keys(Ke).forEach(function(Ct){var Xt=[_t,Be].indexOf(Ct)>=0?1:-1,Yt=[Je,Be].indexOf(Ct)>=0?"y":"x";Ke[Ct]+=fn[Yt]*Xt})}return Ke}function Bo(g,a){a===void 0&&(a={});var d=a,y=d.placement,N=d.boundary,x=d.rootBoundary,M=d.padding,j=d.flipVariations,q=d.allowedAutoPlacements,K=q===void 0?ln:q,J=wr(y),W=J?j?Wn:Wn.filter(function(re){return wr(re)===J}):Tn,se=W.filter(function(re){return K.indexOf(re)>=0});se.length===0&&(se=W);var Z=se.reduce(function(re,te){return re[te]=dn(g,{placement:te,boundary:N,rootBoundary:x,padding:M})[St(te)],re},{});return Object.keys(Z).sort(function(re,te){return Z[re]-Z[te]})}const Kt={name:"flip",enabled:!0,phase:"main",fn:function(g){var a=g.state,d=g.options,y=g.name;if(!a.modifiersData[y]._skip){for(var N=d.mainAxis,x=N===void 0||N,M=d.altAxis,j=M===void 0||M,q=d.fallbackPlacements,K=d.padding,J=d.boundary,W=d.rootBoundary,se=d.altBoundary,Z=d.flipVariations,re=Z===void 0||Z,te=d.allowedAutoPlacements,ie=a.options.placement,Re=St(ie),Oe=q||(Re!==ie&&re?function(Ne){if(St(Ne)===mr)return[];var Rt=Qr(Ne);return[Tr(Ne),Rt,Tr(Rt)]}(ie):[Qr(ie)]),ue=[ie].concat(Oe).reduce(function(Ne,Rt){return Ne.concat(St(Rt)===mr?Bo(a,{placement:Rt,boundary:J,rootBoundary:W,padding:K,flipVariations:re,allowedAutoPlacements:te}):Rt)},[]),we=a.rects.reference,ae=a.rects.popper,me=new Map,Ie=!0,Pe=ue[0],Ae=0;Ae<ue.length;Ae++){var Ke=ue[Ae],Ft=St(Ke),fn=wr(Ke)===In,Ct=[Je,Be].indexOf(Ft)>=0,Xt=Ct?"width":"height",Yt=dn(a,{placement:Ke,boundary:J,rootBoundary:W,altBoundary:se,padding:K}),ze=Ct?fn?_t:st:fn?Be:Je;we[Xt]>ae[Xt]&&(ze=Qr(ze));var Pn=Qr(ze),Nn=[];if(x&&Nn.push(Yt[Ft]<=0),j&&Nn.push(Yt[ze]<=0,Yt[Pn]<=0),Nn.every(function(Ne){return Ne})){Pe=Ke,Ie=!1;break}me.set(Ke,Nn)}if(Ie)for(var Hi=function(Ne){var Rt=ue.find(function(Zt){var Sr=me.get(Zt);if(Sr)return Sr.slice(0,Ne).every(function(oa){return oa})});if(Rt)return Pe=Rt,"break"},ot=re?3:1;ot>0&&Hi(ot)!=="break";ot--);a.placement!==Pe&&(a.modifiersData[y]._skip=!0,a.placement=Pe,a.reset=!0)}},requiresIfExists:["offset"],data:{_skip:!1}};function Ds(g,a,d){return d===void 0&&(d={x:0,y:0}),{top:g.top-a.height-d.y,right:g.right-a.width+d.x,bottom:g.bottom-a.height+d.y,left:g.left-a.width-d.x}}function zo(g){return[Je,_t,Be,st].some(function(a){return g[a]>=0})}const Ir={name:"hide",enabled:!0,phase:"main",requiresIfExists:["preventOverflow"],fn:function(g){var a=g.state,d=g.name,y=a.rects.reference,N=a.rects.popper,x=a.modifiersData.preventOverflow,M=dn(a,{elementContext:"reference"}),j=dn(a,{altBoundary:!0}),q=Ds(M,y),K=Ds(j,N,x),J=zo(q),W=zo(K);a.modifiersData[d]={referenceClippingOffsets:q,popperEscapeOffsets:K,isReferenceHidden:J,hasPopperEscaped:W},a.attributes.popper=Object.assign({},a.attributes.popper,{"data-popper-reference-hidden":J,"data-popper-escaped":W})}},Ls={name:"offset",enabled:!0,phase:"main",requires:["popperOffsets"],fn:function(g){var a=g.state,d=g.options,y=g.name,N=d.offset,x=N===void 0?[0,0]:N,M=ln.reduce(function(J,W){return J[W]=function(se,Z,re){var te=St(se),ie=[st,Je].indexOf(te)>=0?-1:1,Re=typeof re=="function"?re(Object.assign({},Z,{placement:se})):re,Oe=Re[0],ue=Re[1];return Oe=Oe||0,ue=(ue||0)*ie,[st,_t].indexOf(te)>=0?{x:ue,y:Oe}:{x:Oe,y:ue}}(W,a.rects,x),J},{}),j=M[a.placement],q=j.x,K=j.y;a.modifiersData.popperOffsets!=null&&(a.modifiersData.popperOffsets.x+=q,a.modifiersData.popperOffsets.y+=K),a.modifiersData[y]=M}},Zr={name:"popperOffsets",enabled:!0,phase:"read",fn:function(g){var a=g.state,d=g.name;a.modifiersData[d]=Os({reference:a.rects.reference,element:a.rects.popper,strategy:"absolute",placement:a.placement})},data:{}},ei={name:"preventOverflow",enabled:!0,phase:"main",fn:function(g){var a=g.state,d=g.options,y=g.name,N=d.mainAxis,x=N===void 0||N,M=d.altAxis,j=M!==void 0&&M,q=d.boundary,K=d.rootBoundary,J=d.altBoundary,W=d.padding,se=d.tether,Z=se===void 0||se,re=d.tetherOffset,te=re===void 0?0:re,ie=dn(a,{boundary:q,rootBoundary:K,padding:W,altBoundary:J}),Re=St(a.placement),Oe=wr(a.placement),ue=!Oe,we=Di(Re),ae=we==="x"?"y":"x",me=a.modifiersData.popperOffsets,Ie=a.rects.reference,Pe=a.rects.popper,Ae=typeof te=="function"?te(Object.assign({},a.rects,{placement:a.placement})):te,Ke=typeof Ae=="number"?{mainAxis:Ae,altAxis:Ae}:Object.assign({mainAxis:0,altAxis:0},Ae),Ft=a.modifiersData.offset?a.modifiersData.offset[a.placement]:null,fn={x:0,y:0};if(me){if(x){var Ct,Xt=we==="y"?Je:st,Yt=we==="y"?Be:_t,ze=we==="y"?"height":"width",Pn=me[we],Nn=Pn+ie[Xt],Hi=Pn-ie[Yt],ot=Z?-Pe[ze]/2:0,Ne=Oe===In?Ie[ze]:Pe[ze],Rt=Oe===In?-Pe[ze]:-Ie[ze],Zt=a.elements.arrow,Sr=Z&&Zt?Rs(Zt):{width:0,height:0},oa=a.modifiersData["arrow#persistent"]?a.modifiersData["arrow#persistent"].padding:{top:0,right:0,bottom:0,left:0},uh=oa[Xt],hh=oa[Yt],aa=br(0,Ie[ze],Sr[ze]),e_=ue?Ie[ze]/2-ot-aa-uh-Ke.mainAxis:Ne-aa-uh-Ke.mainAxis,t_=ue?-Ie[ze]/2+ot+aa+hh+Ke.mainAxis:Rt+aa+hh+Ke.mainAxis,Fl=a.elements.arrow&&kt(a.elements.arrow),n_=Fl?we==="y"?Fl.clientTop||0:Fl.clientLeft||0:0,dh=(Ct=Ft==null?void 0:Ft[we])!=null?Ct:0,r_=Pn+t_-dh,fh=br(Z?Kr(Nn,Pn+e_-dh-n_):Nn,Pn,Z?Wt(Hi,r_):Hi);me[we]=fh,fn[we]=fh-Pn}if(j){var ph,i_=we==="x"?Je:st,s_=we==="x"?Be:_t,li=me[ae],la=ae==="y"?"height":"width",mh=li+ie[i_],gh=li-ie[s_],Ul=[Je,st].indexOf(Re)!==-1,_h=(ph=Ft==null?void 0:Ft[ae])!=null?ph:0,yh=Ul?mh:li-Ie[la]-Pe[la]-_h+Ke.altAxis,vh=Ul?li+Ie[la]+Pe[la]-_h-Ke.altAxis:gh,bh=Z&&Ul?function(o_,a_,$l){var wh=br(o_,a_,$l);return wh>$l?$l:wh}(yh,li,vh):br(Z?yh:mh,li,Z?vh:gh);me[ae]=bh,fn[ae]=bh-li}a.modifiersData[y]=fn}},requiresIfExists:["offset"]};function Ho(g,a,d){d===void 0&&(d=!1);var y,N,x=Nt(a),M=Nt(a)&&function(W){var se=W.getBoundingClientRect(),Z=ve(se.width)/W.offsetWidth||1,re=ve(se.height)/W.offsetHeight||1;return Z!==1||re!==1}(a),j=Sn(a),q=Gt(g,M,d),K={scrollLeft:0,scrollTop:0},J={x:0,y:0};return(x||!x&&!d)&&((qt(a)!=="body"||xe(j))&&(K=(y=a)!==yt(y)&&Nt(y)?{scrollLeft:(N=y).scrollLeft,scrollTop:N.scrollTop}:Mi(y)),Nt(a)?((J=Gt(a,!0)).x+=a.clientLeft,J.y+=a.clientTop):j&&(J.x=Xr(j))),{x:q.left+K.scrollLeft-J.x,y:q.top+K.scrollTop-J.y,width:q.width,height:q.height}}function Ui(g){var a=new Map,d=new Set,y=[];function N(x){d.add(x.name),[].concat(x.requires||[],x.requiresIfExists||[]).forEach(function(M){if(!d.has(M)){var j=a.get(M);j&&N(j)}}),y.push(x)}return g.forEach(function(x){a.set(x.name,x)}),g.forEach(function(x){d.has(x.name)||N(x)}),y}var qo={placement:"bottom",modifiers:[],strategy:"absolute"};function Vs(){for(var g=arguments.length,a=new Array(g),d=0;d<g;d++)a[d]=arguments[d];return!a.some(function(y){return!(y&&typeof y.getBoundingClientRect=="function")})}function Cn(g){g===void 0&&(g={});var a=g,d=a.defaultModifiers,y=d===void 0?[]:d,N=a.defaultOptions,x=N===void 0?qo:N;return function(M,j,q){q===void 0&&(q=x);var K,J,W={placement:"bottom",orderedModifiers:[],options:Object.assign({},qo,x),modifiersData:{},elements:{reference:M,popper:j},attributes:{},styles:{}},se=[],Z=!1,re={state:W,setOptions:function(ie){var Re=typeof ie=="function"?ie(W.options):ie;te(),W.options=Object.assign({},x,W.options,Re),W.scrollParents={reference:An(M)?Yr(M):M.contextElement?Yr(M.contextElement):[],popper:Yr(j)};var Oe,ue,we=function(ae){var me=Ui(ae);return Uo.reduce(function(Ie,Pe){return Ie.concat(me.filter(function(Ae){return Ae.phase===Pe}))},[])}((Oe=[].concat(y,W.options.modifiers),ue=Oe.reduce(function(ae,me){var Ie=ae[me.name];return ae[me.name]=Ie?Object.assign({},Ie,me,{options:Object.assign({},Ie.options,me.options),data:Object.assign({},Ie.data,me.data)}):me,ae},{}),Object.keys(ue).map(function(ae){return ue[ae]})));return W.orderedModifiers=we.filter(function(ae){return ae.enabled}),W.orderedModifiers.forEach(function(ae){var me=ae.name,Ie=ae.options,Pe=Ie===void 0?{}:Ie,Ae=ae.effect;if(typeof Ae=="function"){var Ke=Ae({state:W,name:me,instance:re,options:Pe});se.push(Ke||function(){})}}),re.update()},forceUpdate:function(){if(!Z){var ie=W.elements,Re=ie.reference,Oe=ie.popper;if(Vs(Re,Oe)){W.rects={reference:Ho(Re,kt(Oe),W.options.strategy==="fixed"),popper:Rs(Oe)},W.reset=!1,W.placement=W.options.placement,W.orderedModifiers.forEach(function(Ae){return W.modifiersData[Ae.name]=Object.assign({},Ae.data)});for(var ue=0;ue<W.orderedModifiers.length;ue++)if(W.reset!==!0){var we=W.orderedModifiers[ue],ae=we.fn,me=we.options,Ie=me===void 0?{}:me,Pe=we.name;typeof ae=="function"&&(W=ae({state:W,options:Ie,name:Pe,instance:re})||W)}else W.reset=!1,ue=-1}}},update:(K=function(){return new Promise(function(ie){re.forceUpdate(),ie(W)})},function(){return J||(J=new Promise(function(ie){Promise.resolve().then(function(){J=void 0,ie(K())})})),J}),destroy:function(){te(),Z=!0}};if(!Vs(M,j))return re;function te(){se.forEach(function(ie){return ie()}),se=[]}return re.setOptions(q).then(function(ie){!Z&&q.onFirstUpdate&&q.onFirstUpdate(ie)}),re}}var Wo=Cn(),Go=Cn({defaultModifiers:[Er,Zr,ks,Mt]}),ti=Cn({defaultModifiers:[Er,Zr,ks,Mt,Ls,Kt,ei,$o,Ir]});const $i=Object.freeze(Object.defineProperty({__proto__:null,afterMain:ki,afterRead:Ts,afterWrite:Cs,applyStyles:Mt,arrow:$o,auto:mr,basePlacements:Tn,beforeMain:Is,beforeRead:Ni,beforeWrite:xi,bottom:Be,clippingParents:Mo,computeStyles:ks,createPopper:ti,createPopperBase:Wo,createPopperLite:Go,detectOverflow:dn,end:Hn,eventListeners:Er,flip:Kt,hide:Ir,left:st,main:As,modifierPhases:Uo,offset:Ls,placements:ln,popper:qn,popperGenerator:Cn,popperOffsets:Zr,preventOverflow:ei,read:Fo,reference:Pi,right:_t,start:In,top:Je,variationPlacements:Wn,viewport:gr,write:Ss},Symbol.toStringTag,{value:"Module"})),Ms="dropdown",Qt=".bs.dropdown",ji=".data-api",Ko="ArrowUp",Rn="ArrowDown",Qo=`hide${Qt}`,Jo=`hidden${Qt}`,Xo=`show${Qt}`,Yo=`shown${Qt}`,ni=`click${Qt}${ji}`,vt=`keydown${Qt}${ji}`,Zo=`keyup${Qt}${ji}`,Kn="show",xt='[data-bs-toggle="dropdown"]:not(.disabled):not(:disabled)',o=`${xt}.${Kn}`,u=".dropdown-menu",p=D()?"top-end":"top-start",b=D()?"top-start":"top-end",O=D()?"bottom-end":"bottom-start",V=D()?"bottom-start":"bottom-end",H=D()?"left-start":"right-start",Te=D()?"right-start":"left-start",tt={autoClose:!0,boundary:"clippingParents",display:"dynamic",offset:[0,2],popperConfig:null,reference:"toggle"},ge={autoClose:"(boolean|string)",boundary:"(string|element)",display:"string",offset:"(array|string|function)",popperConfig:"(null|object|function)",reference:"(string|element|object)"};class Ce extends Le{constructor(a,d){super(a,d),this._popper=null,this._parent=this._element.parentNode,this._menu=Q.next(this._element,u)[0]||Q.prev(this._element,u)[0]||Q.findOne(u,this._parent),this._inNavbar=this._detectNavbar()}static get Default(){return tt}static get DefaultType(){return ge}static get NAME(){return Ms}toggle(){return this._isShown()?this.hide():this.show()}show(){if(E(this._element)||this._isShown())return;const a={relatedTarget:this._element};if(!$.trigger(this._element,Xo,a).defaultPrevented){if(this._createPopper(),"ontouchstart"in document.documentElement&&!this._parent.closest(".navbar-nav"))for(const d of[].concat(...document.body.children))$.on(d,"mouseover",I);this._element.focus(),this._element.setAttribute("aria-expanded",!0),this._menu.classList.add(Kn),this._element.classList.add(Kn),$.trigger(this._element,Yo,a)}}hide(){if(E(this._element)||!this._isShown())return;const a={relatedTarget:this._element};this._completeHide(a)}dispose(){this._popper&&this._popper.destroy(),super.dispose()}update(){this._inNavbar=this._detectNavbar(),this._popper&&this._popper.update()}_completeHide(a){if(!$.trigger(this._element,Qo,a).defaultPrevented){if("ontouchstart"in document.documentElement)for(const d of[].concat(...document.body.children))$.off(d,"mouseover",I);this._popper&&this._popper.destroy(),this._menu.classList.remove(Kn),this._element.classList.remove(Kn),this._element.setAttribute("aria-expanded","false"),je.removeDataAttribute(this._menu,"popper"),$.trigger(this._element,Jo,a)}}_getConfig(a){if(typeof(a=super._getConfig(a)).reference=="object"&&!c(a.reference)&&typeof a.reference.getBoundingClientRect!="function")throw new TypeError(`${Ms.toUpperCase()}: Option "reference" provided type "object" without a required "getBoundingClientRect" method.`);return a}_createPopper(){if($i===void 0)throw new TypeError("Bootstrap's dropdowns require Popper (https://popper.js.org)");let a=this._element;this._config.reference==="parent"?a=this._parent:c(this._config.reference)?a=h(this._config.reference):typeof this._config.reference=="object"&&(a=this._config.reference);const d=this._getPopperConfig();this._popper=ti(a,this._menu,d)}_isShown(){return this._menu.classList.contains(Kn)}_getPlacement(){const a=this._parent;if(a.classList.contains("dropend"))return H;if(a.classList.contains("dropstart"))return Te;if(a.classList.contains("dropup-center"))return"top";if(a.classList.contains("dropdown-center"))return"bottom";const d=getComputedStyle(this._menu).getPropertyValue("--bs-position").trim()==="end";return a.classList.contains("dropup")?d?b:p:d?V:O}_detectNavbar(){return this._element.closest(".navbar")!==null}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_getPopperConfig(){const a={placement:this._getPlacement(),modifiers:[{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"offset",options:{offset:this._getOffset()}}]};return(this._inNavbar||this._config.display==="static")&&(je.setDataAttribute(this._menu,"popper","static"),a.modifiers=[{name:"applyStyles",enabled:!1}]),{...a,...U(this._config.popperConfig,[a])}}_selectMenuItem({key:a,target:d}){const y=Q.find(".dropdown-menu .dropdown-item:not(.disabled):not(:disabled)",this._menu).filter(N=>f(N));y.length&&Y(y,d,a===Rn,!y.includes(d)).focus()}static jQueryInterface(a){return this.each(function(){const d=Ce.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}static clearMenus(a){if(a.button===2||a.type==="keyup"&&a.key!=="Tab")return;const d=Q.find(o);for(const y of d){const N=Ce.getInstance(y);if(!N||N._config.autoClose===!1)continue;const x=a.composedPath(),M=x.includes(N._menu);if(x.includes(N._element)||N._config.autoClose==="inside"&&!M||N._config.autoClose==="outside"&&M||N._menu.contains(a.target)&&(a.type==="keyup"&&a.key==="Tab"||/input|select|option|textarea|form/i.test(a.target.tagName)))continue;const j={relatedTarget:N._element};a.type==="click"&&(j.clickEvent=a),N._completeHide(j)}}static dataApiKeydownHandler(a){const d=/input|textarea/i.test(a.target.tagName),y=a.key==="Escape",N=[Ko,Rn].includes(a.key);if(!N&&!y||d&&!y)return;a.preventDefault();const x=this.matches(xt)?this:Q.prev(this,xt)[0]||Q.next(this,xt)[0]||Q.findOne(xt,a.delegateTarget.parentNode),M=Ce.getOrCreateInstance(x);if(N)return a.stopPropagation(),M.show(),void M._selectMenuItem(a);M._isShown()&&(a.stopPropagation(),M.hide(),x.focus())}}$.on(document,vt,xt,Ce.dataApiKeydownHandler),$.on(document,vt,u,Ce.dataApiKeydownHandler),$.on(document,ni,Ce.clearMenus),$.on(document,Zo,Ce.clearMenus),$.on(document,ni,xt,function(g){g.preventDefault(),Ce.getOrCreateInstance(this).toggle()}),L(Ce);const nt="backdrop",Qn="show",Ot=`mousedown.bs.${nt}`,Bi={className:"modal-backdrop",clickCallback:null,isAnimated:!1,isVisible:!0,rootElement:"body"},Fs={className:"string",clickCallback:"(function|null)",isAnimated:"boolean",isVisible:"boolean",rootElement:"(element|string)"};class Lu extends it{constructor(a){super(),this._config=this._getConfig(a),this._isAppended=!1,this._element=null}static get Default(){return Bi}static get DefaultType(){return Fs}static get NAME(){return nt}show(a){if(!this._config.isVisible)return void U(a);this._append();const d=this._getElement();this._config.isAnimated&&C(d),d.classList.add(Qn),this._emulateAnimation(()=>{U(a)})}hide(a){this._config.isVisible?(this._getElement().classList.remove(Qn),this._emulateAnimation(()=>{this.dispose(),U(a)})):U(a)}dispose(){this._isAppended&&($.off(this._element,Ot),this._element.remove(),this._isAppended=!1)}_getElement(){if(!this._element){const a=document.createElement("div");a.className=this._config.className,this._config.isAnimated&&a.classList.add("fade"),this._element=a}return this._element}_configAfterMerge(a){return a.rootElement=h(a.rootElement),a}_append(){if(this._isAppended)return;const a=this._getElement();this._config.rootElement.append(a),$.on(a,Ot,()=>{U(this._config.clickCallback)}),this._isAppended=!0}_emulateAnimation(a){G(a,this._getElement(),this._config.isAnimated)}}const ea=".bs.focustrap",Gm=`focusin${ea}`,Km=`keydown.tab${ea}`,Vu="backward",Qm={autofocus:!0,trapElement:null},Jm={autofocus:"boolean",trapElement:"element"};class Mu extends it{constructor(a){super(),this._config=this._getConfig(a),this._isActive=!1,this._lastTabNavDirection=null}static get Default(){return Qm}static get DefaultType(){return Jm}static get NAME(){return"focustrap"}activate(){this._isActive||(this._config.autofocus&&this._config.trapElement.focus(),$.off(document,ea),$.on(document,Gm,a=>this._handleFocusin(a)),$.on(document,Km,a=>this._handleKeydown(a)),this._isActive=!0)}deactivate(){this._isActive&&(this._isActive=!1,$.off(document,ea))}_handleFocusin(a){const{trapElement:d}=this._config;if(a.target===document||a.target===d||d.contains(a.target))return;const y=Q.focusableChildren(d);y.length===0?d.focus():this._lastTabNavDirection===Vu?y[y.length-1].focus():y[0].focus()}_handleKeydown(a){a.key==="Tab"&&(this._lastTabNavDirection=a.shiftKey?Vu:"forward")}}const Fu=".fixed-top, .fixed-bottom, .is-fixed, .sticky-top",Uu=".sticky-top",ta="padding-right",$u="margin-right";class Rl{constructor(){this._element=document.body}getWidth(){const a=document.documentElement.clientWidth;return Math.abs(window.innerWidth-a)}hide(){const a=this.getWidth();this._disableOverFlow(),this._setElementAttributes(this._element,ta,d=>d+a),this._setElementAttributes(Fu,ta,d=>d+a),this._setElementAttributes(Uu,$u,d=>d-a)}reset(){this._resetElementAttributes(this._element,"overflow"),this._resetElementAttributes(this._element,ta),this._resetElementAttributes(Fu,ta),this._resetElementAttributes(Uu,$u)}isOverflowing(){return this.getWidth()>0}_disableOverFlow(){this._saveInitialAttribute(this._element,"overflow"),this._element.style.overflow="hidden"}_setElementAttributes(a,d,y){const N=this.getWidth();this._applyManipulationCallback(a,x=>{if(x!==this._element&&window.innerWidth>x.clientWidth+N)return;this._saveInitialAttribute(x,d);const M=window.getComputedStyle(x).getPropertyValue(d);x.style.setProperty(d,`${y(Number.parseFloat(M))}px`)})}_saveInitialAttribute(a,d){const y=a.style.getPropertyValue(d);y&&je.setDataAttribute(a,d,y)}_resetElementAttributes(a,d){this._applyManipulationCallback(a,y=>{const N=je.getDataAttribute(y,d);N!==null?(je.removeDataAttribute(y,d),y.style.setProperty(d,N)):y.style.removeProperty(d)})}_applyManipulationCallback(a,d){if(c(a))d(a);else for(const y of Q.find(a,this._element))d(y)}}const Jt=".bs.modal",Xm=`hide${Jt}`,Ym=`hidePrevented${Jt}`,ju=`hidden${Jt}`,Bu=`show${Jt}`,Zm=`shown${Jt}`,eg=`resize${Jt}`,tg=`click.dismiss${Jt}`,ng=`mousedown.dismiss${Jt}`,rg=`keydown.dismiss${Jt}`,ig=`click${Jt}.data-api`,zu="modal-open",Hu="show",Pl="modal-static",sg={backdrop:!0,focus:!0,keyboard:!0},og={backdrop:"(boolean|string)",focus:"boolean",keyboard:"boolean"};class ri extends Le{constructor(a,d){super(a,d),this._dialog=Q.findOne(".modal-dialog",this._element),this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._isShown=!1,this._isTransitioning=!1,this._scrollBar=new Rl,this._addEventListeners()}static get Default(){return sg}static get DefaultType(){return og}static get NAME(){return"modal"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||this._isTransitioning||$.trigger(this._element,Bu,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._isTransitioning=!0,this._scrollBar.hide(),document.body.classList.add(zu),this._adjustDialog(),this._backdrop.show(()=>this._showElement(a)))}hide(){this._isShown&&!this._isTransitioning&&($.trigger(this._element,Xm).defaultPrevented||(this._isShown=!1,this._isTransitioning=!0,this._focustrap.deactivate(),this._element.classList.remove(Hu),this._queueCallback(()=>this._hideModal(),this._element,this._isAnimated())))}dispose(){$.off(window,Jt),$.off(this._dialog,Jt),this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}handleUpdate(){this._adjustDialog()}_initializeBackDrop(){return new Lu({isVisible:!!this._config.backdrop,isAnimated:this._isAnimated()})}_initializeFocusTrap(){return new Mu({trapElement:this._element})}_showElement(a){document.body.contains(this._element)||document.body.append(this._element),this._element.style.display="block",this._element.removeAttribute("aria-hidden"),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.scrollTop=0;const d=Q.findOne(".modal-body",this._dialog);d&&(d.scrollTop=0),C(this._element),this._element.classList.add(Hu),this._queueCallback(()=>{this._config.focus&&this._focustrap.activate(),this._isTransitioning=!1,$.trigger(this._element,Zm,{relatedTarget:a})},this._dialog,this._isAnimated())}_addEventListeners(){$.on(this._element,rg,a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():this._triggerBackdropTransition())}),$.on(window,eg,()=>{this._isShown&&!this._isTransitioning&&this._adjustDialog()}),$.on(this._element,ng,a=>{$.one(this._element,tg,d=>{this._element===a.target&&this._element===d.target&&(this._config.backdrop!=="static"?this._config.backdrop&&this.hide():this._triggerBackdropTransition())})})}_hideModal(){this._element.style.display="none",this._element.setAttribute("aria-hidden",!0),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._isTransitioning=!1,this._backdrop.hide(()=>{document.body.classList.remove(zu),this._resetAdjustments(),this._scrollBar.reset(),$.trigger(this._element,ju)})}_isAnimated(){return this._element.classList.contains("fade")}_triggerBackdropTransition(){if($.trigger(this._element,Ym).defaultPrevented)return;const a=this._element.scrollHeight>document.documentElement.clientHeight,d=this._element.style.overflowY;d==="hidden"||this._element.classList.contains(Pl)||(a||(this._element.style.overflowY="hidden"),this._element.classList.add(Pl),this._queueCallback(()=>{this._element.classList.remove(Pl),this._queueCallback(()=>{this._element.style.overflowY=d},this._dialog)},this._dialog),this._element.focus())}_adjustDialog(){const a=this._element.scrollHeight>document.documentElement.clientHeight,d=this._scrollBar.getWidth(),y=d>0;if(y&&!a){const N=D()?"paddingLeft":"paddingRight";this._element.style[N]=`${d}px`}if(!y&&a){const N=D()?"paddingRight":"paddingLeft";this._element.style[N]=`${d}px`}}_resetAdjustments(){this._element.style.paddingLeft="",this._element.style.paddingRight=""}static jQueryInterface(a,d){return this.each(function(){const y=ri.getOrCreateInstance(this,a);if(typeof a=="string"){if(y[a]===void 0)throw new TypeError(`No method named "${a}"`);y[a](d)}})}}$.on(document,ig,'[data-bs-toggle="modal"]',function(g){const a=Q.getElementFromSelector(this);["A","AREA"].includes(this.tagName)&&g.preventDefault(),$.one(a,Bu,y=>{y.defaultPrevented||$.one(a,ju,()=>{f(this)&&this.focus()})});const d=Q.findOne(".modal.show");d&&ri.getInstance(d).hide(),ri.getOrCreateInstance(a).toggle(this)}),gt(ri),L(ri);const Jn=".bs.offcanvas",qu=".data-api",ag=`load${Jn}${qu}`,Wu="show",Gu="showing",Ku="hiding",Qu=".offcanvas.show",lg=`show${Jn}`,cg=`shown${Jn}`,ug=`hide${Jn}`,Ju=`hidePrevented${Jn}`,Xu=`hidden${Jn}`,hg=`resize${Jn}`,dg=`click${Jn}${qu}`,fg=`keydown.dismiss${Jn}`,pg={backdrop:!0,keyboard:!0,scroll:!1},mg={backdrop:"(boolean|string)",keyboard:"boolean",scroll:"boolean"};class Xn extends Le{constructor(a,d){super(a,d),this._isShown=!1,this._backdrop=this._initializeBackDrop(),this._focustrap=this._initializeFocusTrap(),this._addEventListeners()}static get Default(){return pg}static get DefaultType(){return mg}static get NAME(){return"offcanvas"}toggle(a){return this._isShown?this.hide():this.show(a)}show(a){this._isShown||$.trigger(this._element,lg,{relatedTarget:a}).defaultPrevented||(this._isShown=!0,this._backdrop.show(),this._config.scroll||new Rl().hide(),this._element.setAttribute("aria-modal",!0),this._element.setAttribute("role","dialog"),this._element.classList.add(Gu),this._queueCallback(()=>{this._config.scroll&&!this._config.backdrop||this._focustrap.activate(),this._element.classList.add(Wu),this._element.classList.remove(Gu),$.trigger(this._element,cg,{relatedTarget:a})},this._element,!0))}hide(){this._isShown&&($.trigger(this._element,ug).defaultPrevented||(this._focustrap.deactivate(),this._element.blur(),this._isShown=!1,this._element.classList.add(Ku),this._backdrop.hide(),this._queueCallback(()=>{this._element.classList.remove(Wu,Ku),this._element.removeAttribute("aria-modal"),this._element.removeAttribute("role"),this._config.scroll||new Rl().reset(),$.trigger(this._element,Xu)},this._element,!0)))}dispose(){this._backdrop.dispose(),this._focustrap.deactivate(),super.dispose()}_initializeBackDrop(){const a=!!this._config.backdrop;return new Lu({className:"offcanvas-backdrop",isVisible:a,isAnimated:!0,rootElement:this._element.parentNode,clickCallback:a?()=>{this._config.backdrop!=="static"?this.hide():$.trigger(this._element,Ju)}:null})}_initializeFocusTrap(){return new Mu({trapElement:this._element})}_addEventListeners(){$.on(this._element,fg,a=>{a.key==="Escape"&&(this._config.keyboard?this.hide():$.trigger(this._element,Ju))})}static jQueryInterface(a){return this.each(function(){const d=Xn.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a](this)}})}}$.on(document,dg,'[data-bs-toggle="offcanvas"]',function(g){const a=Q.getElementFromSelector(this);if(["A","AREA"].includes(this.tagName)&&g.preventDefault(),E(this))return;$.one(a,Xu,()=>{f(this)&&this.focus()});const d=Q.findOne(Qu);d&&d!==a&&Xn.getInstance(d).hide(),Xn.getOrCreateInstance(a).toggle(this)}),$.on(window,ag,()=>{for(const g of Q.find(Qu))Xn.getOrCreateInstance(g).show()}),$.on(window,hg,()=>{for(const g of Q.find("[aria-modal][class*=show][class*=offcanvas-]"))getComputedStyle(g).position!=="fixed"&&Xn.getOrCreateInstance(g).hide()}),gt(Xn),L(Xn);const Yu={"*":["class","dir","id","lang","role",/^aria-[\w-]*$/i],a:["target","href","title","rel"],area:[],b:[],br:[],col:[],code:[],dd:[],div:[],dl:[],dt:[],em:[],hr:[],h1:[],h2:[],h3:[],h4:[],h5:[],h6:[],i:[],img:["src","srcset","alt","title","width","height"],li:[],ol:[],p:[],pre:[],s:[],small:[],span:[],sub:[],sup:[],strong:[],u:[],ul:[]},gg=new Set(["background","cite","href","itemtype","longdesc","poster","src","xlink:href"]),_g=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:/?#]*(?:[/?#]|$))/i,yg=(g,a)=>{const d=g.nodeName.toLowerCase();return a.includes(d)?!gg.has(d)||!!_g.test(g.nodeValue):a.filter(y=>y instanceof RegExp).some(y=>y.test(d))},vg={allowList:Yu,content:{},extraClass:"",html:!1,sanitize:!0,sanitizeFn:null,template:"<div></div>"},bg={allowList:"object",content:"object",extraClass:"(string|function)",html:"boolean",sanitize:"boolean",sanitizeFn:"(null|function)",template:"string"},wg={entry:"(string|element|function|null)",selector:"(string|element)"};class Eg extends it{constructor(a){super(),this._config=this._getConfig(a)}static get Default(){return vg}static get DefaultType(){return bg}static get NAME(){return"TemplateFactory"}getContent(){return Object.values(this._config.content).map(a=>this._resolvePossibleFunction(a)).filter(Boolean)}hasContent(){return this.getContent().length>0}changeContent(a){return this._checkContent(a),this._config.content={...this._config.content,...a},this}toHtml(){const a=document.createElement("div");a.innerHTML=this._maybeSanitize(this._config.template);for(const[N,x]of Object.entries(this._config.content))this._setContent(a,x,N);const d=a.children[0],y=this._resolvePossibleFunction(this._config.extraClass);return y&&d.classList.add(...y.split(" ")),d}_typeCheckConfig(a){super._typeCheckConfig(a),this._checkContent(a.content)}_checkContent(a){for(const[d,y]of Object.entries(a))super._typeCheckConfig({selector:d,entry:y},wg)}_setContent(a,d,y){const N=Q.findOne(y,a);N&&((d=this._resolvePossibleFunction(d))?c(d)?this._putElementInTemplate(h(d),N):this._config.html?N.innerHTML=this._maybeSanitize(d):N.textContent=d:N.remove())}_maybeSanitize(a){return this._config.sanitize?function(d,y,N){if(!d.length)return d;if(N&&typeof N=="function")return N(d);const x=new window.DOMParser().parseFromString(d,"text/html"),M=[].concat(...x.body.querySelectorAll("*"));for(const j of M){const q=j.nodeName.toLowerCase();if(!Object.keys(y).includes(q)){j.remove();continue}const K=[].concat(...j.attributes),J=[].concat(y["*"]||[],y[q]||[]);for(const W of K)yg(W,J)||j.removeAttribute(W.nodeName)}return x.body.innerHTML}(a,this._config.allowList,this._config.sanitizeFn):a}_resolvePossibleFunction(a){return U(a,[this])}_putElementInTemplate(a,d){if(this._config.html)return d.innerHTML="",void d.append(a);d.textContent=a.textContent}}const Tg=new Set(["sanitize","allowList","sanitizeFn"]),Nl="fade",na="show",Zu=".modal",eh="hide.bs.modal",Us="hover",kl="focus",Ig={AUTO:"auto",TOP:"top",RIGHT:D()?"left":"right",BOTTOM:"bottom",LEFT:D()?"right":"left"},Ag={allowList:Yu,animation:!0,boundary:"clippingParents",container:!1,customClass:"",delay:0,fallbackPlacements:["top","right","bottom","left"],html:!1,offset:[0,6],placement:"top",popperConfig:null,sanitize:!0,sanitizeFn:null,selector:!1,template:'<div class="tooltip" role="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',title:"",trigger:"hover focus"},Sg={allowList:"object",animation:"boolean",boundary:"(string|element)",container:"(string|element|boolean)",customClass:"(string|function)",delay:"(number|object)",fallbackPlacements:"array",html:"boolean",offset:"(array|string|function)",placement:"(string|function)",popperConfig:"(null|object|function)",sanitize:"boolean",sanitizeFn:"(null|function)",selector:"(string|boolean)",template:"string",title:"(string|element|function)",trigger:"string"};class ii extends Le{constructor(a,d){if($i===void 0)throw new TypeError("Bootstrap's tooltips require Popper (https://popper.js.org)");super(a,d),this._isEnabled=!0,this._timeout=0,this._isHovered=null,this._activeTrigger={},this._popper=null,this._templateFactory=null,this._newContent=null,this.tip=null,this._setListeners(),this._config.selector||this._fixTitle()}static get Default(){return Ag}static get DefaultType(){return Sg}static get NAME(){return"tooltip"}enable(){this._isEnabled=!0}disable(){this._isEnabled=!1}toggleEnabled(){this._isEnabled=!this._isEnabled}toggle(){this._isEnabled&&(this._activeTrigger.click=!this._activeTrigger.click,this._isShown()?this._leave():this._enter())}dispose(){clearTimeout(this._timeout),$.off(this._element.closest(Zu),eh,this._hideModalHandler),this._element.getAttribute("data-bs-original-title")&&this._element.setAttribute("title",this._element.getAttribute("data-bs-original-title")),this._disposePopper(),super.dispose()}show(){if(this._element.style.display==="none")throw new Error("Please use show on visible elements");if(!this._isWithContent()||!this._isEnabled)return;const a=$.trigger(this._element,this.constructor.eventName("show")),d=(_(this._element)||this._element.ownerDocument.documentElement).contains(this._element);if(a.defaultPrevented||!d)return;this._disposePopper();const y=this._getTipElement();this._element.setAttribute("aria-describedby",y.getAttribute("id"));const{container:N}=this._config;if(this._element.ownerDocument.documentElement.contains(this.tip)||(N.append(y),$.trigger(this._element,this.constructor.eventName("inserted"))),this._popper=this._createPopper(y),y.classList.add(na),"ontouchstart"in document.documentElement)for(const x of[].concat(...document.body.children))$.on(x,"mouseover",I);this._queueCallback(()=>{$.trigger(this._element,this.constructor.eventName("shown")),this._isHovered===!1&&this._leave(),this._isHovered=!1},this.tip,this._isAnimated())}hide(){if(this._isShown()&&!$.trigger(this._element,this.constructor.eventName("hide")).defaultPrevented){if(this._getTipElement().classList.remove(na),"ontouchstart"in document.documentElement)for(const a of[].concat(...document.body.children))$.off(a,"mouseover",I);this._activeTrigger.click=!1,this._activeTrigger[kl]=!1,this._activeTrigger[Us]=!1,this._isHovered=null,this._queueCallback(()=>{this._isWithActiveTrigger()||(this._isHovered||this._disposePopper(),this._element.removeAttribute("aria-describedby"),$.trigger(this._element,this.constructor.eventName("hidden")))},this.tip,this._isAnimated())}}update(){this._popper&&this._popper.update()}_isWithContent(){return!!this._getTitle()}_getTipElement(){return this.tip||(this.tip=this._createTipElement(this._newContent||this._getContentForTemplate())),this.tip}_createTipElement(a){const d=this._getTemplateFactory(a).toHtml();if(!d)return null;d.classList.remove(Nl,na),d.classList.add(`bs-${this.constructor.NAME}-auto`);const y=(N=>{do N+=Math.floor(1e6*Math.random());while(document.getElementById(N));return N})(this.constructor.NAME).toString();return d.setAttribute("id",y),this._isAnimated()&&d.classList.add(Nl),d}setContent(a){this._newContent=a,this._isShown()&&(this._disposePopper(),this.show())}_getTemplateFactory(a){return this._templateFactory?this._templateFactory.changeContent(a):this._templateFactory=new Eg({...this._config,content:a,extraClass:this._resolvePossibleFunction(this._config.customClass)}),this._templateFactory}_getContentForTemplate(){return{".tooltip-inner":this._getTitle()}}_getTitle(){return this._resolvePossibleFunction(this._config.title)||this._element.getAttribute("data-bs-original-title")}_initializeOnDelegatedTarget(a){return this.constructor.getOrCreateInstance(a.delegateTarget,this._getDelegateConfig())}_isAnimated(){return this._config.animation||this.tip&&this.tip.classList.contains(Nl)}_isShown(){return this.tip&&this.tip.classList.contains(na)}_createPopper(a){const d=U(this._config.placement,[this,a,this._element]),y=Ig[d.toUpperCase()];return ti(this._element,a,this._getPopperConfig(y))}_getOffset(){const{offset:a}=this._config;return typeof a=="string"?a.split(",").map(d=>Number.parseInt(d,10)):typeof a=="function"?d=>a(d,this._element):a}_resolvePossibleFunction(a){return U(a,[this._element])}_getPopperConfig(a){const d={placement:a,modifiers:[{name:"flip",options:{fallbackPlacements:this._config.fallbackPlacements}},{name:"offset",options:{offset:this._getOffset()}},{name:"preventOverflow",options:{boundary:this._config.boundary}},{name:"arrow",options:{element:`.${this.constructor.NAME}-arrow`}},{name:"preSetPlacement",enabled:!0,phase:"beforeMain",fn:y=>{this._getTipElement().setAttribute("data-popper-placement",y.state.placement)}}]};return{...d,...U(this._config.popperConfig,[d])}}_setListeners(){const a=this._config.trigger.split(" ");for(const d of a)if(d==="click")$.on(this._element,this.constructor.eventName("click"),this._config.selector,y=>{this._initializeOnDelegatedTarget(y).toggle()});else if(d!=="manual"){const y=d===Us?this.constructor.eventName("mouseenter"):this.constructor.eventName("focusin"),N=d===Us?this.constructor.eventName("mouseleave"):this.constructor.eventName("focusout");$.on(this._element,y,this._config.selector,x=>{const M=this._initializeOnDelegatedTarget(x);M._activeTrigger[x.type==="focusin"?kl:Us]=!0,M._enter()}),$.on(this._element,N,this._config.selector,x=>{const M=this._initializeOnDelegatedTarget(x);M._activeTrigger[x.type==="focusout"?kl:Us]=M._element.contains(x.relatedTarget),M._leave()})}this._hideModalHandler=()=>{this._element&&this.hide()},$.on(this._element.closest(Zu),eh,this._hideModalHandler)}_fixTitle(){const a=this._element.getAttribute("title");a&&(this._element.getAttribute("aria-label")||this._element.textContent.trim()||this._element.setAttribute("aria-label",a),this._element.setAttribute("data-bs-original-title",a),this._element.removeAttribute("title"))}_enter(){this._isShown()||this._isHovered?this._isHovered=!0:(this._isHovered=!0,this._setTimeout(()=>{this._isHovered&&this.show()},this._config.delay.show))}_leave(){this._isWithActiveTrigger()||(this._isHovered=!1,this._setTimeout(()=>{this._isHovered||this.hide()},this._config.delay.hide))}_setTimeout(a,d){clearTimeout(this._timeout),this._timeout=setTimeout(a,d)}_isWithActiveTrigger(){return Object.values(this._activeTrigger).includes(!0)}_getConfig(a){const d=je.getDataAttributes(this._element);for(const y of Object.keys(d))Tg.has(y)&&delete d[y];return a={...d,...typeof a=="object"&&a?a:{}},a=this._mergeConfigObj(a),a=this._configAfterMerge(a),this._typeCheckConfig(a),a}_configAfterMerge(a){return a.container=a.container===!1?document.body:h(a.container),typeof a.delay=="number"&&(a.delay={show:a.delay,hide:a.delay}),typeof a.title=="number"&&(a.title=a.title.toString()),typeof a.content=="number"&&(a.content=a.content.toString()),a}_getDelegateConfig(){const a={};for(const[d,y]of Object.entries(this._config))this.constructor.Default[d]!==y&&(a[d]=y);return a.selector=!1,a.trigger="manual",a}_disposePopper(){this._popper&&(this._popper.destroy(),this._popper=null),this.tip&&(this.tip.remove(),this.tip=null)}static jQueryInterface(a){return this.each(function(){const d=ii.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}}L(ii);const Cg={...ii.Default,content:"",offset:[0,8],placement:"right",template:'<div class="popover" role="tooltip"><div class="popover-arrow"></div><h3 class="popover-header"></h3><div class="popover-body"></div></div>',trigger:"click"},Rg={...ii.DefaultType,content:"(null|string|element|function)"};class ra extends ii{static get Default(){return Cg}static get DefaultType(){return Rg}static get NAME(){return"popover"}_isWithContent(){return this._getTitle()||this._getContent()}_getContentForTemplate(){return{".popover-header":this._getTitle(),".popover-body":this._getContent()}}_getContent(){return this._resolvePossibleFunction(this._config.content)}static jQueryInterface(a){return this.each(function(){const d=ra.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a]()}})}}L(ra);const xl=".bs.scrollspy",Pg=`activate${xl}`,th=`click${xl}`,Ng=`load${xl}.data-api`,zi="active",Ol="[href]",nh=".nav-link",kg=`${nh}, .nav-item > ${nh}, .list-group-item`,xg={offset:null,rootMargin:"0px 0px -25%",smoothScroll:!1,target:null,threshold:[.1,.5,1]},Og={offset:"(number|null)",rootMargin:"string",smoothScroll:"boolean",target:"element",threshold:"array"};class $s extends Le{constructor(a,d){super(a,d),this._targetLinks=new Map,this._observableSections=new Map,this._rootElement=getComputedStyle(this._element).overflowY==="visible"?null:this._element,this._activeTarget=null,this._observer=null,this._previousScrollData={visibleEntryTop:0,parentScrollTop:0},this.refresh()}static get Default(){return xg}static get DefaultType(){return Og}static get NAME(){return"scrollspy"}refresh(){this._initializeTargetsAndObservables(),this._maybeEnableSmoothScroll(),this._observer?this._observer.disconnect():this._observer=this._getNewObserver();for(const a of this._observableSections.values())this._observer.observe(a)}dispose(){this._observer.disconnect(),super.dispose()}_configAfterMerge(a){return a.target=h(a.target)||document.body,a.rootMargin=a.offset?`${a.offset}px 0px -30%`:a.rootMargin,typeof a.threshold=="string"&&(a.threshold=a.threshold.split(",").map(d=>Number.parseFloat(d))),a}_maybeEnableSmoothScroll(){this._config.smoothScroll&&($.off(this._config.target,th),$.on(this._config.target,th,Ol,a=>{const d=this._observableSections.get(a.target.hash);if(d){a.preventDefault();const y=this._rootElement||window,N=d.offsetTop-this._element.offsetTop;if(y.scrollTo)return void y.scrollTo({top:N,behavior:"smooth"});y.scrollTop=N}}))}_getNewObserver(){const a={root:this._rootElement,threshold:this._config.threshold,rootMargin:this._config.rootMargin};return new IntersectionObserver(d=>this._observerCallback(d),a)}_observerCallback(a){const d=M=>this._targetLinks.get(`#${M.target.id}`),y=M=>{this._previousScrollData.visibleEntryTop=M.target.offsetTop,this._process(d(M))},N=(this._rootElement||document.documentElement).scrollTop,x=N>=this._previousScrollData.parentScrollTop;this._previousScrollData.parentScrollTop=N;for(const M of a){if(!M.isIntersecting){this._activeTarget=null,this._clearActiveClass(d(M));continue}const j=M.target.offsetTop>=this._previousScrollData.visibleEntryTop;if(x&&j){if(y(M),!N)return}else x||j||y(M)}}_initializeTargetsAndObservables(){this._targetLinks=new Map,this._observableSections=new Map;const a=Q.find(Ol,this._config.target);for(const d of a){if(!d.hash||E(d))continue;const y=Q.findOne(decodeURI(d.hash),this._element);f(y)&&(this._targetLinks.set(decodeURI(d.hash),d),this._observableSections.set(d.hash,y))}}_process(a){this._activeTarget!==a&&(this._clearActiveClass(this._config.target),this._activeTarget=a,a.classList.add(zi),this._activateParents(a),$.trigger(this._element,Pg,{relatedTarget:a}))}_activateParents(a){if(a.classList.contains("dropdown-item"))Q.findOne(".dropdown-toggle",a.closest(".dropdown")).classList.add(zi);else for(const d of Q.parents(a,".nav, .list-group"))for(const y of Q.prev(d,kg))y.classList.add(zi)}_clearActiveClass(a){a.classList.remove(zi);const d=Q.find(`${Ol}.${zi}`,a);for(const y of d)y.classList.remove(zi)}static jQueryInterface(a){return this.each(function(){const d=$s.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}$.on(window,Ng,()=>{for(const g of Q.find('[data-bs-spy="scroll"]'))$s.getOrCreateInstance(g)}),L($s);const si=".bs.tab",Dg=`hide${si}`,Lg=`hidden${si}`,Vg=`show${si}`,Mg=`shown${si}`,Fg=`click${si}`,Ug=`keydown${si}`,$g=`load${si}`,jg="ArrowLeft",rh="ArrowRight",Bg="ArrowUp",ih="ArrowDown",Dl="Home",sh="End",oi="active",oh="fade",Ll="show",ah=".dropdown-toggle",Vl=`:not(${ah})`,lh='[data-bs-toggle="tab"], [data-bs-toggle="pill"], [data-bs-toggle="list"]',Ml=`.nav-link${Vl}, .list-group-item${Vl}, [role="tab"]${Vl}, ${lh}`,zg=`.${oi}[data-bs-toggle="tab"], .${oi}[data-bs-toggle="pill"], .${oi}[data-bs-toggle="list"]`;class ai extends Le{constructor(a){super(a),this._parent=this._element.closest('.list-group, .nav, [role="tablist"]'),this._parent&&(this._setInitialAttributes(this._parent,this._getChildren()),$.on(this._element,Ug,d=>this._keydown(d)))}static get NAME(){return"tab"}show(){const a=this._element;if(this._elemIsActive(a))return;const d=this._getActiveElem(),y=d?$.trigger(d,Dg,{relatedTarget:a}):null;$.trigger(a,Vg,{relatedTarget:d}).defaultPrevented||y&&y.defaultPrevented||(this._deactivate(d,a),this._activate(a,d))}_activate(a,d){a&&(a.classList.add(oi),this._activate(Q.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.removeAttribute("tabindex"),a.setAttribute("aria-selected",!0),this._toggleDropDown(a,!0),$.trigger(a,Mg,{relatedTarget:d})):a.classList.add(Ll)},a,a.classList.contains(oh)))}_deactivate(a,d){a&&(a.classList.remove(oi),a.blur(),this._deactivate(Q.getElementFromSelector(a)),this._queueCallback(()=>{a.getAttribute("role")==="tab"?(a.setAttribute("aria-selected",!1),a.setAttribute("tabindex","-1"),this._toggleDropDown(a,!1),$.trigger(a,Lg,{relatedTarget:d})):a.classList.remove(Ll)},a,a.classList.contains(oh)))}_keydown(a){if(![jg,rh,Bg,ih,Dl,sh].includes(a.key))return;a.stopPropagation(),a.preventDefault();const d=this._getChildren().filter(N=>!E(N));let y;if([Dl,sh].includes(a.key))y=d[a.key===Dl?0:d.length-1];else{const N=[rh,ih].includes(a.key);y=Y(d,a.target,N,!0)}y&&(y.focus({preventScroll:!0}),ai.getOrCreateInstance(y).show())}_getChildren(){return Q.find(Ml,this._parent)}_getActiveElem(){return this._getChildren().find(a=>this._elemIsActive(a))||null}_setInitialAttributes(a,d){this._setAttributeIfNotExists(a,"role","tablist");for(const y of d)this._setInitialAttributesOnChild(y)}_setInitialAttributesOnChild(a){a=this._getInnerElement(a);const d=this._elemIsActive(a),y=this._getOuterElement(a);a.setAttribute("aria-selected",d),y!==a&&this._setAttributeIfNotExists(y,"role","presentation"),d||a.setAttribute("tabindex","-1"),this._setAttributeIfNotExists(a,"role","tab"),this._setInitialAttributesOnTargetPanel(a)}_setInitialAttributesOnTargetPanel(a){const d=Q.getElementFromSelector(a);d&&(this._setAttributeIfNotExists(d,"role","tabpanel"),a.id&&this._setAttributeIfNotExists(d,"aria-labelledby",`${a.id}`))}_toggleDropDown(a,d){const y=this._getOuterElement(a);if(!y.classList.contains("dropdown"))return;const N=(x,M)=>{const j=Q.findOne(x,y);j&&j.classList.toggle(M,d)};N(ah,oi),N(".dropdown-menu",Ll),y.setAttribute("aria-expanded",d)}_setAttributeIfNotExists(a,d,y){a.hasAttribute(d)||a.setAttribute(d,y)}_elemIsActive(a){return a.classList.contains(oi)}_getInnerElement(a){return a.matches(Ml)?a:Q.findOne(Ml,a)}_getOuterElement(a){return a.closest(".nav-item, .list-group-item")||a}static jQueryInterface(a){return this.each(function(){const d=ai.getOrCreateInstance(this);if(typeof a=="string"){if(d[a]===void 0||a.startsWith("_")||a==="constructor")throw new TypeError(`No method named "${a}"`);d[a]()}})}}$.on(document,Fg,lh,function(g){["A","AREA"].includes(this.tagName)&&g.preventDefault(),E(this)||ai.getOrCreateInstance(this).show()}),$.on(window,$g,()=>{for(const g of Q.find(zg))ai.getOrCreateInstance(g)}),L(ai);const Ar=".bs.toast",Hg=`mouseover${Ar}`,qg=`mouseout${Ar}`,Wg=`focusin${Ar}`,Gg=`focusout${Ar}`,Kg=`hide${Ar}`,Qg=`hidden${Ar}`,Jg=`show${Ar}`,Xg=`shown${Ar}`,ch="hide",ia="show",sa="showing",Yg={animation:"boolean",autohide:"boolean",delay:"number"},Zg={animation:!0,autohide:!0,delay:5e3};class js extends Le{constructor(a,d){super(a,d),this._timeout=null,this._hasMouseInteraction=!1,this._hasKeyboardInteraction=!1,this._setListeners()}static get Default(){return Zg}static get DefaultType(){return Yg}static get NAME(){return"toast"}show(){$.trigger(this._element,Jg).defaultPrevented||(this._clearTimeout(),this._config.animation&&this._element.classList.add("fade"),this._element.classList.remove(ch),C(this._element),this._element.classList.add(ia,sa),this._queueCallback(()=>{this._element.classList.remove(sa),$.trigger(this._element,Xg),this._maybeScheduleHide()},this._element,this._config.animation))}hide(){this.isShown()&&($.trigger(this._element,Kg).defaultPrevented||(this._element.classList.add(sa),this._queueCallback(()=>{this._element.classList.add(ch),this._element.classList.remove(sa,ia),$.trigger(this._element,Qg)},this._element,this._config.animation)))}dispose(){this._clearTimeout(),this.isShown()&&this._element.classList.remove(ia),super.dispose()}isShown(){return this._element.classList.contains(ia)}_maybeScheduleHide(){this._config.autohide&&(this._hasMouseInteraction||this._hasKeyboardInteraction||(this._timeout=setTimeout(()=>{this.hide()},this._config.delay)))}_onInteraction(a,d){switch(a.type){case"mouseover":case"mouseout":this._hasMouseInteraction=d;break;case"focusin":case"focusout":this._hasKeyboardInteraction=d}if(d)return void this._clearTimeout();const y=a.relatedTarget;this._element===y||this._element.contains(y)||this._maybeScheduleHide()}_setListeners(){$.on(this._element,Hg,a=>this._onInteraction(a,!0)),$.on(this._element,qg,a=>this._onInteraction(a,!1)),$.on(this._element,Wg,a=>this._onInteraction(a,!0)),$.on(this._element,Gg,a=>this._onInteraction(a,!1))}_clearTimeout(){clearTimeout(this._timeout),this._timeout=null}static jQueryInterface(a){return this.each(function(){const d=js.getOrCreateInstance(this,a);if(typeof a=="string"){if(d[a]===void 0)throw new TypeError(`No method named "${a}"`);d[a](this)}})}}return gt(js),L(js),{Alert:Qe,Button:Pt,Carousel:zn,Collapse:En,Dropdown:Ce,Modal:ri,Offcanvas:Xn,Popover:ra,ScrollSpy:$s,Tab:ai,Toast:js,Tooltip:ii}})}(Pa)),Pa.exports}I1();const A1=()=>{const[n,e]=be(!1),[t,r]=be({name:"",contactNo:"",mode:"",level:"",location:""}),i=h=>{const{name:f,value:E}=h.target;r(_=>({..._,[f]:E}))},s=()=>e(!0),l=()=>e(!1);return m("section",{className:"container-fluid my-5",style:{background:"#001524"},children:m("div",{className:"row justify-content-center g-4",children:[m("div",{className:"row ",children:m("div",{className:"col text-center pb-5",style:{fontFamily:"'Bodoni', serif",lineHeight:"3"},children:[m("h1",{className:"fw-bold text-uppercase",style:{color:"#3366cc",fontSize:"4rem",fontFamily:"'Bodoni', serif",letterSpacing:"1px"},children:"Chess Course Categories"}),m("p",{className:"lead text-light",style:{fontSize:"2rem"},children:"Choose a course that suits your level and goals. From the fundamentals to advanced tactics, we have something for everyone."})]})}),m("div",{className:"col-12 col-md-5 me-3 text-center position-relative p-4 rounded d-flex flex-column justify-content-center align-items-center",style:{height:"350px",background:"linear-gradient(45deg, rgba(255, 140, 0, 0.7), rgba(255, 165, 0, 0.5))",color:"#fff",transition:"transform 0.3s ease, box-shadow 0.3s ease"},children:[m("h2",{className:"text-light fw-bold text-uppercase mb-3",style:{fontSize:"3rem",letterSpacing:"2px"},children:"Beginner"}),m("p",{className:"text-light mb-4",style:{fontSize:"1.5rem",maxWidth:"600px"},children:"Start your chess journey by mastering basic moves and strategies."}),m("button",{className:"btn btn-outline-light",style:{fontSize:"1.3rem",padding:"10px 30px",borderRadius:"30px"},onClick:s,children:"Book Now"})]}),m("div",{className:"col-12 col-md-5 ms-3 text-center position-relative p-4 rounded d-flex flex-column justify-content-center align-items-center",style:{height:"350px",background:"linear-gradient(45deg, rgba(0, 255, 255, 0.7), rgba(0, 204, 255, 0.5))",color:"#fff",transition:"transform 0.3s ease, box-shadow 0.3s ease"},children:[m("h2",{className:"text-light fw-bold text-uppercase mb-3",style:{fontSize:"3rem",letterSpacing:"2px"},children:"Intermediate"}),m("p",{className:"text-light mb-4",style:{fontSize:"1.5rem",maxWidth:"600px"},children:"Enhance your skills with a deeper understanding of tactics and strategies."}),m("button",{onClick:s,className:"btn btn-outline-light",style:{fontSize:"1.3rem",padding:"10px 30px",borderRadius:"30px"},children:"Book Now"})]}),m("div",{className:"col-12 col-md-5 me-3 text-center position-relative p-4 rounded d-flex flex-column justify-content-center align-items-center",style:{height:"350px",background:"linear-gradient(45deg, rgba(255, 0, 0, 0.7), rgba(204, 0, 0, 0.5))",color:"#fff",transition:"transform 0.3s ease, box-shadow 0.3s ease"},children:[m("h2",{className:"text-light fw-bold text-uppercase mb-3",style:{fontSize:"3rem",letterSpacing:"2px"},children:"Advanced"}),m("p",{className:"text-light mb-4",style:{fontSize:"1.5rem",maxWidth:"600px"},children:"Refine your skills and learn advanced strategies to master the game."}),m("button",{onClick:s,className:"btn btn-outline-light",style:{fontSize:"1.3rem",padding:"10px 30px",borderRadius:"30px"},children:"Book Now"})]}),m("div",{className:"col-12 col-md-5 ms-3 text-center position-relative p-4 rounded d-flex flex-column justify-content-center align-items-center",style:{height:"350px",background:"linear-gradient(45deg, rgba(255, 215, 0, 0.7), rgba(255, 193, 0, 0.5))",color:"#fff",transition:"transform 0.3s ease, box-shadow 0.3s ease"},children:[m("h2",{className:"text-light fw-bold text-uppercase mb-3",style:{fontSize:"3rem",letterSpacing:"2px"},children:"Master"}),m("p",{className:"text-light mb-4",style:{fontSize:"1.5rem",maxWidth:"600px"},children:"Master deep strategies and improve your decision-making for competitive play."}),m("button",{onClick:s,className:"btn btn-outline-light",style:{fontSize:"1.3rem",padding:"10px 30px",borderRadius:"30px"},children:"Book Now"})]}),m("div",{className:"col-12 col-md-5 text-center position-relative p-4 rounded d-flex flex-column justify-content-center align-items-center",style:{height:"350px",background:"linear-gradient(45deg, rgba(128, 0, 128, 0.7), rgba(75, 0, 130, 0.5))",color:"#fff",transition:"transform 0.3s ease, box-shadow 0.3s ease"},children:[m("h2",{className:"text-light fw-bold text-uppercase mb-3",style:{fontSize:"3rem",letterSpacing:"2px"},children:"Grandmaster"}),m("p",{className:"text-light mb-4",style:{fontSize:"1.5rem",maxWidth:"600px"},children:"Achieve the pinnacle of chess mastery and compete at the highest level of play."}),m("button",{onClick:s,className:"btn btn-outline-light",style:{fontSize:"1.3rem",padding:"10px 30px",borderRadius:"30px"},children:"Book Now"})]}),n&&m("div",{className:"modal show d-block align-content-center",tabIndex:"-1",style:{backgroundColor:"rgba(0, 0, 0, 0.5)"},children:m("div",{className:"modal-dialog",children:m("div",{className:"modal-content",style:{padding:"30px 45px"},children:[m("div",{className:"modal-header",children:[m("div",{children:[m("h5",{className:"modal-title fw-bold",style:{fontSize:"2rem"},children:"Book Now"}),m("p",{style:{fontSize:"1.5rem"},children:"Please fill the below details."})]}),m("button",{style:{fontSize:"1.4rem",padding:"8px",letterSpacing:1},type:"button",className:"btn-close",onClick:l})]}),m("div",{className:"modal-body",children:m("form",{onSubmit:h=>{h.preventDefault(),l(),h.target.reset(),console.log("Submitting Form Data:",t);const{name:f,contactNo:E,mode:_,level:I,location:C}=t;if(!f||!E||!_||!I||!C){alert("Please fill in all fields before submitting.");return}const k=`Name: ${t.name}
Contact No: ${E}
Mode: ${_}
Level: ${I}
Location: ${C}`,D=`https://wa.me/918124482421?text=${encodeURIComponent(k)}`;window.open(D,"_blank"),r({name:"",contactNo:"",mode:"",level:"",location:""})},children:[m("div",{className:"mb-3",children:[m("label",{htmlFor:"name",className:"form-label",style:{fontSize:"1.5rem"},children:"Name"}),m("input",{value:t.name,onChange:i,type:"text",className:"form-control",id:"name",name:"name",placeholder:"Enter your name",required:!0,style:{fontSize:"12px",padding:"10px"}})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"contactNo",className:"form-label",style:{fontSize:"1.5rem"},children:"Contact Number"}),m("input",{value:t.contactNo,onChange:i,style:{fontSize:"12px",padding:"10px"},type:"tel",className:"form-control",id:"contactNo",name:"contactNo",placeholder:"Enter Your Number",required:!0})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"mode",className:"form-label",style:{fontSize:"1.5rem"},children:"Mode (Online/Offline)"}),m("select",{style:{fontSize:"12px",padding:"10px"},className:"form-select",id:"mode",name:"mode",required:!0,value:t.mode,onChange:i,children:[m("option",{value:"",disabled:!0,selected:!0,style:{fontSize:"12px",padding:"10px"},children:"Choose mode"}),m("option",{value:"online",children:"Online"}),m("option",{value:"offline",children:"Offline"})]})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"level",className:"form-label",style:{fontSize:"1.5rem"},children:"Choose a Level"}),m("select",{className:"form-select",id:"level",name:"level",required:!0,style:{fontSize:"12px",padding:"10px"},value:t.level,onChange:i,children:[m("option",{value:"",disabled:!0,selected:!0,children:"Choose level"}),m("option",{value:"beginner",children:"Beginner"}),m("option",{value:"intermediate",children:"Intermediate"}),m("option",{value:"advanced",children:"Advanced"}),m("option",{value:"master",children:"Master"}),m("option",{value:"grandmaster",children:"Grandmaster"})]})]}),m("div",{className:"mb-5",children:[m("label",{htmlFor:"location",className:"form-label",style:{fontSize:"1.5rem"},children:"Location"}),m("input",{value:t.location,onChange:i,type:"text",className:"form-control",id:"location",name:"location",placeholder:"Enter your location",required:!0,style:{fontSize:"12px",padding:"10px"}})]}),m("div",{className:"d-flex justify-content-between",children:[m("button",{type:"button",className:"btn btn-secondary rounded-5",onClick:l,style:{fontSize:"1.4rem",padding:"8px",letterSpacing:1},children:"Cancel"}),m("button",{type:"submit",className:"btn btn-primary rounded-5",style:{fontSize:"1.4rem",padding:"6px 15px",letterSpacing:1},children:"Submit"})]})]})})]})})})]})})},qm=xn.createContext();function Wm(){return ye(qm)}function S1({children:n}){const[e,t]=be(null),[r,i]=be(!1),[s,l]=be(!1),[c,h]=be(!1),[f,E]=be(!0);Dn(()=>c0(ps,_),[]);async function _(C){if(C){t({...C});const k=C.providerData.some(F=>F.providerId==="password");l(k),i(!0)}else t(null),i(!1);E(!1)}const I={userLoggedIn:r,isEmailUser:s,isGoogleUser:c,currentUser:e,setCurrentUser:t};return m(qm.Provider,{value:I,children:!f&&n})}const C1=({onLogin:n})=>{const e=ol(),[t,r]=be(""),[i,s]=be(""),[l,c]=be(""),{user:h}=Wm(),f=I=>{I.preventDefault(),n(),e("/")},E=async I=>{I.preventDefault();const C=I.target.email.value.trim(),k=I.target.password.value.trim();if(!C||!k){alert("Email and password are required");return}try{await a1(C,k),console.log("Signed in with email:",C),n(),e("/")}catch(F){console.error("Error signing in:",F.message),c("Invalid email or password. Please try again.")}},_=async()=>{const I=new Yn;try{const k=(await N0(ps,I)).user;console.log("Signed in with Google:",k),n(),e("/")}catch(C){console.error("Google Sign-In failed:",C.message),c(C.message||"Google sign-in failed. Please try again.")}};return h?m(Wf,{to:"/home",replace:!0}):m("div",{className:"d-flex align-items-center justify-content-center vh-100 bg-light",children:m("div",{className:"card shadow rounded-4",style:{width:"40rem",padding:"6rem"},children:[m("h1",{className:"text-center mb-4 fw-bolder",children:"Login"}),m("form",{onSubmit:E,children:[m("div",{className:"mb-3",children:[m("label",{htmlFor:"email",className:"form-label",style:{fontSize:"1.5rem"},children:"Email"}),m("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter your email",required:!0,style:{fontSize:"12px",padding:"10px"},value:t,onChange:I=>r(I.target.value)})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"password",className:"form-label",style:{fontSize:"1.5rem"},children:"Password"}),m("input",{type:"password",className:"form-control mb-4",id:"password",placeholder:"Enter your password",required:!0,style:{fontSize:"12px",padding:"10px"},value:i,onChange:I=>s(I.target.value)})]}),l&&m("div",{className:"alert alert-danger text-center",role:"alert",children:l}),m("button",{type:"submit",className:"btn btn-primary w-100 mb-3 fw-bold",style:{fontSize:"1.4rem",padding:"8px",letterSpacing:1},onClick:f,children:"Login"}),m("div",{className:"text-center mt-3",children:m("p",{style:{fontSize:"1.2rem"},children:["Don't have an account?"," ",m(en,{onClick:()=>e("/register"),to:"/register",children:"Sign up"})]})})]}),m("div",{className:"text-center",children:"OR"}),m("button",{onClick:_,className:"btn btn-outline-danger w-100 mt-3",style:{fontSize:"1.4rem",padding:"5px",letterSpacing:1},children:"Continue with Google"})]})})},R1=()=>{const n=Wm(),e=(n==null?void 0:n.user)||null,[t,r]=be(""),[i,s]=be(""),[l,c]=be(""),[h,f]=be(""),[E,_]=be(!1),[I,C]=be(""),k=async F=>{if(F.preventDefault(),C(""),_(!0),!t||!i||!l||!h){C("All fields are required."),_(!1);return}if(l!==h){C("Passwords do not match."),_(!1);return}try{await o1(i,l),alert("Registration successful!"),_(!1)}catch(D){C(D.message||"Registration failed. Please try again."),_(!1)}};return e?m(Navigate,{to:"/home",replace:!0}):m("div",{className:"d-flex align-items-center justify-content-center vh-100 bg-light",children:m("div",{className:"card shadow rounded-4",style:{width:"40rem",padding:"5.5rem"},children:[m("h3",{className:"text-center mb-4 fw-bolder",children:"Sign Up"}),m("form",{onSubmit:k,children:[m("div",{className:"mb-3",children:[m("label",{htmlFor:"name",className:"form-label",style:{fontSize:"1.5rem"},children:"Full Name"}),m("input",{type:"text",className:"form-control",id:"name",placeholder:"Enter your full name",required:!0,style:{fontSize:"12px",padding:"10px"},onChange:F=>r(F.target.value)})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"email",className:"form-label",style:{fontSize:"1.5rem"},children:"Email Address"}),m("input",{type:"email",className:"form-control",id:"email",placeholder:"Enter your email",required:!0,style:{fontSize:"12px",padding:"10px"},onChange:F=>s(F.target.value)})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"password",className:"form-label",style:{fontSize:"1.5rem"},children:"Password"}),m("input",{type:"password",className:"form-control",id:"password",placeholder:"Create a password",required:!0,style:{fontSize:"12px",padding:"10px"},onChange:F=>c(F.target.value)})]}),m("div",{className:"mb-3",children:[m("label",{htmlFor:"confirmPassword",className:"form-label",style:{fontSize:"1.5rem"},children:"Confirm Password"}),m("input",{type:"password",className:"form-control mb-4",id:"confirmPassword",placeholder:"Confirm your password",required:!0,style:{fontSize:"12px",padding:"10px"},onChange:F=>f(F.target.value)})]}),I&&m("div",{className:"alert alert-danger text-center",role:"alert",children:I}),m("button",{type:"submit",className:"btn btn-primary w-100 mb-3",style:{fontSize:"1.4rem",padding:"8px",letterSpacing:1},disabled:E,children:E?"Registering...":"Sign Up"}),m("div",{className:"text-center mt-3",children:m("p",{style:{fontSize:"1.2rem"},children:["Already have an account? ",m(en,{to:"/login",children:"Log in"})]})})]})]})})},P1=()=>m("div",{children:"Events"});function N1(){const[n,e]=be(!1);return m("div",{children:[n&&m(c1,{}),m(Ay,{children:n?m(ut,{children:[m(kn,{path:"/",element:m(b1,{})}),m(kn,{path:"courses",element:m(Av,{})}),m(kn,{path:"events",element:m(P1,{})}),m(kn,{path:"/courses/:id",element:m(A1,{})}),m(kn,{path:"gallery",element:m(w1,{})}),m(kn,{path:"about",element:m(wv,{})})]}):m(ut,{children:[m(kn,{path:"/login",element:m(C1,{onLogin:()=>{e(!0)}})}),m(kn,{path:"/register",element:m(R1,{})}),m(kn,{path:"*",element:m(Wf,{to:"/login"})})]})}),n&&m(E1,{})]})}D_.createRoot(document.getElementById("app")).render(m(xn.StrictMode,{children:m(S1,{children:[" ",m(Qy,{future:{v7_relativeSplatPath:!0},children:m(N1,{})})]})}));
